2024-11-12 18:47:42,266 p=12094 u=vagrant n=ansible | PLAY [Deploy haproxy and keepalived] *******************************************
2024-11-12 18:47:42,286 p=12094 u=vagrant n=ansible | TASK [Gathering Facts] *********************************************************
2024-11-12 18:47:44,366 p=12094 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:47:44,606 p=12094 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:47:44,618 p=12094 u=vagrant n=ansible | TASK [Bootstrap node geth] *****************************************************
2024-11-12 18:47:44,647 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Include vars if file exists] ********************************
2024-11-12 18:47:44,682 p=12094 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/default.yml)
2024-11-12 18:47:44,684 p=12094 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/default.yml)
2024-11-12 18:47:44,684 p=12094 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/default.yml)
2024-11-12 18:47:44,687 p=12094 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/default.yml)
2024-11-12 18:47:44,687 p=12094 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 18:47:44,688 p=12094 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 18:47:44,694 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Check if the OS is Ubuntu] **********************************
2024-11-12 18:47:44,713 p=12094 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:47:44,720 p=12094 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:47:44,724 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Include Ubuntu tasks] ***************************************
2024-11-12 18:47:44,761 p=12094 u=vagrant n=ansible | included: /vagrant/files/ansible/playbooks/roles/haproxy_lb/tasks/linux/Ubuntu/main.yml for 192.168.57.11, 192.168.57.12
2024-11-12 18:47:44,767 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Update apt cache] *******************************************
2024-11-12 18:47:47,625 p=12094 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 18:47:47,754 p=12094 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 18:47:47,763 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Install packages] *******************************************
2024-11-12 18:47:50,053 p=12094 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:47:50,351 p=12094 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:47:50,362 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Template the HAProxy configuration file] ********************
2024-11-12 18:47:52,844 p=12094 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:47:52,923 p=12094 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:47:52,931 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Template the keepalive.d configuration file] ****************
2024-11-12 18:47:55,176 p=12094 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:47:55,302 p=12094 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:47:55,314 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Start haproxy] **********************************************
2024-11-12 18:47:57,339 p=12094 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 18:47:57,747 p=12094 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 18:47:57,758 p=12094 u=vagrant n=ansible | TASK [haproxy_lb : Start keepalive.d] ******************************************
2024-11-12 18:48:00,597 p=12094 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 18:48:00,693 p=12094 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 18:48:00,715 p=12094 u=vagrant n=ansible | PLAY RECAP *********************************************************************
2024-11-12 18:48:00,716 p=12094 u=vagrant n=ansible | 192.168.57.11              : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 18:48:00,717 p=12094 u=vagrant n=ansible | 192.168.57.12              : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 12:49:32,631 p=569396 u=blik n=ansible |  ______________________________________
< PLAY [Deploy haproxy and keepalived] >
 --------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:32,684 p=569396 u=blik n=ansible |  ________________________
< TASK [Gathering Facts] >
 ------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:35,329 p=569396 u=blik n=ansible | ok: [192.168.57.12]
2024-11-12 12:49:35,543 p=569396 u=blik n=ansible | ok: [192.168.57.11]
2024-11-12 12:49:35,581 p=569396 u=blik n=ansible |  ____________________________
< TASK [Bootstrap node geth] >
 ----------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:35,633 p=569396 u=blik n=ansible |  _________________________________________________
< TASK [haproxy_lb : Include vars if file exists] >
 -------------------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:35,656 p=569396 u=blik n=ansible | ok: [192.168.57.12] => (item=linux/default.yml)
2024-11-12 12:49:35,658 p=569396 u=blik n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/default.yml)
2024-11-12 12:49:35,659 p=569396 u=blik n=ansible | ok: [192.168.57.11] => (item=linux/default.yml)
2024-11-12 12:49:35,660 p=569396 u=blik n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 12:49:35,662 p=569396 u=blik n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/default.yml)
2024-11-12 12:49:35,663 p=569396 u=blik n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 12:49:35,690 p=569396 u=blik n=ansible |  _______________________________________________
< TASK [haproxy_lb : Check if the OS is Ubuntu] >
 -----------------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:35,708 p=569396 u=blik n=ansible | ok: [192.168.57.11]
2024-11-12 12:49:35,709 p=569396 u=blik n=ansible | ok: [192.168.57.12]
2024-11-12 12:49:35,732 p=569396 u=blik n=ansible |  __________________________________________
< TASK [haproxy_lb : Include Ubuntu tasks] >
 ------------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:35,770 p=569396 u=blik n=ansible | included: /home/blik/Desktop/k8s_devel/k8s_antzy_vagrant/files/ansible/playbooks/roles/haproxy_lb/tasks/linux/Ubuntu/main.yml for 192.168.57.11, 192.168.57.12
2024-11-12 12:49:35,789 p=569396 u=blik n=ansible |  ______________________________________
< TASK [haproxy_lb : Update apt cache] >
 --------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:38,827 p=569396 u=blik n=ansible | changed: [192.168.57.11]
2024-11-12 12:49:39,098 p=569396 u=blik n=ansible | changed: [192.168.57.12]
2024-11-12 12:49:39,134 p=569396 u=blik n=ansible |  ______________________________________
< TASK [haproxy_lb : Install packages] >
 --------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:41,505 p=569396 u=blik n=ansible | ok: [192.168.57.11]
2024-11-12 12:49:41,730 p=569396 u=blik n=ansible | ok: [192.168.57.12]
2024-11-12 12:49:41,764 p=569396 u=blik n=ansible |  _____________________________________________________________
< TASK [haproxy_lb : Template the HAProxy configuration file] >
 -------------------------------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:44,757 p=569396 u=blik n=ansible | ok: [192.168.57.11]
2024-11-12 12:49:44,921 p=569396 u=blik n=ansible | ok: [192.168.57.12]
2024-11-12 12:49:44,953 p=569396 u=blik n=ansible |  ___________________________________________________________
/ TASK [haproxy_lb : Template the keepalive.d configuration \
\ file]                                                     /
 -----------------------------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:47,649 p=569396 u=blik n=ansible | ok: [192.168.57.11]
2024-11-12 12:49:48,220 p=569396 u=blik n=ansible | ok: [192.168.57.12]
2024-11-12 12:49:48,261 p=569396 u=blik n=ansible |  ___________________________________
< TASK [haproxy_lb : Start haproxy] >
 -----------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:50,321 p=569396 u=blik n=ansible | changed: [192.168.57.11]
2024-11-12 12:49:50,608 p=569396 u=blik n=ansible | changed: [192.168.57.12]
2024-11-12 12:49:50,631 p=569396 u=blik n=ansible |  _______________________________________
< TASK [haproxy_lb : Start keepalive.d] >
 ---------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:53,636 p=569396 u=blik n=ansible | changed: [192.168.57.11]
2024-11-12 12:49:53,706 p=569396 u=blik n=ansible | changed: [192.168.57.12]
2024-11-12 12:49:53,742 p=569396 u=blik n=ansible |  ____________
< PLAY RECAP >
 ------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||


2024-11-12 12:49:53,742 p=569396 u=blik n=ansible | 192.168.57.11              : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 12:49:53,743 p=569396 u=blik n=ansible | 192.168.57.12              : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 18:56:03,894 p=12347 u=vagrant n=ansible | PLAY [Deploy haproxy and keepalived] *************************************************************************************************************************************************
2024-11-12 18:56:03,917 p=12347 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2024-11-12 18:56:05,981 p=12347 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:56:06,566 p=12347 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:56:06,575 p=12347 u=vagrant n=ansible | TASK [Bootstrap node geth] ***********************************************************************************************************************************************************
2024-11-12 18:56:06,616 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Include vars if file exists] **************************************************************************************************************************************
2024-11-12 18:56:06,647 p=12347 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/default.yml)
2024-11-12 18:56:06,648 p=12347 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/default.yml)
2024-11-12 18:56:06,651 p=12347 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/default.yml)
2024-11-12 18:56:06,652 p=12347 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 18:56:06,654 p=12347 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/default.yml)
2024-11-12 18:56:06,660 p=12347 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 18:56:06,664 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Check if the OS is Ubuntu] ****************************************************************************************************************************************
2024-11-12 18:56:06,682 p=12347 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:56:06,692 p=12347 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:56:06,697 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Include Ubuntu tasks] *********************************************************************************************************************************************
2024-11-12 18:56:06,738 p=12347 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/haproxy_lb/tasks/linux/Ubuntu/main.yml for 192.168.57.11, 192.168.57.12
2024-11-12 18:56:06,745 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Update apt cache] *************************************************************************************************************************************************
2024-11-12 18:56:09,553 p=12347 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 18:56:10,073 p=12347 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 18:56:10,088 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Install packages] *************************************************************************************************************************************************
2024-11-12 18:56:12,431 p=12347 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:56:12,648 p=12347 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:56:12,665 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Template the HAProxy configuration file] **************************************************************************************************************************
2024-11-12 18:56:15,272 p=12347 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:56:15,351 p=12347 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:56:15,360 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Template the keepalive.d configuration file] **********************************************************************************************************************
2024-11-12 18:56:17,721 p=12347 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 18:56:18,439 p=12347 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 18:56:18,456 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Start haproxy] ****************************************************************************************************************************************************
2024-11-12 18:56:20,404 p=12347 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 18:56:20,479 p=12347 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 18:56:20,495 p=12347 u=vagrant n=ansible | TASK [haproxy_lb : Start keepalive.d] ************************************************************************************************************************************************
2024-11-12 18:56:23,268 p=12347 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 18:56:23,831 p=12347 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 18:56:23,854 p=12347 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2024-11-12 18:56:23,855 p=12347 u=vagrant n=ansible | 192.168.57.11              : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 18:56:23,855 p=12347 u=vagrant n=ansible | 192.168.57.12              : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 18:57:12,983 p=12525 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************************************
2024-11-12 18:57:12,991 p=12525 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2024-11-12 18:57:15,300 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 18:57:15,319 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 18:57:15,328 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 18:57:15,347 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 18:57:15,354 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:17,891 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 18:57:17,912 p=12525 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************************************************
2024-11-12 18:57:17,943 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:17,951 p=12525 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************************************************
2024-11-12 18:57:17,962 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:57:17,989 p=12525 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************************************************
2024-11-12 18:57:17,995 p=12525 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2024-11-12 18:57:20,108 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:20,120 p=12525 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************************************************
2024-11-12 18:57:20,185 p=12525 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************************************
2024-11-12 18:57:20,210 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 18:57:20,213 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 18:57:20,215 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 18:57:20,221 p=12525 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************************************
2024-11-12 18:57:20,232 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:20,236 p=12525 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************************************
2024-11-12 18:57:20,257 p=12525 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 18:57:20,265 p=12525 u=vagrant n=ansible | TASK [k8s : Update apt cache] ********************************************************************************************************************************************************
2024-11-12 18:57:24,738 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:57:24,751 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************************************
2024-11-12 18:57:27,545 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:27,554 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************************************
2024-11-12 18:57:29,246 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:29,259 p=12525 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************************************
2024-11-12 18:57:31,251 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:57:31,267 p=12525 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************************************
2024-11-12 18:57:32,832 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:57:32,849 p=12525 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************************************
2024-11-12 18:57:36,001 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:57:36,016 p=12525 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************************************
2024-11-12 18:57:52,896 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:57:52,905 p=12525 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************************************
2024-11-12 18:57:54,512 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 18:57:56,198 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 18:57:57,783 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 18:57:57,795 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************************************
2024-11-12 18:57:59,373 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:57:59,386 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************************************
2024-11-12 18:58:00,884 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:58:00,895 p=12525 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************************************
2024-11-12 18:58:02,734 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:58:02,746 p=12525 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************************************
2024-11-12 18:58:05,698 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:58:05,712 p=12525 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************************************
2024-11-12 18:58:07,486 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 18:58:09,243 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 18:58:10,935 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 18:58:10,949 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************************************
2024-11-12 18:58:12,845 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:58:12,855 p=12525 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************************************
2024-11-12 18:58:12,873 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:58:12,877 p=12525 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************************************
2024-11-12 18:58:12,900 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:58:12,904 p=12525 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************************************
2024-11-12 18:58:12,924 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:58:12,929 p=12525 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************************************
2024-11-12 18:58:12,940 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 18:58:12,945 p=12525 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ********************************************************************************************************************************************
2024-11-12 18:58:12,956 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 18:58:12,960 p=12525 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************************************
2024-11-12 18:59:42,180 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:59:42,189 p=12525 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************************************
2024-11-12 18:59:43,763 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:59:43,773 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************************************
2024-11-12 18:59:45,416 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:59:45,425 p=12525 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************************************
2024-11-12 18:59:48,026 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 18:59:50,939 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 18:59:50,953 p=12525 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************************************
2024-11-12 18:59:53,909 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 18:59:53,924 p=12525 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************************************
2024-11-12 18:59:55,473 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:59:55,485 p=12525 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************************************
2024-11-12 18:59:55,511 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:59:55,520 p=12525 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************************************
2024-11-12 18:59:57,026 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:59:57,037 p=12525 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************************************
2024-11-12 18:59:57,060 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:59:57,064 p=12525 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************************************
2024-11-12 18:59:58,576 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:59:58,588 p=12525 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************************************
2024-11-12 18:59:58,608 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 18:59:58,616 p=12525 u=vagrant n=ansible | PLAY [Sync actions] ******************************************************************************************************************************************************************
2024-11-12 18:59:58,621 p=12525 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2024-11-12 19:00:00,332 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:00,736 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:00,740 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:00,849 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:00,853 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:03,029 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:03,054 p=12525 u=vagrant n=ansible | TASK [Sync facts] ********************************************************************************************************************************************************************
2024-11-12 19:00:03,134 p=12525 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************************************************
2024-11-12 19:00:03,182 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:00:03,199 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:03,201 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:03,216 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:03,223 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:03,256 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:03,265 p=12525 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************************************************
2024-11-12 19:00:03,329 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:00:03,385 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:03,390 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:03,393 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:03,397 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:03,399 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:03,403 p=12525 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************************************************
2024-11-12 19:00:03,421 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:00:03,471 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:03,487 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:03,489 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:03,499 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:03,504 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:03,514 p=12525 u=vagrant n=ansible | PLAY [Join to cluster] ***************************************************************************************************************************************************************
2024-11-12 19:00:03,519 p=12525 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2024-11-12 19:00:05,380 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:05,403 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:05,457 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:05,518 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:05,624 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:07,552 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:07,564 p=12525 u=vagrant n=ansible | TASK [Deploy k8s cluster] ************************************************************************************************************************************************************
2024-11-12 19:00:07,659 p=12525 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************************************
2024-11-12 19:00:07,697 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:00:07,698 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:00:07,698 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:00:07,747 p=12525 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 19:00:07,748 p=12525 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:00:07,753 p=12525 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/default.yml)
2024-11-12 19:00:07,754 p=12525 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:00:07,755 p=12525 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:00:07,756 p=12525 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/default.yml)
2024-11-12 19:00:07,756 p=12525 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:00:07,757 p=12525 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:00:07,757 p=12525 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:00:07,761 p=12525 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/default.yml)
2024-11-12 19:00:07,765 p=12525 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:00:07,774 p=12525 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:00:07,779 p=12525 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/default.yml)
2024-11-12 19:00:07,785 p=12525 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:00:07,790 p=12525 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:00:07,796 p=12525 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************************************
2024-11-12 19:00:07,823 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:07,837 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:07,849 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:07,850 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:07,852 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:07,862 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:07,871 p=12525 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************************************
2024-11-12 19:00:07,959 p=12525 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13, 192.168.57.14, 192.168.57.15, 192.168.57.16, 192.168.57.17, 192.168.57.18
2024-11-12 19:00:07,990 p=12525 u=vagrant n=ansible | TASK [k8s : Update apt cache] ********************************************************************************************************************************************************
2024-11-12 19:00:17,233 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:00:17,832 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:00:18,067 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:00:18,371 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:00:18,724 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:00:22,338 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:00:22,357 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************************************
2024-11-12 19:00:25,817 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:25,954 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:25,994 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:26,000 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:26,029 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:29,362 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:29,373 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************************************
2024-11-12 19:00:30,756 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:00:30,947 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:30,969 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:00:31,018 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:00:31,019 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:00:32,740 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:00:32,754 p=12525 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************************************
2024-11-12 19:00:34,368 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:00:34,372 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:00:34,533 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:34,537 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:00:34,539 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:00:36,523 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:00:36,534 p=12525 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************************************
2024-11-12 19:00:37,912 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:00:37,932 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:00:38,023 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:00:38,050 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:00:38,055 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:39,689 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:00:39,698 p=12525 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************************************
2024-11-12 19:00:42,622 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:00:42,643 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:00:42,773 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:00:42,866 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:00:43,076 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:00:45,809 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:00:45,820 p=12525 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************************************
2024-11-12 19:00:49,721 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:01:18,966 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:01:19,530 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:01:19,827 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:01:20,780 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:01:25,385 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:01:25,396 p=12525 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************************************
2024-11-12 19:01:29,708 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubelet)
2024-11-12 19:01:29,709 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:01:29,710 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 19:01:29,710 p=12525 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubelet)
2024-11-12 19:01:29,711 p=12525 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubelet)
2024-11-12 19:01:29,718 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 19:01:29,719 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubeadm)
2024-11-12 19:01:29,720 p=12525 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubeadm)
2024-11-12 19:01:29,720 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:01:29,721 p=12525 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubeadm)
2024-11-12 19:01:29,721 p=12525 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubectl)
2024-11-12 19:01:29,722 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 19:01:29,789 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubectl)
2024-11-12 19:01:29,931 p=12525 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:01:29,948 p=12525 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubectl)
2024-11-12 19:01:31,544 p=12525 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubelet)
2024-11-12 19:01:33,016 p=12525 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubeadm)
2024-11-12 19:01:34,763 p=12525 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubectl)
2024-11-12 19:01:34,774 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************************************
2024-11-12 19:01:36,134 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:01:36,226 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:01:36,240 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:01:36,343 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:01:36,592 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:01:37,676 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:01:37,686 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************************************
2024-11-12 19:01:38,964 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:01:39,063 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:01:39,068 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:01:39,101 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:01:39,103 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:01:40,545 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:01:40,558 p=12525 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************************************
2024-11-12 19:01:42,035 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:01:42,037 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:01:42,037 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:01:42,038 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:01:42,044 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:01:43,655 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:01:43,668 p=12525 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************************************
2024-11-12 19:01:45,890 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:01:46,099 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:01:46,119 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:01:46,165 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:01:46,336 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:01:48,758 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:01:48,769 p=12525 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************************************
2024-11-12 19:01:52,663 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:01:52,665 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:01:52,665 p=12525 u=vagrant n=ansible | changed: [192.168.57.16] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:01:52,667 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:01:52,667 p=12525 u=vagrant n=ansible | changed: [192.168.57.17] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:01:52,668 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:01:52,669 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:01:52,669 p=12525 u=vagrant n=ansible | changed: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:01:52,670 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:01:52,670 p=12525 u=vagrant n=ansible | changed: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:01:52,671 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:01:52,905 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:01:52,919 p=12525 u=vagrant n=ansible | changed: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:01:52,955 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:01:53,059 p=12525 u=vagrant n=ansible | changed: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:01:54,351 p=12525 u=vagrant n=ansible | changed: [192.168.57.18] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:01:55,924 p=12525 u=vagrant n=ansible | changed: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:01:57,418 p=12525 u=vagrant n=ansible | changed: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:01:57,431 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************************************
2024-11-12 19:01:58,907 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:01:58,919 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:01:58,992 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:01:59,004 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:01:59,103 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:02:00,560 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:02:00,572 p=12525 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************************************
2024-11-12 19:02:00,676 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:02:00,677 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:02:00,678 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:02:00,696 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:02:00,700 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:02:00,744 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:02:00,753 p=12525 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************************************
2024-11-12 19:02:00,886 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:02:00,910 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:02:00,914 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:02:00,932 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:02:00,938 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:02:00,942 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:02:00,947 p=12525 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************************************
2024-11-12 19:02:00,980 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:02:00,999 p=12525 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:02:01,007 p=12525 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:02:01,008 p=12525 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:02:01,016 p=12525 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:02:01,024 p=12525 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:02:01,029 p=12525 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************************************
2024-11-12 19:02:01,090 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:01,106 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:01,120 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:02,643 p=12525 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:02:25,813 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:02:29,147 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:02:29,162 p=12525 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ********************************************************************************************************************************************
2024-11-12 19:02:29,181 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:02:29,194 p=12525 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:02:29,208 p=12525 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:02:32,380 p=12525 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:02:32,398 p=12525 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:02:32,456 p=12525 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:02:32,465 p=12525 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************************************
2024-11-12 19:02:32,497 p=12525 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:02:32,516 p=12525 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:02:32,533 p=12525 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:02:32,543 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:32,544 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:32,555 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:32,562 p=12525 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************************************
2024-11-12 19:02:32,643 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:32,651 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:32,660 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:33,951 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:02:34,011 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:02:34,027 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:02:34,036 p=12525 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************************************
2024-11-12 19:02:34,125 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:34,132 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:34,144 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:35,374 p=12525 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:02:35,512 p=12525 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:02:35,562 p=12525 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:02:35,571 p=12525 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************************************
2024-11-12 19:02:35,675 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml) 
2024-11-12 19:02:35,676 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml) 
2024-11-12 19:02:35,695 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml) 
2024-11-12 19:02:35,696 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml) 
2024-11-12 19:02:35,712 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml) 
2024-11-12 19:02:35,716 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml) 
2024-11-12 19:02:38,081 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:02:38,147 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:02:38,249 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:02:40,277 p=12525 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:02:40,465 p=12525 u=vagrant n=ansible | changed: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:02:40,845 p=12525 u=vagrant n=ansible | changed: [192.168.57.15] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:02:40,859 p=12525 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************************************
2024-11-12 19:02:40,891 p=12525 u=vagrant n=ansible | fatal: [192.168.57.13]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:02:40,904 p=12525 u=vagrant n=ansible | fatal: [192.168.57.14]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:02:40,916 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:40,929 p=12525 u=vagrant n=ansible | fatal: [192.168.57.15]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:02:40,931 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:40,936 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:40,943 p=12525 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************************************
2024-11-12 19:02:40,954 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:40,963 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:40,972 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:40,977 p=12525 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************************************
2024-11-12 19:02:41,007 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:41,008 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:41,013 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:41,021 p=12525 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************************************
2024-11-12 19:02:41,037 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:41,046 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:41,053 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:41,063 p=12525 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************************************
2024-11-12 19:02:41,078 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:41,088 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:41,097 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:41,104 p=12525 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************************************
2024-11-12 19:02:41,120 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:41,134 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:41,143 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:41,153 p=12525 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************************************
2024-11-12 19:02:41,208 p=12525 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:02:41,255 p=12525 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:02:41,256 p=12525 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:02:41,268 p=12525 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2024-11-12 19:02:41,268 p=12525 u=vagrant n=ansible | 192.168.57.13              : ok=61   changed=19   unreachable=1    failed=0    skipped=7    rescued=0    ignored=0   
2024-11-12 19:02:41,269 p=12525 u=vagrant n=ansible | 192.168.57.14              : ok=30   changed=14   unreachable=1    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 19:02:41,270 p=12525 u=vagrant n=ansible | 192.168.57.15              : ok=30   changed=14   unreachable=1    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 19:02:41,270 p=12525 u=vagrant n=ansible | 192.168.57.16              : ok=27   changed=11   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2024-11-12 19:02:41,271 p=12525 u=vagrant n=ansible | 192.168.57.17              : ok=27   changed=11   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2024-11-12 19:02:41,271 p=12525 u=vagrant n=ansible | 192.168.57.18              : ok=27   changed=11   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2024-11-12 19:03:07,268 p=14552 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************
2024-11-12 19:03:07,293 p=14552 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-12 19:03:07,332 p=14552 u=vagrant n=ansible | fatal: [192.168.57.13]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:03:07,347 p=14552 u=vagrant n=ansible | fatal: [192.168.57.14]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:03:07,361 p=14552 u=vagrant n=ansible | fatal: [192.168.57.15]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:03:07,376 p=14552 u=vagrant n=ansible | fatal: [192.168.57.16]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:03:07,377 p=14552 u=vagrant n=ansible | fatal: [192.168.57.17]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:03:07,389 p=14552 u=vagrant n=ansible | fatal: [192.168.57.18]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: /home/vagrant/.ssh/config line 5: no argument after keyword \"eof\"\r\n/home/vagrant/.ssh/config: terminating, 1 bad configuration options", "unreachable": true}
2024-11-12 19:03:07,392 p=14552 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2024-11-12 19:03:07,392 p=14552 u=vagrant n=ansible | 192.168.57.13              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:03:07,393 p=14552 u=vagrant n=ansible | 192.168.57.14              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:03:07,393 p=14552 u=vagrant n=ansible | 192.168.57.15              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:03:07,393 p=14552 u=vagrant n=ansible | 192.168.57.16              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:03:07,394 p=14552 u=vagrant n=ansible | 192.168.57.17              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:03:07,394 p=14552 u=vagrant n=ansible | 192.168.57.18              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:03:38,899 p=14580 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************
2024-11-12 19:03:38,913 p=14580 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-12 19:03:41,403 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:03:41,427 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:03:41,470 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:03:41,472 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:41,505 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:03:44,012 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:03:44,027 p=14580 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************************
2024-11-12 19:03:44,075 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:44,082 p=14580 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************************
2024-11-12 19:03:44,096 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:03:44,114 p=14580 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************************
2024-11-12 19:03:44,121 p=14580 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-12 19:03:46,007 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:46,022 p=14580 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************************
2024-11-12 19:03:46,090 p=14580 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-12 19:03:46,114 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:03:46,120 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:03:46,123 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:03:46,133 p=14580 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-12 19:03:46,152 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:46,158 p=14580 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-12 19:03:46,208 p=14580 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 19:03:46,219 p=14580 u=vagrant n=ansible | TASK [k8s : Update apt cache] ********************************************************************************************************************************
2024-11-12 19:03:51,091 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:03:51,103 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-12 19:03:54,342 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:54,353 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-12 19:03:55,902 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:55,911 p=14580 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-12 19:03:57,757 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:57,770 p=14580 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-12 19:03:59,292 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:03:59,306 p=14580 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-12 19:04:02,067 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:02,077 p=14580 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-12 19:04:05,195 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:05,205 p=14580 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-12 19:04:06,799 p=14580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:04:08,367 p=14580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:04:09,907 p=14580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:04:09,920 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-12 19:04:11,349 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:11,358 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-12 19:04:12,953 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:12,965 p=14580 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-12 19:04:14,722 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:14,732 p=14580 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-12 19:04:17,179 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:17,190 p=14580 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-12 19:04:18,908 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:04:20,418 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:04:21,939 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:04:21,948 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-12 19:04:23,858 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:23,868 p=14580 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-12 19:04:23,898 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:23,907 p=14580 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-12 19:04:23,934 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:23,943 p=14580 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-12 19:04:23,972 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:23,981 p=14580 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-12 19:04:25,698 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:04:25,706 p=14580 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ********************************************************************************************************************
2024-11-12 19:04:25,722 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:25,727 p=14580 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************
2024-11-12 19:04:25,750 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:25,757 p=14580 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************
2024-11-12 19:04:27,266 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:27,275 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************
2024-11-12 19:04:28,720 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:28,733 p=14580 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************
2024-11-12 19:04:31,572 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:04:34,327 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:04:34,335 p=14580 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************
2024-11-12 19:04:38,104 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:04:38,114 p=14580 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************
2024-11-12 19:04:38,129 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:38,141 p=14580 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************
2024-11-12 19:04:38,157 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:38,167 p=14580 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************
2024-11-12 19:04:38,184 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:38,192 p=14580 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************
2024-11-12 19:04:38,213 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:38,221 p=14580 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************
2024-11-12 19:04:38,233 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:38,242 p=14580 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************
2024-11-12 19:04:38,255 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:38,266 p=14580 u=vagrant n=ansible | PLAY [Sync actions] ******************************************************************************************************************************************
2024-11-12 19:04:38,277 p=14580 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-12 19:04:40,659 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:04:40,722 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:04:40,802 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:04:40,903 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:04:41,024 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:43,064 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:04:43,082 p=14580 u=vagrant n=ansible | TASK [Sync facts] ********************************************************************************************************************************************
2024-11-12 19:04:43,209 p=14580 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************************
2024-11-12 19:04:43,256 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:43,288 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:04:43,292 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:04:43,293 p=14580 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:04:43,300 p=14580 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:04:43,305 p=14580 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:04:43,315 p=14580 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************************
2024-11-12 19:04:43,345 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:43,372 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:04:43,385 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:04:43,405 p=14580 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:04:43,411 p=14580 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:04:43,412 p=14580 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:04:43,421 p=14580 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************************
2024-11-12 19:04:43,472 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:04:43,502 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:04:43,503 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:04:43,504 p=14580 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:04:43,504 p=14580 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:04:43,518 p=14580 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:04:43,530 p=14580 u=vagrant n=ansible | PLAY [Join to cluster] ***************************************************************************************************************************************
2024-11-12 19:04:43,537 p=14580 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-12 19:04:45,446 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:04:45,569 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:04:45,604 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:04:45,617 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:04:45,739 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:47,388 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:04:47,401 p=14580 u=vagrant n=ansible | TASK [Deploy k8s cluster] ************************************************************************************************************************************
2024-11-12 19:04:47,501 p=14580 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-12 19:04:47,572 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:04:47,573 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:04:47,574 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 19:04:47,574 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:04:47,575 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:04:47,579 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:04:47,579 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/default.yml)
2024-11-12 19:04:47,583 p=14580 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/default.yml)
2024-11-12 19:04:47,584 p=14580 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/default.yml)
2024-11-12 19:04:47,588 p=14580 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:04:47,591 p=14580 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:04:47,591 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:04:47,594 p=14580 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:04:47,599 p=14580 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:04:47,605 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:04:47,613 p=14580 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/default.yml)
2024-11-12 19:04:47,619 p=14580 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:04:47,623 p=14580 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:04:47,630 p=14580 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-12 19:04:47,664 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:04:47,682 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:04:47,695 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:04:47,696 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:04:47,696 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:04:47,708 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:04:47,719 p=14580 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-12 19:04:47,819 p=14580 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13, 192.168.57.14, 192.168.57.15, 192.168.57.17, 192.168.57.16, 192.168.57.18
2024-11-12 19:04:47,852 p=14580 u=vagrant n=ansible | TASK [k8s : Update apt cache] ********************************************************************************************************************************
2024-11-12 19:04:54,313 p=14580 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:04:54,381 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:04:54,588 p=14580 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:04:54,810 p=14580 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:04:54,981 p=14580 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:04:59,055 p=14580 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:04:59,065 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-12 19:05:03,594 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:03,652 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:03,676 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:03,735 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:03,855 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:06,866 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:06,877 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-12 19:05:08,380 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:08,435 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:08,527 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:08,529 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:08,542 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:09,980 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:09,993 p=14580 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-12 19:05:11,708 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:11,760 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:11,835 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:11,836 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:11,847 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:13,504 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:13,514 p=14580 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-12 19:05:14,960 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:14,962 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:14,963 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:14,965 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:14,975 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:16,560 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:16,570 p=14580 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-12 19:05:18,838 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:18,947 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:19,005 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:19,027 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:19,032 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:21,327 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:21,339 p=14580 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-12 19:05:25,813 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:26,071 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:26,095 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:26,107 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:26,243 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:29,118 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:29,130 p=14580 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-12 19:05:33,632 p=14580 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 19:05:33,633 p=14580 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubelet)
2024-11-12 19:05:33,634 p=14580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:05:33,635 p=14580 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubelet)
2024-11-12 19:05:33,635 p=14580 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubelet)
2024-11-12 19:05:33,636 p=14580 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubeadm)
2024-11-12 19:05:33,636 p=14580 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 19:05:33,636 p=14580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:05:33,637 p=14580 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubeadm)
2024-11-12 19:05:33,637 p=14580 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubeadm)
2024-11-12 19:05:33,638 p=14580 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubectl)
2024-11-12 19:05:33,647 p=14580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:05:33,663 p=14580 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 19:05:33,746 p=14580 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubectl)
2024-11-12 19:05:33,883 p=14580 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubectl)
2024-11-12 19:05:35,162 p=14580 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubelet)
2024-11-12 19:05:36,659 p=14580 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubeadm)
2024-11-12 19:05:38,188 p=14580 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubectl)
2024-11-12 19:05:38,203 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-12 19:05:39,592 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:39,626 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:39,651 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:39,689 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:39,703 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:41,261 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:41,274 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-12 19:05:43,137 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:43,166 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:43,253 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:43,286 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:43,313 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:44,765 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:44,775 p=14580 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-12 19:05:46,173 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:46,276 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:46,286 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:46,287 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:46,302 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:47,732 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:47,744 p=14580 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-12 19:05:50,045 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:05:50,147 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:05:50,183 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:05:50,236 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:05:50,378 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:05:52,319 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:05:52,329 p=14580 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-12 19:05:57,101 p=14580 u=vagrant n=ansible | ok: [192.168.57.17] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:05:57,102 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:05:57,103 p=14580 u=vagrant n=ansible | ok: [192.168.57.16] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:05:57,104 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:05:57,104 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:05:57,105 p=14580 u=vagrant n=ansible | ok: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:05:57,106 p=14580 u=vagrant n=ansible | ok: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:05:57,106 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:05:57,107 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:05:57,108 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:05:57,108 p=14580 u=vagrant n=ansible | ok: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:05:57,109 p=14580 u=vagrant n=ansible | ok: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:05:57,125 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:05:57,235 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:05:57,263 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:05:58,773 p=14580 u=vagrant n=ansible | ok: [192.168.57.18] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:06:00,403 p=14580 u=vagrant n=ansible | ok: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:06:01,901 p=14580 u=vagrant n=ansible | ok: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:06:01,913 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-12 19:06:03,545 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:06:03,553 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:06:03,579 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:06:03,627 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:06:03,631 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:06:05,230 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:06:05,241 p=14580 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-12 19:06:05,344 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:06:05,350 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:06:05,363 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:06:05,382 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:06:05,386 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:06:05,396 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:06:05,404 p=14580 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-12 19:06:05,473 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:06:05,511 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:06:05,519 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:06:05,521 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:06:05,546 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:06:05,550 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:06:05,557 p=14580 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-12 19:06:05,585 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:06:05,602 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:06:05,618 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:06:05,638 p=14580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:06:05,639 p=14580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:06:05,644 p=14580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:06:05,650 p=14580 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-12 19:06:05,718 p=14580 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:06:05,722 p=14580 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:06:05,739 p=14580 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:06:07,337 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:06:07,392 p=14580 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:06:07,402 p=14580 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:06:07,414 p=14580 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ********************************************************************************************************************
2024-11-12 19:06:07,433 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:07,446 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:07,461 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:09,216 p=14580 u=vagrant n=ansible | fatal: [192.168.57.17]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --token abcdef.0123456789abcdef\\\n    --discovery-token-ca-cert-hash sha256:a69ce366af846bc6dbb60c799578d7aeddfdc11a8d6bc9e559accb5cf2420bdc\n", "delta": "0:00:00.409524", "end": "2024-11-12 19:06:09.243062", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:06:08.833538", "stderr": "E1112 19:06:09.003466   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.005371   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.006955   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.008441   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.009916   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nerror execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:06:09.003466   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.005371   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.006955   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.008441   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.009916   32134 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks", "stdout_lines": ["[preflight] Running pre-flight checks"]}
2024-11-12 19:06:09,228 p=14580 u=vagrant n=ansible | fatal: [192.168.57.16]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --token abcdef.0123456789abcdef\\\n    --discovery-token-ca-cert-hash sha256:a69ce366af846bc6dbb60c799578d7aeddfdc11a8d6bc9e559accb5cf2420bdc\n", "delta": "0:00:00.411418", "end": "2024-11-12 19:06:09.374387", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:06:08.962969", "stderr": "E1112 19:06:09.141308   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.143253   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.145060   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.146836   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.148468   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nerror execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:06:09.141308   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.143253   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.145060   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.146836   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.148468   31506 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks", "stdout_lines": ["[preflight] Running pre-flight checks"]}
2024-11-12 19:06:09,452 p=14580 u=vagrant n=ansible | fatal: [192.168.57.18]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --token abcdef.0123456789abcdef\\\n    --discovery-token-ca-cert-hash sha256:a69ce366af846bc6dbb60c799578d7aeddfdc11a8d6bc9e559accb5cf2420bdc\n", "delta": "0:00:00.467256", "end": "2024-11-12 19:06:09.316371", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:06:08.849115", "stderr": "E1112 19:06:09.012770   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.014668   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.016473   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.020007   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:06:09.022749   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nerror execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:06:09.012770   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.014668   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.016473   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.020007   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:06:09.022749   34260 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks", "stdout_lines": ["[preflight] Running pre-flight checks"]}
2024-11-12 19:06:09,465 p=14580 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************
2024-11-12 19:06:09,493 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:09,503 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:09,503 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:09,508 p=14580 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************
2024-11-12 19:06:10,928 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:06:10,971 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:06:10,988 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:06:10,998 p=14580 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************
2024-11-12 19:06:12,377 p=14580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:06:12,438 p=14580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:06:12,458 p=14580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:06:12,472 p=14580 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************
2024-11-12 19:06:14,786 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:06:14,988 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:06:15,023 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:06:17,251 p=14580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:06:17,321 p=14580 u=vagrant n=ansible | ok: [192.168.57.15] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:06:17,433 p=14580 u=vagrant n=ansible | ok: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:06:17,444 p=14580 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************
2024-11-12 19:06:21,684 p=14580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:06:21,811 p=14580 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:06:21,909 p=14580 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:06:21,920 p=14580 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************
2024-11-12 19:06:21,955 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:21,956 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:21,963 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:21,969 p=14580 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************
2024-11-12 19:06:21,981 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:21,991 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:21,999 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:22,005 p=14580 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************
2024-11-12 19:06:22,018 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:22,028 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:22,038 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:22,049 p=14580 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************
2024-11-12 19:06:22,074 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:22,083 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:22,086 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:22,092 p=14580 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************
2024-11-12 19:06:22,105 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:22,115 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:22,123 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:22,129 p=14580 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************
2024-11-12 19:06:22,143 p=14580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:06:22,156 p=14580 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 19:06:22,162 p=14580 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-12 19:06:22,177 p=14580 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2024-11-12 19:06:22,177 p=14580 u=vagrant n=ansible | 192.168.57.13              : ok=56   changed=9    unreachable=0    failed=0    skipped=19   rescued=0    ignored=0   
2024-11-12 19:06:22,178 p=14580 u=vagrant n=ansible | 192.168.57.14              : ok=28   changed=4    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2024-11-12 19:06:22,178 p=14580 u=vagrant n=ansible | 192.168.57.15              : ok=28   changed=4    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2024-11-12 19:06:22,178 p=14580 u=vagrant n=ansible | 192.168.57.16              : ok=23   changed=2    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2024-11-12 19:06:22,178 p=14580 u=vagrant n=ansible | 192.168.57.17              : ok=23   changed=2    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2024-11-12 19:06:22,178 p=14580 u=vagrant n=ansible | 192.168.57.18              : ok=23   changed=2    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2024-11-12 19:19:54,375 p=16499 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 19:19:54,392 p=16499 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:19:57,224 p=16499 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:19:57,241 p=16499 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 19:19:57,258 p=16499 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:19:57,269 p=16499 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 19:19:57,281 p=16499 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:19:57,292 p=16499 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 19:19:57,296 p=16499 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:19:58,040 p=16499 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 19:20:02,080 p=16524 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 19:20:02,088 p=16524 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:20:04,276 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:04,298 p=16524 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 19:20:04,325 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:04,335 p=16524 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 19:20:04,350 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:04,363 p=16524 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 19:20:04,367 p=16524 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:20:06,719 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:06,729 p=16524 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 19:20:06,773 p=16524 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 19:20:06,789 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:20:06,792 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:20:06,797 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:20:06,801 p=16524 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 19:20:06,828 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:06,833 p=16524 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 19:20:06,865 p=16524 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 19:20:06,873 p=16524 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 19:20:10,023 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:10,040 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 19:20:13,528 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:13,538 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 19:20:15,076 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:15,090 p=16524 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 19:20:17,031 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:17,043 p=16524 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 19:20:18,879 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:18,897 p=16524 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 19:20:22,168 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:22,186 p=16524 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 19:20:40,009 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:40,018 p=16524 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 19:20:41,854 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:20:43,443 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:20:45,084 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:20:45,096 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 19:20:46,535 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:46,547 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 19:20:48,304 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:48,317 p=16524 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 19:20:49,879 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:49,891 p=16524 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 19:20:52,636 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:52,649 p=16524 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 19:20:54,318 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:20:56,105 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:20:57,673 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:20:57,688 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 19:20:59,584 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:20:59,597 p=16524 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 19:20:59,620 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:59,628 p=16524 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 19:20:59,646 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:59,660 p=16524 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 19:20:59,678 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:20:59,687 p=16524 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 19:20:59,699 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:20:59,706 p=16524 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 19:20:59,717 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:20:59,724 p=16524 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 19:22:24,144 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:22:24,159 p=16524 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 19:22:25,831 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:22:25,839 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 19:22:27,499 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:22:27,513 p=16524 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 19:22:30,240 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:22:32,863 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:22:32,876 p=16524 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 19:22:35,721 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:22:35,734 p=16524 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] ***********************************************************************************************************************************************************************************
2024-11-12 19:22:37,297 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:37,305 p=16524 u=vagrant n=ansible | TASK [k8s : Cache join_token] ************************************************************************************************************************************************************************************************
2024-11-12 19:22:37,323 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:37,333 p=16524 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ************************************************************************************************************************************************************************************
2024-11-12 19:22:38,833 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:38,848 p=16524 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *************************************************************************************************************************************************************************************************
2024-11-12 19:22:38,868 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:38,882 p=16524 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *************************************************************************************************************************************************************************************
2024-11-12 19:22:40,404 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:40,420 p=16524 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **************************************************************************************************************************************************************************************************
2024-11-12 19:22:40,448 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:40,464 p=16524 u=vagrant n=ansible | PLAY [Sync actions] **********************************************************************************************************************************************************************************************************
2024-11-12 19:22:40,468 p=16524 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:22:42,544 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:42,556 p=16524 u=vagrant n=ansible | TASK [Sync facts] ************************************************************************************************************************************************************************************************************
2024-11-12 19:22:42,585 p=16524 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *********************************************************************************************************************************************************************************************
2024-11-12 19:22:42,608 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:22:42,616 p=16524 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] **********************************************************************************************************************************************************************************************
2024-11-12 19:22:42,633 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:22:42,641 p=16524 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] ***********************************************************************************************************************************************************************************************
2024-11-12 19:22:42,656 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:22:42,669 p=16524 u=vagrant n=ansible | PLAY [Join to cluster] *******************************************************************************************************************************************************************************************************
2024-11-12 19:22:42,673 p=16524 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:22:44,507 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:44,515 p=16524 u=vagrant n=ansible | TASK [Deploy k8s cluster] ****************************************************************************************************************************************************************************************************
2024-11-12 19:22:44,580 p=16524 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 19:22:44,608 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:22:44,618 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:22:44,627 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:22:44,633 p=16524 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 19:22:44,650 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:44,655 p=16524 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 19:22:44,680 p=16524 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 19:22:44,690 p=16524 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 19:22:49,020 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:22:49,031 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 19:22:52,261 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:52,272 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 19:22:54,195 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:54,203 p=16524 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 19:22:56,312 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:56,325 p=16524 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 19:22:57,991 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:22:57,999 p=16524 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 19:23:00,644 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:00,654 p=16524 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 19:23:04,136 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:04,145 p=16524 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 19:23:05,765 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:23:07,248 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:23:08,872 p=16524 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:23:08,879 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 19:23:10,341 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:10,349 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 19:23:11,790 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:11,802 p=16524 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 19:23:13,448 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:13,457 p=16524 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 19:23:15,908 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:15,923 p=16524 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 19:23:17,525 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:23:18,912 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:23:20,431 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:23:20,439 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 19:23:22,103 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:22,115 p=16524 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 19:23:22,133 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:22,139 p=16524 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 19:23:22,156 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:22,162 p=16524 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 19:23:22,183 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:22,190 p=16524 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 19:23:23,733 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:23:23,745 p=16524 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 19:23:23,763 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:23,770 p=16524 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 19:23:23,791 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:23,798 p=16524 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 19:23:25,355 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:25,364 p=16524 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 19:23:27,070 p=16524 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:23:27,082 p=16524 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 19:23:29,511 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:23:31,882 p=16524 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:23:31,891 p=16524 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 19:23:35,287 p=16524 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:23:35,294 p=16524 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] ***********************************************************************************************************************************************************************************
2024-11-12 19:23:35,309 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:35,315 p=16524 u=vagrant n=ansible | TASK [k8s : Cache join_token] ************************************************************************************************************************************************************************************************
2024-11-12 19:23:35,331 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:35,338 p=16524 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ************************************************************************************************************************************************************************************
2024-11-12 19:23:35,354 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:35,359 p=16524 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *************************************************************************************************************************************************************************************************
2024-11-12 19:23:35,374 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:35,381 p=16524 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *************************************************************************************************************************************************************************************
2024-11-12 19:23:35,392 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:35,398 p=16524 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **************************************************************************************************************************************************************************************************
2024-11-12 19:23:35,409 p=16524 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:23:35,418 p=16524 u=vagrant n=ansible | PLAY RECAP *******************************************************************************************************************************************************************************************************************
2024-11-12 19:23:35,418 p=16524 u=vagrant n=ansible | 192.168.57.13              : ok=62   changed=20   unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   
2024-11-12 19:24:39,565 p=17122 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 19:24:39,577 p=17122 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:24:41,942 p=17122 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:24:41,945 p=17122 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:24:41,980 p=17122 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:24:44,554 p=17122 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:24:49,626 p=17122 u=vagrant n=ansible | fatal: [192.168.57.14]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.14 port 22: Connection timed out", "unreachable": true}
2024-11-12 19:24:49,627 p=17122 u=vagrant n=ansible | fatal: [192.168.57.15]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.15 port 22: Connection timed out", "unreachable": true}
2024-11-12 19:24:49,647 p=17122 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 19:24:49,694 p=17122 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:24:49,703 p=17122 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 19:24:49,714 p=17122 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:24:49,724 p=17122 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 19:24:49,729 p=17122 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:24:51,716 p=17122 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:24:51,724 p=17122 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 19:24:51,770 p=17122 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 19:24:51,794 p=17122 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:24:51,797 p=17122 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:24:51,800 p=17122 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:24:51,805 p=17122 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 19:24:51,816 p=17122 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:24:51,822 p=17122 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 19:24:51,843 p=17122 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 19:24:51,853 p=17122 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 19:24:55,747 p=17122 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 19:25:14,123 p=17201 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 19:25:14,146 p=17201 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:25:16,172 p=17201 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:25:16,193 p=17201 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:25:16,260 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:16,379 p=17201 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:25:16,528 p=17201 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:25:18,021 p=17201 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:25:18,041 p=17201 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 19:25:18,080 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:18,086 p=17201 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 19:25:18,101 p=17201 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:25:18,112 p=17201 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 19:25:18,117 p=17201 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:25:19,992 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:20,009 p=17201 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 19:25:20,062 p=17201 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 19:25:20,081 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:25:20,084 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:25:20,085 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:25:20,091 p=17201 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 19:25:20,114 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:20,120 p=17201 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 19:25:20,146 p=17201 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 19:25:20,156 p=17201 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 19:25:23,084 p=17201 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:25:23,095 p=17201 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 19:25:26,547 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:26,554 p=17201 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 19:25:28,099 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:28,116 p=17201 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 19:25:30,048 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:30,061 p=17201 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 19:25:31,675 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:31,685 p=17201 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 19:25:34,439 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:34,449 p=17201 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 19:25:37,261 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:37,270 p=17201 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 19:25:38,809 p=17201 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:25:40,277 p=17201 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:25:41,772 p=17201 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:25:41,780 p=17201 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 19:25:43,463 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:43,482 p=17201 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 19:25:45,458 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:45,469 p=17201 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 19:25:47,045 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:47,062 p=17201 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 19:25:49,471 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:49,483 p=17201 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 19:25:51,079 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:25:52,644 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:25:54,176 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:25:54,188 p=17201 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 19:25:56,067 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:56,074 p=17201 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 19:25:56,104 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:56,109 p=17201 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 19:25:56,132 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:56,138 p=17201 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 19:25:56,155 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:56,160 p=17201 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 19:25:57,881 p=17201 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:25:57,894 p=17201 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 19:25:57,906 p=17201 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:25:57,916 p=17201 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 19:25:57,929 p=17201 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:25:57,938 p=17201 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 19:25:59,676 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:25:59,687 p=17201 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 19:26:01,207 p=17201 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:26:01,224 p=17201 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 19:26:03,663 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:26:05,823 p=17201 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:26:05,832 p=17201 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 19:27:13,880 p=17201 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:01:06.420338", "end": "2024-11-12 19:27:06.762521", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:26:00.342183", "stderr": "error when retrieving current configuration of:\nResource: \"/v1, Resource=serviceaccounts\", GroupVersionKind: \"/v1, Kind=ServiceAccount\"\nName: \"kubernetes-dashboard\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/serviceaccounts/kubernetes-dashboard\": EOF\nerror when retrieving current configuration of:\nResource: \"/v1, Resource=services\", GroupVersionKind: \"/v1, Kind=Service\"\nName: \"kubernetes-dashboard\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/services/kubernetes-dashboard\": EOF\nerror when retrieving current configuration of:\nResource: \"/v1, Resource=secrets\", GroupVersionKind: \"/v1, Kind=Secret\"\nName: \"kubernetes-dashboard-certs\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/secrets/kubernetes-dashboard-certs\": EOF\nerror when retrieving current configuration of:\nResource: \"/v1, Resource=secrets\", GroupVersionKind: \"/v1, Kind=Secret\"\nName: \"kubernetes-dashboard-csrf\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/secrets/kubernetes-dashboard-csrf\": EOF\nError from server (Forbidden): error when retrieving current configuration of:\nResource: \"/v1, Resource=secrets\", GroupVersionKind: \"/v1, Kind=Secret\"\nName: \"kubernetes-dashboard-key-holder\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": secrets \"kubernetes-dashboard-key-holder\" is forbidden: User \"kubernetes-admin\" cannot get resource \"secrets\" in API group \"\" in the namespace \"kubernetes-dashboard\"\nError from server (Forbidden): error when retrieving current configuration of:\nResource: \"/v1, Resource=configmaps\", GroupVersionKind: \"/v1, Kind=ConfigMap\"\nName: \"kubernetes-dashboard-settings\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": configmaps \"kubernetes-dashboard-settings\" is forbidden: User \"kubernetes-admin\" cannot get resource \"configmaps\" in API group \"\" in the namespace \"kubernetes-dashboard\"\nError from server (Forbidden): error when retrieving current configuration of:\nResource: \"rbac.authorization.k8s.io/v1, Resource=roles\", GroupVersionKind: \"rbac.authorization.k8s.io/v1, Kind=Role\"\nName: \"kubernetes-dashboard\", Namespace: \"kubernetes-dashboard\"\nfrom server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": roles.rbac.authorization.k8s.io \"kubernetes-dashboard\" is forbidden: User \"kubernetes-admin\" cannot get resource \"roles\" in API group \"rbac.authorization.k8s.io\" in the namespace \"kubernetes-dashboard\"", "stderr_lines": ["error when retrieving current configuration of:", "Resource: \"/v1, Resource=serviceaccounts\", GroupVersionKind: \"/v1, Kind=ServiceAccount\"", "Name: \"kubernetes-dashboard\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/serviceaccounts/kubernetes-dashboard\": EOF", "error when retrieving current configuration of:", "Resource: \"/v1, Resource=services\", GroupVersionKind: \"/v1, Kind=Service\"", "Name: \"kubernetes-dashboard\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/services/kubernetes-dashboard\": EOF", "error when retrieving current configuration of:", "Resource: \"/v1, Resource=secrets\", GroupVersionKind: \"/v1, Kind=Secret\"", "Name: \"kubernetes-dashboard-certs\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/secrets/kubernetes-dashboard-certs\": EOF", "error when retrieving current configuration of:", "Resource: \"/v1, Resource=secrets\", GroupVersionKind: \"/v1, Kind=Secret\"", "Name: \"kubernetes-dashboard-csrf\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kubernetes-dashboard/secrets/kubernetes-dashboard-csrf\": EOF", "Error from server (Forbidden): error when retrieving current configuration of:", "Resource: \"/v1, Resource=secrets\", GroupVersionKind: \"/v1, Kind=Secret\"", "Name: \"kubernetes-dashboard-key-holder\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": secrets \"kubernetes-dashboard-key-holder\" is forbidden: User \"kubernetes-admin\" cannot get resource \"secrets\" in API group \"\" in the namespace \"kubernetes-dashboard\"", "Error from server (Forbidden): error when retrieving current configuration of:", "Resource: \"/v1, Resource=configmaps\", GroupVersionKind: \"/v1, Kind=ConfigMap\"", "Name: \"kubernetes-dashboard-settings\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": configmaps \"kubernetes-dashboard-settings\" is forbidden: User \"kubernetes-admin\" cannot get resource \"configmaps\" in API group \"\" in the namespace \"kubernetes-dashboard\"", "Error from server (Forbidden): error when retrieving current configuration of:", "Resource: \"rbac.authorization.k8s.io/v1, Resource=roles\", GroupVersionKind: \"rbac.authorization.k8s.io/v1, Kind=Role\"", "Name: \"kubernetes-dashboard\", Namespace: \"kubernetes-dashboard\"", "from server for: \"/opt/k8s_deploy/plugins/dashboard.yml\": roles.rbac.authorization.k8s.io \"kubernetes-dashboard\" is forbidden: User \"kubernetes-admin\" cannot get resource \"roles\" in API group \"rbac.authorization.k8s.io\" in the namespace \"kubernetes-dashboard\""], "stdout": "poddisruptionbudget.policy/calico-kube-controllers configured\nserviceaccount/calico-kube-controllers unchanged\nserviceaccount/calico-node unchanged\nconfigmap/calico-config unchanged\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured\nclusterrole.rbac.authorization.k8s.io/calico-kube-controllers unchanged\nclusterrole.rbac.authorization.k8s.io/calico-node unchanged\nclusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers unchanged\nclusterrolebinding.rbac.authorization.k8s.io/calico-node unchanged\ndaemonset.apps/calico-node configured\ndeployment.apps/calico-kube-controllers unchanged\nnamespace/kubernetes-dashboard unchanged\nclusterrole.rbac.authorization.k8s.io/kubernetes-dashboard unchanged\nrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard unchanged\nclusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard unchanged\ndeployment.apps/kubernetes-dashboard unchanged\nservice/dashboard-metrics-scraper unchanged\ndeployment.apps/dashboard-metrics-scraper unchanged", "stdout_lines": ["poddisruptionbudget.policy/calico-kube-controllers configured", "serviceaccount/calico-kube-controllers unchanged", "serviceaccount/calico-node unchanged", "configmap/calico-config unchanged", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured", "clusterrole.rbac.authorization.k8s.io/calico-kube-controllers unchanged", "clusterrole.rbac.authorization.k8s.io/calico-node unchanged", "clusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers unchanged", "clusterrolebinding.rbac.authorization.k8s.io/calico-node unchanged", "daemonset.apps/calico-node configured", "deployment.apps/calico-kube-controllers unchanged", "namespace/kubernetes-dashboard unchanged", "clusterrole.rbac.authorization.k8s.io/kubernetes-dashboard unchanged", "rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard unchanged", "clusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard unchanged", "deployment.apps/kubernetes-dashboard unchanged", "service/dashboard-metrics-scraper unchanged", "deployment.apps/dashboard-metrics-scraper unchanged"]}
2024-11-12 19:27:13,881 p=17201 u=vagrant n=ansible | PLAY RECAP *******************************************************************************************************************************************************************************************************************
2024-11-12 19:27:13,882 p=17201 u=vagrant n=ansible | 192.168.57.13              : ok=28   changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-12 19:27:13,882 p=17201 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:27:13,883 p=17201 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:27:13,883 p=17201 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:27:13,883 p=17201 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:27:13,884 p=17201 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 19:28:36,267 p=17513 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 19:28:36,279 p=17513 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:28:38,767 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:28:38,808 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:28:38,814 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:28:38,819 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:28:39,024 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:41,995 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:28:42,016 p=17513 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 19:28:42,059 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:42,076 p=17513 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 19:28:42,089 p=17513 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:28:42,110 p=17513 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 19:28:42,119 p=17513 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:28:44,146 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:44,161 p=17513 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 19:28:44,203 p=17513 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 19:28:44,220 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:28:44,222 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:28:44,225 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:28:44,239 p=17513 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 19:28:44,252 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:44,261 p=17513 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 19:28:44,287 p=17513 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 19:28:44,296 p=17513 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 19:28:49,007 p=17513 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:28:49,017 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 19:28:52,422 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:52,434 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 19:28:53,960 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:53,970 p=17513 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 19:28:55,731 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:55,741 p=17513 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 19:28:57,311 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:28:57,329 p=17513 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 19:29:00,115 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:00,124 p=17513 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 19:29:03,386 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:03,404 p=17513 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 19:29:05,138 p=17513 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:29:06,622 p=17513 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:29:08,136 p=17513 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:29:08,153 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 19:29:09,763 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:09,776 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 19:29:11,470 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:11,480 p=17513 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 19:29:12,945 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:12,967 p=17513 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 19:29:15,248 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:15,262 p=17513 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 19:29:17,038 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:29:18,591 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:29:20,132 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:29:20,143 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 19:29:22,036 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:22,053 p=17513 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 19:29:22,078 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:22,086 p=17513 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 19:29:22,102 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:22,108 p=17513 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 19:29:22,126 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:22,132 p=17513 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 19:29:23,900 p=17513 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:29:23,913 p=17513 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 19:29:23,930 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:23,936 p=17513 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 19:29:23,949 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:23,957 p=17513 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 19:29:25,748 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:25,756 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 19:29:27,379 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:27,386 p=17513 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 19:29:29,825 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:29:32,131 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:29:32,142 p=17513 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 19:29:35,709 p=17513 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:29:35,723 p=17513 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] ***********************************************************************************************************************************************************************************
2024-11-12 19:29:35,738 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:35,746 p=17513 u=vagrant n=ansible | TASK [k8s : Cache join_token] ************************************************************************************************************************************************************************************************
2024-11-12 19:29:35,761 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:35,771 p=17513 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ************************************************************************************************************************************************************************************
2024-11-12 19:29:35,783 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:35,788 p=17513 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *************************************************************************************************************************************************************************************************
2024-11-12 19:29:35,804 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:35,809 p=17513 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *************************************************************************************************************************************************************************************
2024-11-12 19:29:35,821 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:35,826 p=17513 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **************************************************************************************************************************************************************************************************
2024-11-12 19:29:35,838 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:35,848 p=17513 u=vagrant n=ansible | PLAY [Sync actions] **********************************************************************************************************************************************************************************************************
2024-11-12 19:29:35,853 p=17513 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:29:37,917 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:37,924 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:38,077 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:38,174 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:38,331 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:40,107 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:40,117 p=17513 u=vagrant n=ansible | TASK [Sync facts] ************************************************************************************************************************************************************************************************************
2024-11-12 19:29:40,206 p=17513 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *********************************************************************************************************************************************************************************************
2024-11-12 19:29:40,310 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:40,314 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:40,318 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:40,322 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:40,338 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:40,342 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:40,348 p=17513 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] **********************************************************************************************************************************************************************************************
2024-11-12 19:29:40,392 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:40,423 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:40,453 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:40,456 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:40,468 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:40,470 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:40,476 p=17513 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] ***********************************************************************************************************************************************************************************************
2024-11-12 19:29:40,527 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:29:40,544 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:40,550 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:40,568 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:40,578 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:40,586 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:40,602 p=17513 u=vagrant n=ansible | PLAY [Join to cluster] *******************************************************************************************************************************************************************************************************
2024-11-12 19:29:40,612 p=17513 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 19:29:42,473 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:42,477 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:42,482 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:42,549 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:42,803 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:44,515 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:44,526 p=17513 u=vagrant n=ansible | TASK [Deploy k8s cluster] ****************************************************************************************************************************************************************************************************
2024-11-12 19:29:44,647 p=17513 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 19:29:44,728 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 19:29:44,729 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:29:44,729 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:29:44,740 p=17513 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 19:29:44,740 p=17513 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:29:44,745 p=17513 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/default.yml)
2024-11-12 19:29:44,746 p=17513 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/default.yml)
2024-11-12 19:29:44,751 p=17513 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:29:44,755 p=17513 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:29:44,757 p=17513 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:29:44,760 p=17513 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/default.yml)
2024-11-12 19:29:44,763 p=17513 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:29:44,769 p=17513 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:29:44,769 p=17513 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/default.yml)
2024-11-12 19:29:44,772 p=17513 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:29:44,775 p=17513 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/default.yml)
2024-11-12 19:29:44,775 p=17513 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:29:44,779 p=17513 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 19:29:44,784 p=17513 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 19:29:44,810 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:44,821 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:44,832 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:44,842 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:44,843 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:44,853 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:44,860 p=17513 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 19:29:44,964 p=17513 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13, 192.168.57.14, 192.168.57.15, 192.168.57.16, 192.168.57.17, 192.168.57.18
2024-11-12 19:29:45,003 p=17513 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 19:29:48,271 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:29:48,651 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:29:49,777 p=17513 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-12 19:29:49,853 p=17513 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-12 19:29:50,271 p=17513 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:29:52,427 p=17513 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-12 19:29:52,440 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 19:29:56,175 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:29:56,176 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:29:56,178 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:29:56,295 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:29:56,605 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:29:59,453 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:29:59,462 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 19:30:00,799 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:00,858 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:00,874 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:30:00,980 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:01,038 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:30:02,455 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:02,473 p=17513 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 19:30:04,096 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:04,158 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:30:04,211 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:04,320 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:30:04,332 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:05,916 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:05,931 p=17513 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 19:30:07,327 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:07,370 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:07,383 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:07,524 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:30:07,539 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:30:08,855 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:08,865 p=17513 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 19:30:11,060 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:11,063 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:11,147 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:11,780 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:30:11,995 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:30:13,554 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:13,566 p=17513 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 19:30:16,922 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:17,225 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:17,238 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:20,231 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:33,887 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:30:35,472 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:30:35,480 p=17513 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 19:30:39,923 p=17513 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 19:30:39,926 p=17513 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 19:30:39,927 p=17513 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubelet)
2024-11-12 19:30:39,928 p=17513 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubelet)
2024-11-12 19:30:39,928 p=17513 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubelet)
2024-11-12 19:30:39,929 p=17513 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 19:30:39,929 p=17513 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 19:30:39,929 p=17513 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubeadm)
2024-11-12 19:30:39,930 p=17513 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubeadm)
2024-11-12 19:30:39,930 p=17513 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubeadm)
2024-11-12 19:30:39,930 p=17513 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 19:30:40,043 p=17513 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 19:30:40,091 p=17513 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubectl)
2024-11-12 19:30:40,115 p=17513 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubectl)
2024-11-12 19:30:40,326 p=17513 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubectl)
2024-11-12 19:30:41,791 p=17513 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubelet)
2024-11-12 19:30:43,451 p=17513 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubeadm)
2024-11-12 19:30:44,996 p=17513 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubectl)
2024-11-12 19:30:45,014 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 19:30:46,441 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:46,482 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:46,551 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:46,600 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:30:46,607 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:30:47,897 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:47,907 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 19:30:49,285 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:49,314 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:49,337 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:49,355 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:30:49,479 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:30:50,812 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:50,822 p=17513 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 19:30:52,238 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:52,344 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:52,369 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:52,418 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:30:52,445 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:30:53,751 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:53,762 p=17513 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 19:30:55,969 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:30:56,015 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:30:56,056 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:30:56,516 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:30:56,621 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:30:58,356 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:30:58,373 p=17513 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 19:31:02,551 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:31:02,553 p=17513 u=vagrant n=ansible | ok: [192.168.57.17] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:31:02,554 p=17513 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:31:02,555 p=17513 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:31:02,555 p=17513 u=vagrant n=ansible | ok: [192.168.57.16] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:31:02,556 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:31:02,556 p=17513 u=vagrant n=ansible | ok: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:31:02,557 p=17513 u=vagrant n=ansible | ok: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:31:02,557 p=17513 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:31:02,558 p=17513 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:31:02,559 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:31:02,706 p=17513 u=vagrant n=ansible | ok: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:31:02,707 p=17513 u=vagrant n=ansible | ok: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:31:02,761 p=17513 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:31:03,888 p=17513 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:31:04,110 p=17513 u=vagrant n=ansible | ok: [192.168.57.18] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 19:31:05,561 p=17513 u=vagrant n=ansible | ok: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 19:31:07,225 p=17513 u=vagrant n=ansible | ok: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 19:31:07,238 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 19:31:08,735 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:31:08,759 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:31:08,810 p=17513 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 19:31:08,919 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:31:08,998 p=17513 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-12 19:31:10,401 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:31:10,408 p=17513 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 19:31:10,513 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:31:10,527 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:31:10,545 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:31:10,548 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:31:10,554 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:31:10,565 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:31:10,574 p=17513 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 19:31:10,629 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:31:10,687 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:31:10,696 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:31:10,708 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:31:10,719 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:31:10,741 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:31:10,747 p=17513 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 19:31:10,810 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:31:10,811 p=17513 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 19:31:10,811 p=17513 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 19:31:10,811 p=17513 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 19:31:10,815 p=17513 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 19:31:10,827 p=17513 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 19:31:10,833 p=17513 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 19:31:10,902 p=17513 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-12 19:31:10,903 p=17513 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-12 19:31:10,917 p=17513 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-12 19:31:26,097 p=17513 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 19:36:51,605 p=17513 u=vagrant n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --apiserver-advertise-address 192.168.57.14    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:e4373ca312bb1bc781daeb8f2ce4e395ca6bdfe6df873f20c2f52e4cc09f3226    --certificate-key d174a6be45ab15701523704b49d1b27961f7160f4fae9f1ecc1bafc38283a664\n", "delta": "0:05:38.997691", "end": "2024-11-12 19:36:44.366696", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:31:05.369005", "stderr": "E1112 19:31:05.410514   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.412194   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.413424   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.414823   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.416501   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nW1112 19:31:25.120092   20509 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.\nerror execution phase kubelet-start: context deadline exceeded\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:31:05.410514   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.412194   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.413424   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.414823   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.416501   20510 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "W1112 19:31:25.120092   20509 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.", "error execution phase kubelet-start: context deadline exceeded", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[preflight] Running pre-flight checks before initializing the new control plane instance\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action beforehand using 'kubeadm config images pull'\n[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace\n[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"\n[certs] Using certificateDir folder \"/etc/kubernetes/pki\"\n[certs] Generating \"etcd/peer\" certificate and key\n[certs] etcd/peer serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]\n[certs] Generating \"etcd/healthcheck-client\" certificate and key\n[certs] Generating \"apiserver-etcd-client\" certificate and key\n[certs] Generating \"etcd/server\" certificate and key\n[certs] etcd/server serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]\n[certs] Generating \"apiserver\" certificate and key\n[certs] apiserver serving cert is signed for DNS names [kube-controller2 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.57.14 192.168.57.201]\n[certs] Generating \"apiserver-kubelet-client\" certificate and key\n[certs] Generating \"front-proxy-client\" certificate and key\n[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"\n[certs] Using the existing \"sa\" key\n[kubeconfig] Generating kubeconfig files\n[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"\n[kubeconfig] Writing \"admin.conf\" kubeconfig file\n[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file\n[kubeconfig] Writing \"scheduler.conf\" kubeconfig file\n[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"\n[control-plane] Creating static Pod manifest for \"kube-apiserver\"\n[control-plane] Creating static Pod manifest for \"kube-controller-manager\"\n[control-plane] Creating static Pod manifest for \"kube-scheduler\"\n[check-etcd] Checking that the etcd cluster is healthy\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Starting the kubelet\n[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s\n[kubelet-check] The kubelet is healthy after 503.333825ms\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap\n\nUnfortunately, an error has occurred:\n\tcontext deadline exceeded\n\nThis error is likely caused by:\n\t- The kubelet is not running\n\t- The kubelet is unhealthy due to a misconfiguration of the node in some way (required cgroups disabled)\n\nIf you are on a systemd-powered system, you can try to troubleshoot the error with the following commands:\n\t- 'systemctl status kubelet'\n\t- 'journalctl -xeu kubelet'", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[preflight] Running pre-flight checks before initializing the new control plane instance", "[preflight] Pulling images required for setting up a Kubernetes cluster", "[preflight] This might take a minute or two, depending on the speed of your internet connection", "[preflight] You can also perform this action beforehand using 'kubeadm config images pull'", "[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"", "[certs] Using certificateDir folder \"/etc/kubernetes/pki\"", "[certs] Generating \"etcd/peer\" certificate and key", "[certs] etcd/peer serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]", "[certs] Generating \"etcd/healthcheck-client\" certificate and key", "[certs] Generating \"apiserver-etcd-client\" certificate and key", "[certs] Generating \"etcd/server\" certificate and key", "[certs] etcd/server serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]", "[certs] Generating \"apiserver\" certificate and key", "[certs] apiserver serving cert is signed for DNS names [kube-controller2 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.57.14 192.168.57.201]", "[certs] Generating \"apiserver-kubelet-client\" certificate and key", "[certs] Generating \"front-proxy-client\" certificate and key", "[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"", "[certs] Using the existing \"sa\" key", "[kubeconfig] Generating kubeconfig files", "[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"", "[kubeconfig] Writing \"admin.conf\" kubeconfig file", "[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file", "[kubeconfig] Writing \"scheduler.conf\" kubeconfig file", "[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"", "[control-plane] Creating static Pod manifest for \"kube-apiserver\"", "[control-plane] Creating static Pod manifest for \"kube-controller-manager\"", "[control-plane] Creating static Pod manifest for \"kube-scheduler\"", "[check-etcd] Checking that the etcd cluster is healthy", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Starting the kubelet", "[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s", "[kubelet-check] The kubelet is healthy after 503.333825ms", "[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap", "", "Unfortunately, an error has occurred:", "\tcontext deadline exceeded", "", "This error is likely caused by:", "\t- The kubelet is not running", "\t- The kubelet is unhealthy due to a misconfiguration of the node in some way (required cgroups disabled)", "", "If you are on a systemd-powered system, you can try to troubleshoot the error with the following commands:", "\t- 'systemctl status kubelet'", "\t- 'journalctl -xeu kubelet'"]}
2024-11-12 19:36:52,009 p=17513 u=vagrant n=ansible | fatal: [192.168.57.15]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --apiserver-advertise-address 192.168.57.15    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:e4373ca312bb1bc781daeb8f2ce4e395ca6bdfe6df873f20c2f52e4cc09f3226    --certificate-key d174a6be45ab15701523704b49d1b27961f7160f4fae9f1ecc1bafc38283a664\n", "delta": "0:05:39.331686", "end": "2024-11-12 19:36:44.596913", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:31:05.265227", "stderr": "E1112 19:31:05.321414   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.322892   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.324346   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.325717   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:31:05.327075   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nW1112 19:31:24.950458   20504 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.\nerror execution phase kubelet-start: context deadline exceeded\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:31:05.321414   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.322892   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.324346   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.325717   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:31:05.327075   20505 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "W1112 19:31:24.950458   20504 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.", "error execution phase kubelet-start: context deadline exceeded", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[preflight] Running pre-flight checks before initializing the new control plane instance\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action beforehand using 'kubeadm config images pull'\n[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace\n[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"\n[certs] Using certificateDir folder \"/etc/kubernetes/pki\"\n[certs] Generating \"etcd/healthcheck-client\" certificate and key\n[certs] Generating \"apiserver-etcd-client\" certificate and key\n[certs] Generating \"etcd/server\" certificate and key\n[certs] etcd/server serving cert is signed for DNS names [kube-controller3 localhost] and IPs [192.168.57.15 127.0.0.1 ::1]\n[certs] Generating \"etcd/peer\" certificate and key\n[certs] etcd/peer serving cert is signed for DNS names [kube-controller3 localhost] and IPs [192.168.57.15 127.0.0.1 ::1]\n[certs] Generating \"apiserver-kubelet-client\" certificate and key\n[certs] Generating \"apiserver\" certificate and key\n[certs] apiserver serving cert is signed for DNS names [kube-controller3 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.57.15 192.168.57.201]\n[certs] Generating \"front-proxy-client\" certificate and key\n[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"\n[certs] Using the existing \"sa\" key\n[kubeconfig] Generating kubeconfig files\n[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"\n[kubeconfig] Writing \"admin.conf\" kubeconfig file\n[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file\n[kubeconfig] Writing \"scheduler.conf\" kubeconfig file\n[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"\n[control-plane] Creating static Pod manifest for \"kube-apiserver\"\n[control-plane] Creating static Pod manifest for \"kube-controller-manager\"\n[control-plane] Creating static Pod manifest for \"kube-scheduler\"\n[check-etcd] Checking that the etcd cluster is healthy\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Starting the kubelet\n[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s\n[kubelet-check] The kubelet is healthy after 500.822884ms\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap\n\nUnfortunately, an error has occurred:\n\tcontext deadline exceeded\n\nThis error is likely caused by:\n\t- The kubelet is not running\n\t- The kubelet is unhealthy due to a misconfiguration of the node in some way (required cgroups disabled)\n\nIf you are on a systemd-powered system, you can try to troubleshoot the error with the following commands:\n\t- 'systemctl status kubelet'\n\t- 'journalctl -xeu kubelet'", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[preflight] Running pre-flight checks before initializing the new control plane instance", "[preflight] Pulling images required for setting up a Kubernetes cluster", "[preflight] This might take a minute or two, depending on the speed of your internet connection", "[preflight] You can also perform this action beforehand using 'kubeadm config images pull'", "[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"", "[certs] Using certificateDir folder \"/etc/kubernetes/pki\"", "[certs] Generating \"etcd/healthcheck-client\" certificate and key", "[certs] Generating \"apiserver-etcd-client\" certificate and key", "[certs] Generating \"etcd/server\" certificate and key", "[certs] etcd/server serving cert is signed for DNS names [kube-controller3 localhost] and IPs [192.168.57.15 127.0.0.1 ::1]", "[certs] Generating \"etcd/peer\" certificate and key", "[certs] etcd/peer serving cert is signed for DNS names [kube-controller3 localhost] and IPs [192.168.57.15 127.0.0.1 ::1]", "[certs] Generating \"apiserver-kubelet-client\" certificate and key", "[certs] Generating \"apiserver\" certificate and key", "[certs] apiserver serving cert is signed for DNS names [kube-controller3 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.57.15 192.168.57.201]", "[certs] Generating \"front-proxy-client\" certificate and key", "[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"", "[certs] Using the existing \"sa\" key", "[kubeconfig] Generating kubeconfig files", "[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"", "[kubeconfig] Writing \"admin.conf\" kubeconfig file", "[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file", "[kubeconfig] Writing \"scheduler.conf\" kubeconfig file", "[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"", "[control-plane] Creating static Pod manifest for \"kube-apiserver\"", "[control-plane] Creating static Pod manifest for \"kube-controller-manager\"", "[control-plane] Creating static Pod manifest for \"kube-scheduler\"", "[check-etcd] Checking that the etcd cluster is healthy", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Starting the kubelet", "[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s", "[kubelet-check] The kubelet is healthy after 500.822884ms", "[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap", "", "Unfortunately, an error has occurred:", "\tcontext deadline exceeded", "", "This error is likely caused by:", "\t- The kubelet is not running", "\t- The kubelet is unhealthy due to a misconfiguration of the node in some way (required cgroups disabled)", "", "If you are on a systemd-powered system, you can try to troubleshoot the error with the following commands:", "\t- 'systemctl status kubelet'", "\t- 'journalctl -xeu kubelet'"]}
2024-11-12 19:36:52,022 p=17513 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 19:36:52,045 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:36:53,913 p=17513 u=vagrant n=ansible | fatal: [192.168.57.17]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --token abcdef.0123456789abcdef\\\n    --discovery-token-ca-cert-hash sha256:e4373ca312bb1bc781daeb8f2ce4e395ca6bdfe6df873f20c2f52e4cc09f3226\n", "delta": "0:00:00.288421", "end": "2024-11-12 19:36:53.935145", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:36:53.646724", "stderr": "E1112 19:36:53.783172   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.785197   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.786861   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.790830   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.794604   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nerror execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:36:53.783172   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.785197   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.786861   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.790830   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.794604   46779 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks", "stdout_lines": ["[preflight] Running pre-flight checks"]}
2024-11-12 19:36:54,043 p=17513 u=vagrant n=ansible | fatal: [192.168.57.18]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --token abcdef.0123456789abcdef\\\n    --discovery-token-ca-cert-hash sha256:e4373ca312bb1bc781daeb8f2ce4e395ca6bdfe6df873f20c2f52e4cc09f3226\n", "delta": "0:00:00.273029", "end": "2024-11-12 19:36:53.923145", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:36:53.650116", "stderr": "E1112 19:36:53.744836   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.746629   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.748182   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.749727   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:53.751163   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nerror execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:36:53.744836   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.746629   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.748182   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.749727   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:53.751163   53258 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks", "stdout_lines": ["[preflight] Running pre-flight checks"]}
2024-11-12 19:36:54,183 p=17513 u=vagrant n=ansible | fatal: [192.168.57.16]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --token abcdef.0123456789abcdef\\\n    --discovery-token-ca-cert-hash sha256:e4373ca312bb1bc781daeb8f2ce4e395ca6bdfe6df873f20c2f52e4cc09f3226\n", "delta": "0:00:00.285560", "end": "2024-11-12 19:36:54.298426", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:36:54.012866", "stderr": "E1112 19:36:54.190128   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:54.192220   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:54.193774   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:54.195226   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 19:36:54.196638   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nerror execution phase preflight: [preflight] Some fatal errors occurred:\n\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists\n\t[ERROR Port-10250]: Port 10250 is in use\n\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists\n[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 19:36:54.190128   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:54.192220   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:54.193774   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:54.195226   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 19:36:54.196638   45897 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "error execution phase preflight: [preflight] Some fatal errors occurred:", "\t[ERROR FileAvailable--etc-kubernetes-kubelet.conf]: /etc/kubernetes/kubelet.conf already exists", "\t[ERROR Port-10250]: Port 10250 is in use", "\t[ERROR FileAvailable--etc-kubernetes-pki-ca.crt]: /etc/kubernetes/pki/ca.crt already exists", "[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks", "stdout_lines": ["[preflight] Running pre-flight checks"]}
2024-11-12 19:36:54,193 p=17513 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 19:36:54,216 p=17513 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 19:36:54,223 p=17513 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 19:36:55,924 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:36:55,934 p=17513 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 19:36:57,569 p=17513 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 19:36:57,584 p=17513 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 19:37:00,006 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 19:37:02,474 p=17513 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 19:37:02,484 p=17513 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 19:37:47,389 p=17513 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:00:43.315692", "end": "2024-11-12 19:37:40.490510", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 19:36:57.174818", "stderr": "error: error validating \"/opt/k8s_deploy/plugins/calico.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false\nerror: error validating \"/opt/k8s_deploy/plugins/dashboard.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false", "stderr_lines": ["error: error validating \"/opt/k8s_deploy/plugins/calico.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false", "error: error validating \"/opt/k8s_deploy/plugins/dashboard.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false"], "stdout": "", "stdout_lines": []}
2024-11-12 19:37:47,392 p=17513 u=vagrant n=ansible | PLAY RECAP *******************************************************************************************************************************************************************************************************************
2024-11-12 19:37:47,392 p=17513 u=vagrant n=ansible | 192.168.57.13              : ok=55   changed=8    unreachable=0    failed=1    skipped=13   rescued=0    ignored=0   
2024-11-12 19:37:47,393 p=17513 u=vagrant n=ansible | 192.168.57.14              : ok=26   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 19:37:47,393 p=17513 u=vagrant n=ansible | 192.168.57.15              : ok=26   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 19:37:47,393 p=17513 u=vagrant n=ansible | 192.168.57.16              : ok=26   changed=2    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2024-11-12 19:37:47,393 p=17513 u=vagrant n=ansible | 192.168.57.17              : ok=26   changed=2    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2024-11-12 19:37:47,394 p=17513 u=vagrant n=ansible | 192.168.57.18              : ok=26   changed=2    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2024-11-12 20:25:35,662 p=19246 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 20:25:35,677 p=19246 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:25:45,721 p=19246 u=vagrant n=ansible | fatal: [192.168.57.13]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.13 port 22: Connection timed out", "unreachable": true}
2024-11-12 20:25:45,735 p=19246 u=vagrant n=ansible | fatal: [192.168.57.17]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.17 port 22: Connection timed out", "unreachable": true}
2024-11-12 20:25:45,736 p=19246 u=vagrant n=ansible | fatal: [192.168.57.16]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.16 port 22: Connection timed out", "unreachable": true}
2024-11-12 20:25:45,739 p=19246 u=vagrant n=ansible | fatal: [192.168.57.15]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.15 port 22: Connection timed out", "unreachable": true}
2024-11-12 20:25:45,741 p=19246 u=vagrant n=ansible | fatal: [192.168.57.14]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.14 port 22: Connection timed out", "unreachable": true}
2024-11-12 20:25:49,449 p=19246 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 20:27:14,089 p=19281 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 20:27:14,102 p=19281 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:27:16,552 p=19281 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:27:16,554 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:27:16,574 p=19281 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:27:16,598 p=19281 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:27:16,765 p=19281 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:27:18,767 p=19281 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:27:18,779 p=19281 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 20:27:18,825 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:27:18,830 p=19281 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 20:27:18,849 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:27:18,868 p=19281 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 20:27:18,874 p=19281 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:27:20,857 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:27:20,868 p=19281 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 20:27:20,918 p=19281 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 20:27:20,942 p=19281 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 20:27:20,945 p=19281 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:27:20,946 p=19281 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:27:20,953 p=19281 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 20:27:20,969 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:27:20,973 p=19281 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 20:27:20,997 p=19281 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 20:27:21,007 p=19281 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 20:27:24,192 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:27:24,210 p=19281 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 20:27:27,340 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:27:27,355 p=19281 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 20:27:28,968 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:27:28,982 p=19281 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 20:27:31,256 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:27:31,265 p=19281 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 20:27:33,080 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:27:33,097 p=19281 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 20:27:36,617 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:27:36,631 p=19281 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 20:27:54,849 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:27:54,857 p=19281 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 20:27:56,363 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 20:27:57,964 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 20:27:59,565 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 20:27:59,575 p=19281 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 20:28:01,100 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:28:01,116 p=19281 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 20:28:03,038 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:28:03,043 p=19281 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 20:28:04,669 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:28:04,680 p=19281 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 20:28:07,556 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:28:07,573 p=19281 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 20:28:09,347 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:28:11,013 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:28:12,784 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:28:12,789 p=19281 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 20:28:14,960 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:28:14,968 p=19281 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 20:28:14,992 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:28:14,999 p=19281 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 20:28:15,023 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:28:15,027 p=19281 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 20:28:15,053 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:28:15,057 p=19281 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 20:28:15,073 p=19281 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:28:15,078 p=19281 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 20:28:15,088 p=19281 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:28:15,093 p=19281 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 20:29:43,365 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:29:43,380 p=19281 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 20:29:45,033 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:29:45,042 p=19281 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 20:29:46,658 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:29:46,672 p=19281 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 20:29:49,775 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 20:29:52,973 p=19281 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 20:29:52,985 p=19281 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 20:29:55,963 p=19281 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:29:55,971 p=19281 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] ***********************************************************************************************************************************************************************************
2024-11-12 20:29:57,678 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:29:57,689 p=19281 u=vagrant n=ansible | TASK [k8s : Cache join_token] ************************************************************************************************************************************************************************************************
2024-11-12 20:29:57,721 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:29:57,726 p=19281 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ************************************************************************************************************************************************************************************
2024-11-12 20:29:59,325 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:29:59,340 p=19281 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *************************************************************************************************************************************************************************************************
2024-11-12 20:29:59,369 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:29:59,375 p=19281 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *************************************************************************************************************************************************************************************
2024-11-12 20:30:01,104 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:30:01,113 p=19281 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **************************************************************************************************************************************************************************************************
2024-11-12 20:30:01,131 p=19281 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:30:01,138 p=19281 u=vagrant n=ansible | PLAY RECAP *******************************************************************************************************************************************************************************************************************
2024-11-12 20:30:01,138 p=19281 u=vagrant n=ansible | 192.168.57.13              : ok=35   changed=16   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 20:30:01,138 p=19281 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:30:01,138 p=19281 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:30:01,139 p=19281 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:30:01,139 p=19281 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:30:01,139 p=19281 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:34:55,665 p=19639 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 20:34:55,687 p=19639 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:34:58,218 p=19639 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:34:58,239 p=19639 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:34:58,353 p=19639 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:34:58,465 p=19639 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:34:58,706 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:00,506 p=19639 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:35:00,553 p=19639 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 20:35:00,595 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:00,602 p=19639 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 20:35:00,619 p=19639 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:35:00,637 p=19639 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 20:35:00,649 p=19639 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:35:02,587 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:02,601 p=19639 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 20:35:02,659 p=19639 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 20:35:02,685 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 20:35:02,698 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:35:02,703 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:35:02,708 p=19639 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 20:35:02,721 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:02,728 p=19639 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 20:35:02,753 p=19639 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 20:35:02,763 p=19639 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 20:35:07,543 p=19639 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:35:07,556 p=19639 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 20:35:10,894 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:10,905 p=19639 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 20:35:12,400 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:12,409 p=19639 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 20:35:14,337 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:14,348 p=19639 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 20:35:15,945 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:15,957 p=19639 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 20:35:18,670 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:18,679 p=19639 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 20:35:22,062 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:22,078 p=19639 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 20:35:23,808 p=19639 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 20:35:25,483 p=19639 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 20:35:27,046 p=19639 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 20:35:27,055 p=19639 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 20:35:28,860 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:28,872 p=19639 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 20:35:30,526 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:30,538 p=19639 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 20:35:32,116 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:32,129 p=19639 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 20:35:34,712 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:34,720 p=19639 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 20:35:36,338 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:35:37,818 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:35:39,483 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:35:39,492 p=19639 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 20:35:41,459 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:41,468 p=19639 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 20:35:41,499 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:41,509 p=19639 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 20:35:41,529 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:41,540 p=19639 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 20:35:41,564 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:41,569 p=19639 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 20:35:43,380 p=19639 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:35:43,391 p=19639 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 20:35:43,410 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:43,420 p=19639 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 20:35:43,432 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:43,442 p=19639 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *********************************************************************************************************************************************************************************
2024-11-12 20:35:45,197 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:45,206 p=19639 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ****************************************************************************************************************************************
2024-11-12 20:35:46,877 p=19639 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:35:46,887 p=19639 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ************************************************************************************************************************************
2024-11-12 20:35:49,458 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 20:35:51,884 p=19639 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 20:35:51,897 p=19639 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***************************************************************************************************************************************************
2024-11-12 20:35:55,615 p=19639 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:35:55,625 p=19639 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] ***********************************************************************************************************************************************************************************
2024-11-12 20:35:55,640 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:55,650 p=19639 u=vagrant n=ansible | TASK [k8s : Cache join_token] ************************************************************************************************************************************************************************************************
2024-11-12 20:35:55,664 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:55,671 p=19639 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ************************************************************************************************************************************************************************************
2024-11-12 20:35:55,686 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:55,693 p=19639 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *************************************************************************************************************************************************************************************************
2024-11-12 20:35:55,704 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:55,714 p=19639 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *************************************************************************************************************************************************************************************
2024-11-12 20:35:55,729 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:55,738 p=19639 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **************************************************************************************************************************************************************************************************
2024-11-12 20:35:55,753 p=19639 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:35:55,767 p=19639 u=vagrant n=ansible | PLAY RECAP *******************************************************************************************************************************************************************************************************************
2024-11-12 20:35:55,768 p=19639 u=vagrant n=ansible | 192.168.57.13              : ok=29   changed=5    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2024-11-12 20:35:55,768 p=19639 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:35:55,768 p=19639 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:35:55,768 p=19639 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:35:55,768 p=19639 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:35:55,769 p=19639 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:38:31,541 p=19964 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] *******************************************************************************************************************************************************************************
2024-11-12 20:38:31,553 p=19964 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:38:33,944 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:38:33,963 p=19964 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] **********************************************************************************************************************************************************************
2024-11-12 20:38:33,985 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:38:33,993 p=19964 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *************************************************************************************************************************************************************************************
2024-11-12 20:38:34,005 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:38:34,023 p=19964 u=vagrant n=ansible | PLAY [Bootstrap controller] **************************************************************************************************************************************************************************************************
2024-11-12 20:38:34,030 p=19964 u=vagrant n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************************************************************************
2024-11-12 20:38:35,964 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:38:35,976 p=19964 u=vagrant n=ansible | TASK [Bootstrap actions] *****************************************************************************************************************************************************************************************************
2024-11-12 20:38:36,038 p=19964 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *************************************************************************************************************************************************************************************
2024-11-12 20:38:36,059 p=19964 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 20:38:36,069 p=19964 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:38:36,074 p=19964 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:38:36,085 p=19964 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***************************************************************************************************************************************************************************************
2024-11-12 20:38:36,108 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:38:36,116 p=19964 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ********************************************************************************************************************************************************************************************
2024-11-12 20:38:36,148 p=19964 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 20:38:36,157 p=19964 u=vagrant n=ansible | TASK [k8s : Update apt cache] ************************************************************************************************************************************************************************************************
2024-11-12 20:38:39,400 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:38:39,408 p=19964 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *********************************************************************************************************************************************************************************
2024-11-12 20:38:42,720 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:38:42,728 p=19964 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] ***********************************************************************************************************************************************************************
2024-11-12 20:38:44,447 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:38:44,457 p=19964 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ************************************************************************************************************************************************************
2024-11-12 20:38:46,633 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:38:46,643 p=19964 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] *******************************************************************************************************************************************************************************
2024-11-12 20:38:48,497 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:38:48,506 p=19964 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ************************************************************************************************************************************************************************
2024-11-12 20:38:51,759 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:38:51,770 p=19964 u=vagrant n=ansible | TASK [k8s : Install packages] ************************************************************************************************************************************************************************************************
2024-11-12 20:39:12,152 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:39:12,165 p=19964 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *****************************************************************************************************************************************************************
2024-11-12 20:39:13,861 p=19964 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 20:39:15,551 p=19964 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 20:39:17,047 p=19964 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 20:39:17,055 p=19964 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***************************************************************************************************************************************************************************************
2024-11-12 20:39:18,733 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:39:18,743 p=19964 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***************************************************************************************************************************************************************************
2024-11-12 20:39:20,463 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:39:20,474 p=19964 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ************************************************************************************************************************************************************************************
2024-11-12 20:39:22,187 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:39:22,197 p=19964 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *****************************************************************************************************************************************************
2024-11-12 20:39:25,227 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:39:25,239 p=19964 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *****************************************************************************************************************************************************************
2024-11-12 20:39:26,801 p=19964 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:39:28,334 p=19964 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:39:29,764 p=19964 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:39:29,774 p=19964 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] *******************************************************************************************************************************************************************
2024-11-12 20:39:31,847 p=19964 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 20:39:31,860 p=19964 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **************************************************************************************************************************************************************************************
2024-11-12 20:39:31,890 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:39:31,899 p=19964 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *****************************************************************************************************************************************************************************************
2024-11-12 20:39:31,924 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:39:31,931 p=19964 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***************************************************************************************************************************************************************
2024-11-12 20:39:31,950 p=19964 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:39:31,958 p=19964 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *********************************************************************************************************************************************************************************
2024-11-12 20:39:31,973 p=19964 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 20:39:31,981 p=19964 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ************************************************************************************************************************************************************************************
2024-11-12 20:39:31,997 p=19964 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 20:39:32,007 p=19964 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *****************************************************************************************************************************************************
2024-11-12 20:39:39,224 p=19964 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 20:50:10,113 p=20191 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 20:50:10,122 p=20191 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:50:12,676 p=20191 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:50:12,715 p=20191 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:50:12,815 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:12,943 p=20191 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:50:12,954 p=20191 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:50:15,406 p=20191 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:50:15,419 p=20191 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 20:50:15,489 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:15,501 p=20191 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 20:50:15,565 p=20191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:50:15,582 p=20191 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 20:50:15,589 p=20191 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:50:17,587 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:17,605 p=20191 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 20:50:17,651 p=20191 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 20:50:17,671 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 20:50:17,674 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:50:17,675 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:50:17,682 p=20191 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 20:50:17,698 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:17,707 p=20191 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 20:50:17,740 p=20191 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 20:50:17,759 p=20191 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 20:50:23,984 p=20191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:50:23,994 p=20191 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 20:50:27,217 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:27,229 p=20191 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 20:50:28,936 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:28,946 p=20191 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 20:50:31,068 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:31,078 p=20191 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 20:50:32,706 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:32,719 p=20191 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 20:50:35,425 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:35,437 p=20191 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 20:50:38,862 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:38,875 p=20191 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 20:50:40,556 p=20191 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 20:50:41,999 p=20191 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 20:50:43,522 p=20191 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 20:50:43,531 p=20191 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 20:50:45,016 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:45,028 p=20191 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 20:50:46,613 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:46,620 p=20191 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 20:50:48,252 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:48,263 p=20191 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 20:50:50,813 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:50,824 p=20191 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 20:50:52,475 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:50:54,107 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:50:55,642 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:50:55,655 p=20191 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 20:50:57,624 p=20191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:50:57,640 p=20191 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 20:50:57,665 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:57,673 p=20191 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 20:50:57,702 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:57,711 p=20191 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 20:50:57,738 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:50:57,746 p=20191 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 20:50:57,767 p=20191 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:50:57,773 p=20191 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 20:50:57,787 p=20191 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:50:57,793 p=20191 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 20:51:55,614 p=20191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:51:55,623 p=20191 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 20:51:57,259 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:51:57,273 p=20191 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 20:51:58,924 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:51:58,933 p=20191 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 20:52:01,318 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 20:52:03,729 p=20191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 20:52:03,739 p=20191 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 20:52:06,719 p=20191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:52:06,728 p=20191 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 20:52:08,293 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:52:08,302 p=20191 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 20:52:08,325 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:52:08,337 p=20191 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 20:52:09,888 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:52:09,900 p=20191 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 20:52:09,921 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:52:09,930 p=20191 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 20:52:11,518 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:52:11,532 p=20191 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 20:52:11,552 p=20191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:52:11,567 p=20191 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 20:52:11,568 p=20191 u=vagrant n=ansible | 192.168.57.13              : ok=35   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 20:52:11,568 p=20191 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:52:11,568 p=20191 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:52:11,568 p=20191 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:52:11,568 p=20191 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:52:11,569 p=20191 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:53:08,335 p=20537 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 20:53:08,372 p=20537 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:53:10,778 p=20537 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:53:10,789 p=20537 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:53:11,115 p=20537 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:53:11,121 p=20537 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:53:11,164 p=20537 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:13,236 p=20537 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:53:13,249 p=20537 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 20:53:13,345 p=20537 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 20:53:13,381 p=20537 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:53:13,467 p=20537 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:53:13,471 p=20537 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:53:13,485 p=20537 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:53:13,488 p=20537 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:53:13,497 p=20537 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:53:13,505 p=20537 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 20:53:13,554 p=20537 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:53:13,603 p=20537 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:53:13,609 p=20537 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:53:13,617 p=20537 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:53:13,638 p=20537 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:53:13,645 p=20537 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:53:13,652 p=20537 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 20:53:13,695 p=20537 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:53:13,745 p=20537 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:53:13,765 p=20537 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:53:13,782 p=20537 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:53:13,784 p=20537 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:53:13,801 p=20537 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:53:13,812 p=20537 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 20:53:13,812 p=20537 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-12 20:53:13,812 p=20537 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:53:13,812 p=20537 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:53:13,812 p=20537 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:53:13,812 p=20537 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:53:13,813 p=20537 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:53:36,229 p=20643 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 20:53:36,241 p=20643 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:53:38,329 p=20643 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:53:38,441 p=20643 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:53:38,474 p=20643 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:53:38,506 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:39,396 p=20643 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:53:40,241 p=20643 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:53:40,252 p=20643 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 20:53:40,316 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:40,323 p=20643 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 20:53:40,337 p=20643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:53:40,352 p=20643 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 20:53:40,369 p=20643 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:53:42,367 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:42,383 p=20643 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 20:53:42,440 p=20643 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 20:53:42,460 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 20:53:42,461 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:53:42,462 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:53:42,473 p=20643 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 20:53:42,493 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:42,502 p=20643 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 20:53:42,531 p=20643 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 20:53:42,542 p=20643 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 20:53:47,425 p=20643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:53:47,436 p=20643 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 20:53:50,838 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:50,846 p=20643 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 20:53:52,562 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:52,574 p=20643 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 20:53:54,476 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:54,493 p=20643 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 20:53:56,300 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:56,307 p=20643 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 20:53:58,871 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:53:58,886 p=20643 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 20:54:02,190 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:02,201 p=20643 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 20:54:03,953 p=20643 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 20:54:05,419 p=20643 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 20:54:07,019 p=20643 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 20:54:07,032 p=20643 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 20:54:08,595 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:08,603 p=20643 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 20:54:10,605 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:10,614 p=20643 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 20:54:12,203 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:12,215 p=20643 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 20:54:14,634 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:14,644 p=20643 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 20:54:16,304 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:54:17,874 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:54:19,476 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:54:19,490 p=20643 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 20:54:21,363 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:21,373 p=20643 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 20:54:21,405 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:21,414 p=20643 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 20:54:21,444 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:21,451 p=20643 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 20:54:21,480 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:21,489 p=20643 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 20:54:24,071 p=20643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:54:24,082 p=20643 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 20:54:24,096 p=20643 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:54:24,104 p=20643 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 20:54:24,120 p=20643 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:54:24,130 p=20643 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 20:54:25,874 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:25,890 p=20643 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 20:54:27,525 p=20643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:54:27,535 p=20643 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 20:54:29,875 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 20:54:32,406 p=20643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 20:54:32,423 p=20643 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 20:55:39,618 p=20643 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:01:05.319854", "end": "2024-11-12 20:55:29.679707", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 20:54:24.359853", "stderr": "error: error validating \"/opt/k8s_deploy/plugins/calico.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false\nerror: error validating \"/opt/k8s_deploy/plugins/dashboard.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false", "stderr_lines": ["error: error validating \"/opt/k8s_deploy/plugins/calico.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false", "error: error validating \"/opt/k8s_deploy/plugins/dashboard.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false"], "stdout": "", "stdout_lines": []}
2024-11-12 20:55:39,622 p=20643 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 20:55:39,623 p=20643 u=vagrant n=ansible | 192.168.57.13              : ok=28   changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-12 20:55:39,624 p=20643 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:55:39,624 p=20643 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:55:39,625 p=20643 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:55:39,625 p=20643 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:55:39,626 p=20643 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:56:09,158 p=20955 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 20:56:09,173 p=20955 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:56:11,325 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:11,434 p=20955 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:56:11,524 p=20955 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:56:11,597 p=20955 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:56:11,755 p=20955 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:56:13,589 p=20955 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:56:13,613 p=20955 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 20:56:13,653 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:13,660 p=20955 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 20:56:13,678 p=20955 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:56:13,691 p=20955 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 20:56:13,698 p=20955 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:56:15,581 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:15,594 p=20955 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 20:56:15,649 p=20955 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 20:56:15,670 p=20955 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 20:56:15,673 p=20955 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:56:15,675 p=20955 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:56:15,685 p=20955 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 20:56:15,699 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:15,708 p=20955 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 20:56:15,744 p=20955 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 20:56:15,754 p=20955 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 20:56:20,328 p=20955 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:56:20,340 p=20955 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 20:56:23,720 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:23,727 p=20955 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 20:56:25,421 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:25,434 p=20955 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 20:56:27,346 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:27,357 p=20955 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 20:56:28,950 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:28,961 p=20955 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 20:56:31,660 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:31,670 p=20955 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 20:56:35,023 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:35,033 p=20955 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 20:56:36,803 p=20955 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 20:56:38,400 p=20955 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 20:56:40,208 p=20955 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 20:56:40,218 p=20955 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 20:56:41,783 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:41,797 p=20955 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 20:56:43,300 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:43,311 p=20955 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 20:56:44,921 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:44,931 p=20955 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 20:56:47,280 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:47,293 p=20955 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 20:56:49,003 p=20955 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:56:50,677 p=20955 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:56:52,276 p=20955 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:56:52,287 p=20955 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 20:56:54,100 p=20955 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:56:54,109 p=20955 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 20:56:54,137 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:54,146 p=20955 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 20:56:54,168 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:54,179 p=20955 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 20:56:54,200 p=20955 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:56:54,211 p=20955 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 20:56:55,897 p=20955 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --pod-network-cidr=10.244.0.0/16    --apiserver-advertise-address 192.168.57.13    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:76a6fbfdd7048801f1d8f4534659135c4aa2ca67cf8e9454dcb35b23ca94cf86    --certificate-key ba0a90dd496c640056b3275de4f2a476fbbc7b4d73230b1c45cecb74d0c9b175\n", "delta": "0:00:00.135815", "end": "2024-11-12 20:56:46.366725", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 20:56:46.230910", "stderr": "E1112 20:56:46.309227   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 20:56:46.314742   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 20:56:46.316379   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 20:56:46.318180   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 20:56:46.319942   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nunknown flag: --pod-network-cidr\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 20:56:46.309227   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 20:56:46.314742   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 20:56:46.316379   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 20:56:46.318180   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 20:56:46.319942   93665 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "unknown flag: --pod-network-cidr", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "", "stdout_lines": []}
2024-11-12 20:56:55,899 p=20955 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 20:56:55,900 p=20955 u=vagrant n=ansible | 192.168.57.13              : ok=24   changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 20:56:55,900 p=20955 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:56:55,900 p=20955 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:56:55,900 p=20955 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:56:55,901 p=20955 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:56:55,901 p=20955 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 20:57:56,093 p=21213 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 20:57:56,102 p=21213 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:57:58,501 p=21213 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 20:57:58,651 p=21213 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 20:57:58,655 p=21213 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 20:57:58,676 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:57:58,716 p=21213 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 20:58:00,757 p=21213 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 20:58:00,776 p=21213 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 20:58:00,816 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:00,832 p=21213 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 20:58:00,848 p=21213 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:58:00,864 p=21213 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 20:58:00,873 p=21213 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 20:58:03,050 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:03,069 p=21213 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 20:58:03,134 p=21213 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 20:58:03,163 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 20:58:03,168 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 20:58:03,170 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 20:58:03,176 p=21213 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 20:58:03,197 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:03,206 p=21213 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 20:58:03,244 p=21213 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 20:58:03,254 p=21213 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 20:58:07,826 p=21213 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:58:07,837 p=21213 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 20:58:11,251 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:11,260 p=21213 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 20:58:12,855 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:12,864 p=21213 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 20:58:14,574 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:14,584 p=21213 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 20:58:16,280 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:16,290 p=21213 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 20:58:18,748 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:18,757 p=21213 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 20:58:21,986 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:21,995 p=21213 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 20:58:23,540 p=21213 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 20:58:25,123 p=21213 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 20:58:26,716 p=21213 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 20:58:26,729 p=21213 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 20:58:28,275 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:28,283 p=21213 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 20:58:29,805 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:29,820 p=21213 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 20:58:31,498 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:31,507 p=21213 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 20:58:33,983 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:33,992 p=21213 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 20:58:35,596 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 20:58:37,204 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 20:58:38,771 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 20:58:38,783 p=21213 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 20:58:40,776 p=21213 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:58:40,783 p=21213 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 20:58:40,803 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:40,810 p=21213 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 20:58:40,828 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:40,836 p=21213 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 20:58:40,854 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:58:40,860 p=21213 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 20:58:40,872 p=21213 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:58:40,878 p=21213 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 20:58:40,889 p=21213 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 20:58:40,894 p=21213 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 20:59:51,527 p=21213 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 20:59:51,535 p=21213 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 20:59:53,218 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:59:53,228 p=21213 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 20:59:54,828 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 20:59:54,835 p=21213 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 20:59:57,210 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 20:59:59,524 p=21213 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 20:59:59,533 p=21213 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 21:00:02,648 p=21213 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:00:02,655 p=21213 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 21:00:04,249 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:00:04,260 p=21213 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 21:00:04,288 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:00:04,295 p=21213 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 21:00:05,841 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:00:05,851 p=21213 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 21:00:05,873 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:00:05,878 p=21213 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 21:00:07,514 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:00:07,524 p=21213 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 21:00:07,545 p=21213 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:00:07,560 p=21213 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 21:00:07,561 p=21213 u=vagrant n=ansible | 192.168.57.13              : ok=35   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 21:00:07,561 p=21213 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:00:07,561 p=21213 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:00:07,561 p=21213 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:00:07,561 p=21213 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:00:07,561 p=21213 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:10:59,222 p=21591 u=vagrant n=ansible | PLAY [Deploy haproxy and keepalived] ****************************************************************************
2024-11-12 21:10:59,258 p=21591 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 21:11:01,603 p=21591 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 21:11:01,606 p=21591 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 21:11:01,615 p=21591 u=vagrant n=ansible | TASK [Bootstrap node geth] **************************************************************************************
2024-11-12 21:11:01,653 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Include vars if file exists] *****************************************************************
2024-11-12 21:11:01,696 p=21591 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/default.yml)
2024-11-12 21:11:01,703 p=21591 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/default.yml)
2024-11-12 21:11:01,718 p=21591 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/default.yml)
2024-11-12 21:11:01,722 p=21591 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/default.yml)
2024-11-12 21:11:01,727 p=21591 u=vagrant n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 21:11:01,735 p=21591 u=vagrant n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 21:11:01,740 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Check if the OS is Ubuntu] *******************************************************************
2024-11-12 21:11:01,791 p=21591 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 21:11:01,803 p=21591 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 21:11:01,840 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Include Ubuntu tasks] ************************************************************************
2024-11-12 21:11:01,884 p=21591 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/haproxy_lb/tasks/linux/Ubuntu/main.yml for 192.168.57.12, 192.168.57.11
2024-11-12 21:11:01,891 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Update apt cache] ****************************************************************************
2024-11-12 21:11:07,691 p=21591 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 21:11:07,983 p=21591 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 21:11:07,991 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Install packages] ****************************************************************************
2024-11-12 21:11:10,395 p=21591 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 21:11:10,466 p=21591 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 21:11:10,475 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Template the HAProxy configuration file] *****************************************************
2024-11-12 21:11:13,524 p=21591 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 21:11:13,874 p=21591 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 21:11:13,881 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Template the keepalive.d configuration file] *************************************************
2024-11-12 21:11:16,735 p=21591 u=vagrant n=ansible | ok: [192.168.57.12]
2024-11-12 21:11:16,736 p=21591 u=vagrant n=ansible | ok: [192.168.57.11]
2024-11-12 21:11:16,747 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Start haproxy] *******************************************************************************
2024-11-12 21:11:18,674 p=21591 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 21:11:18,704 p=21591 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 21:11:18,711 p=21591 u=vagrant n=ansible | TASK [haproxy_lb : Start keepalive.d] ***************************************************************************
2024-11-12 21:11:21,620 p=21591 u=vagrant n=ansible | changed: [192.168.57.12]
2024-11-12 21:11:21,632 p=21591 u=vagrant n=ansible | changed: [192.168.57.11]
2024-11-12 21:11:21,647 p=21591 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 21:11:21,647 p=21591 u=vagrant n=ansible | 192.168.57.11              : ok=10   changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:11:21,647 p=21591 u=vagrant n=ansible | 192.168.57.12              : ok=10   changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:16:20,215 p=21800 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 21:16:20,232 p=21800 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 21:16:22,614 p=21800 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 21:16:22,644 p=21800 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 21:16:22,670 p=21800 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 21:16:22,800 p=21800 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 21:16:22,958 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:24,736 p=21800 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 21:16:24,748 p=21800 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 21:16:24,786 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:24,795 p=21800 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 21:16:24,814 p=21800 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:16:24,838 p=21800 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 21:16:24,849 p=21800 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 21:16:26,910 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:26,925 p=21800 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 21:16:27,001 p=21800 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 21:16:27,019 p=21800 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 21:16:27,028 p=21800 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 21:16:27,035 p=21800 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 21:16:27,046 p=21800 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 21:16:27,064 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:27,078 p=21800 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 21:16:27,114 p=21800 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 21:16:27,126 p=21800 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 21:16:32,275 p=21800 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:16:32,285 p=21800 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 21:16:36,055 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:36,067 p=21800 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 21:16:37,841 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:37,853 p=21800 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 21:16:40,168 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:40,178 p=21800 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 21:16:42,053 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:42,062 p=21800 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 21:16:44,932 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:44,945 p=21800 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 21:16:48,549 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:48,560 p=21800 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 21:16:50,493 p=21800 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 21:16:52,108 p=21800 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 21:16:53,605 p=21800 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 21:16:53,615 p=21800 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 21:16:55,157 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:55,168 p=21800 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 21:16:56,878 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:56,890 p=21800 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 21:16:58,625 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:16:58,635 p=21800 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 21:17:00,898 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:17:00,912 p=21800 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 21:17:02,508 p=21800 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 21:17:04,053 p=21800 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 21:17:05,774 p=21800 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 21:17:05,788 p=21800 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 21:17:07,887 p=21800 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:17:07,896 p=21800 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 21:17:07,930 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:17:07,936 p=21800 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 21:17:07,959 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:17:07,973 p=21800 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 21:17:07,995 p=21800 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:17:08,004 p=21800 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 21:17:09,861 p=21800 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --pod-network-cidr=10.244.0.0/16    --apiserver-advertise-address 192.168.57.13    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:7c2ffd7bce4b55ffdb509f88061b30b2bdcb8edaf6d91c5316eaffc3b9586e21    --certificate-key 3b469bddf5c10ccb4f80fdb4c9c1efb82d68dff49b99f7d7958d6c83d1881696\n", "delta": "0:00:00.103893", "end": "2024-11-12 21:17:00.303723", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 21:17:00.199830", "stderr": "E1112 21:17:00.265589  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 21:17:00.268065  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 21:17:00.269984  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 21:17:00.271308  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 21:17:00.272764  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nunknown flag: --pod-network-cidr\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 21:17:00.265589  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 21:17:00.268065  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 21:17:00.269984  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 21:17:00.271308  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 21:17:00.272764  130550 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "unknown flag: --pod-network-cidr", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "", "stdout_lines": []}
2024-11-12 21:17:09,863 p=21800 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 21:17:09,864 p=21800 u=vagrant n=ansible | 192.168.57.13              : ok=24   changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 21:17:09,865 p=21800 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:17:09,865 p=21800 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:17:09,866 p=21800 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:17:09,866 p=21800 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:17:09,867 p=21800 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:48:42,100 p=22094 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 21:48:42,108 p=22094 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 21:48:44,443 p=22094 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 21:48:44,457 p=22094 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 21:48:44,482 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:48:44,498 p=22094 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 21:48:44,517 p=22094 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 21:48:46,565 p=22094 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 21:48:46,574 p=22094 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 21:48:46,623 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:48:46,629 p=22094 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 21:48:46,640 p=22094 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:48:46,654 p=22094 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 21:48:46,666 p=22094 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 21:48:48,781 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:48:48,798 p=22094 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 21:48:48,850 p=22094 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 21:48:48,876 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 21:48:48,879 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 21:48:48,882 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 21:48:48,887 p=22094 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 21:48:48,898 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:48:48,903 p=22094 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 21:48:48,927 p=22094 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 21:48:48,939 p=22094 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 21:48:53,259 p=22094 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:48:53,267 p=22094 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 21:48:56,352 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:48:56,369 p=22094 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 21:48:58,092 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:48:58,101 p=22094 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 21:49:00,227 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:00,243 p=22094 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 21:49:01,893 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:01,902 p=22094 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 21:49:04,584 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:04,598 p=22094 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 21:49:07,444 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:07,455 p=22094 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 21:49:09,285 p=22094 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 21:49:10,904 p=22094 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 21:49:12,584 p=22094 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 21:49:12,593 p=22094 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 21:49:14,269 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:14,284 p=22094 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 21:49:15,856 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:15,865 p=22094 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 21:49:17,498 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:17,512 p=22094 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 21:49:19,889 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:19,899 p=22094 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 21:49:21,642 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 21:49:23,201 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 21:49:24,735 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 21:49:24,747 p=22094 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 21:49:26,584 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:26,596 p=22094 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 21:49:26,622 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:26,633 p=22094 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 21:49:26,663 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:26,672 p=22094 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 21:49:26,690 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:49:26,700 p=22094 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 21:49:26,713 p=22094 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 21:49:26,721 p=22094 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 21:49:26,734 p=22094 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 21:49:26,743 p=22094 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 21:49:26,757 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 21:49:26,765 p=22094 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 21:50:38,914 p=22094 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:50:38,928 p=22094 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 21:50:40,504 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:40,516 p=22094 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 21:50:42,123 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:42,132 p=22094 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 21:50:44,531 p=22094 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 21:50:44,539 p=22094 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 21:50:47,562 p=22094 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 21:50:47,572 p=22094 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 21:50:49,309 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:49,317 p=22094 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 21:50:49,347 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:49,354 p=22094 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 21:50:50,918 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:50,934 p=22094 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 21:50:50,961 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:50,969 p=22094 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 21:50:52,653 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:52,662 p=22094 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 21:50:52,679 p=22094 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 21:50:52,688 p=22094 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 21:50:52,688 p=22094 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 21:50:52,688 p=22094 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:50:52,688 p=22094 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:50:52,689 p=22094 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:50:52,689 p=22094 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 21:50:52,689 p=22094 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:00:42,348 p=22463 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:00:42,359 p=22463 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:00:44,704 p=22463 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:00:44,744 p=22463 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:00:44,782 p=22463 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:00:44,785 p=22463 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:00:44,847 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:00:46,816 p=22463 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:00:46,832 p=22463 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:00:46,879 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:00:46,887 p=22463 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:00:46,905 p=22463 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:00:46,917 p=22463 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:00:46,922 p=22463 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:00:48,946 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:00:48,963 p=22463 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:00:49,011 p=22463 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:00:49,037 p=22463 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:00:49,043 p=22463 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:00:49,046 p=22463 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:00:49,053 p=22463 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:00:49,069 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:00:49,075 p=22463 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:00:49,100 p=22463 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:00:49,111 p=22463 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:00:54,831 p=22463 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:00:54,844 p=22463 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:00:58,121 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:00:58,134 p=22463 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:00:59,754 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:00:59,767 p=22463 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:01:01,824 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:01,835 p=22463 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:01:03,509 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:03,520 p=22463 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:01:06,095 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:06,105 p=22463 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:01:09,134 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:09,144 p=22463 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:01:10,696 p=22463 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:01:12,150 p=22463 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:01:13,583 p=22463 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:01:13,595 p=22463 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:01:15,146 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:15,158 p=22463 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:01:16,734 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:16,744 p=22463 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:01:18,269 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:18,280 p=22463 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:01:20,848 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:20,857 p=22463 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:01:22,551 p=22463 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:01:24,139 p=22463 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:01:25,728 p=22463 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:01:25,742 p=22463 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:01:27,499 p=22463 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:01:27,507 p=22463 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:01:27,531 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:27,539 p=22463 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:01:27,569 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:27,574 p=22463 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:01:27,602 p=22463 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:01:27,613 p=22463 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:01:29,299 p=22463 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --service-cidr=10.243.0.0/16    --pod-network-cidr=10.244.0.0/16    --apiserver-advertise-address 192.168.57.13    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:bbceb6e5dbcaf5f2d69c03c34c49ba494c71e024a58c9f6d8af0699b354e5f67    --certificate-key 309271901e8ccc6dfc9b239f4b3c5a82fe0388f0b8955ede724150be3b5d3bbd\n", "delta": "0:00:00.084203", "end": "2024-11-12 22:01:19.762894", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 22:01:19.678691", "stderr": "E1112 22:01:19.723671  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:01:19.725166  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:01:19.730173  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:01:19.733429  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:01:19.734938  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nunknown flag: --service-cidr\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 22:01:19.723671  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:01:19.725166  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:01:19.730173  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:01:19.733429  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:01:19.734938  166370 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "unknown flag: --service-cidr", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "", "stdout_lines": []}
2024-11-12 22:01:29,301 p=22463 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:01:29,301 p=22463 u=vagrant n=ansible | 192.168.57.13              : ok=24   changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:01:29,301 p=22463 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:01:29,302 p=22463 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:01:29,302 p=22463 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:01:29,302 p=22463 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:01:29,303 p=22463 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:11:43,272 p=22725 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:11:43,294 p=22725 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:11:45,659 p=22725 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:11:45,670 p=22725 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:11:45,879 p=22725 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:11:45,887 p=22725 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:11:46,696 p=22725 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:11:47,835 p=22725 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:11:47,846 p=22725 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:11:47,916 p=22725 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:11:47,988 p=22725 u=vagrant n=ansible | fatal: [192.168.57.14]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'join_token'\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/sync.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Set join_token fact\n  ^ here\n"}
2024-11-12 22:11:47,991 p=22725 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'join_token'\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/sync.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Set join_token fact\n  ^ here\n"}
2024-11-12 22:11:48,003 p=22725 u=vagrant n=ansible | fatal: [192.168.57.15]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'join_token'\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/sync.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Set join_token fact\n  ^ here\n"}
2024-11-12 22:11:48,021 p=22725 u=vagrant n=ansible | fatal: [192.168.57.16]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'join_token'\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/sync.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Set join_token fact\n  ^ here\n"}
2024-11-12 22:11:48,023 p=22725 u=vagrant n=ansible | fatal: [192.168.57.17]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'join_token'\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/sync.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Set join_token fact\n  ^ here\n"}
2024-11-12 22:11:48,028 p=22725 u=vagrant n=ansible | fatal: [192.168.57.18]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'join_token'\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/sync.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Set join_token fact\n  ^ here\n"}
2024-11-12 22:11:48,029 p=22725 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:11:48,030 p=22725 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:11:48,030 p=22725 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:11:48,030 p=22725 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:11:48,030 p=22725 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:11:48,030 p=22725 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:11:48,031 p=22725 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:14:57,923 p=22821 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:14:57,931 p=22821 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:15:00,179 p=22821 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:15:00,201 p=22821 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:15:00,262 p=22821 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:15:00,303 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:00,333 p=22821 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:15:02,291 p=22821 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:15:02,307 p=22821 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:15:02,345 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:02,358 p=22821 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:15:02,369 p=22821 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:15:02,382 p=22821 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:15:02,396 p=22821 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:15:04,358 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:04,375 p=22821 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:15:04,423 p=22821 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:15:04,442 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:15:04,445 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:15:04,448 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:15:04,459 p=22821 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:15:04,473 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:04,486 p=22821 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:15:04,508 p=22821 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:15:04,516 p=22821 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:15:08,690 p=22821 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:15:08,702 p=22821 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:15:11,963 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:11,975 p=22821 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:15:13,671 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:13,679 p=22821 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:15:15,516 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:15,522 p=22821 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:15:17,167 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:17,182 p=22821 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:15:19,937 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:19,951 p=22821 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:15:22,859 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:22,870 p=22821 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:15:24,509 p=22821 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:15:26,129 p=22821 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:15:27,691 p=22821 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:15:27,706 p=22821 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:15:29,248 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:29,259 p=22821 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:15:31,081 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:31,092 p=22821 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:15:32,852 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:32,863 p=22821 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:15:35,386 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:35,395 p=22821 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:15:37,215 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:15:38,792 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:15:40,280 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:15:40,294 p=22821 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:15:42,103 p=22821 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:15:42,111 p=22821 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:15:42,135 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:42,143 p=22821 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:15:42,170 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:42,178 p=22821 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:15:42,199 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:15:42,205 p=22821 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:15:42,224 p=22821 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:15:42,230 p=22821 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:15:42,244 p=22821 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:15:42,251 p=22821 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:15:42,264 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:15:42,270 p=22821 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:16:56,291 p=22821 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:16:56,304 p=22821 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:16:57,873 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:16:57,881 p=22821 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:16:59,500 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:16:59,515 p=22821 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:17:01,895 p=22821 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:17:01,905 p=22821 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:17:05,022 p=22821 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:17:05,031 p=22821 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:17:06,731 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:06,741 p=22821 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:17:06,766 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:06,774 p=22821 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:17:08,348 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:08,359 p=22821 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:17:08,382 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:08,388 p=22821 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:17:09,932 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:09,944 p=22821 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:17:09,962 p=22821 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:09,973 p=22821 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:17:09,973 p=22821 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 22:17:09,973 p=22821 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:09,973 p=22821 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:09,974 p=22821 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:09,974 p=22821 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:09,974 p=22821 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:17,677 p=23164 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:17:17,710 p=23164 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:17:19,907 p=23164 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:17:19,913 p=23164 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:17:19,915 p=23164 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:17:20,176 p=23164 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:17:20,320 p=23164 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:17:21,837 p=23164 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:17:21,850 p=23164 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:17:21,947 p=23164 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:17:21,995 p=23164 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:17:22,045 p=23164 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:17:22,047 p=23164 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:17:22,051 p=23164 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:17:22,063 p=23164 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:17:22,072 p=23164 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:17:22,078 p=23164 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 22:17:22,143 p=23164 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:17:22,161 p=23164 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:17:22,163 p=23164 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:17:22,170 p=23164 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:17:22,188 p=23164 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:17:22,204 p=23164 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:17:22,210 p=23164 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 22:17:22,271 p=23164 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:17:22,293 p=23164 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:17:22,318 p=23164 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:17:22,324 p=23164 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:17:22,328 p=23164 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:17:22,331 p=23164 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:17:22,345 p=23164 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:17:22,345 p=23164 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-12 22:17:22,346 p=23164 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:22,346 p=23164 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:22,347 p=23164 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:22,348 p=23164 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:17:22,348 p=23164 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:18:08,734 p=23273 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:18:08,745 p=23273 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:18:10,724 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:10,735 p=23273 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:18:10,760 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:10,770 p=23273 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:18:10,784 p=23273 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:18:10,800 p=23273 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:18:10,811 p=23273 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:18:12,662 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:12,682 p=23273 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:18:12,733 p=23273 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:18:12,759 p=23273 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 22:18:12,763 p=23273 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:18:12,770 p=23273 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:18:12,777 p=23273 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:18:12,795 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:12,803 p=23273 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:18:12,828 p=23273 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 22:18:12,839 p=23273 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:18:17,987 p=23273 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:18:18,000 p=23273 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:18:21,187 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:21,195 p=23273 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:18:22,716 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:22,724 p=23273 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:18:24,479 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:24,488 p=23273 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:18:26,097 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:26,106 p=23273 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:18:28,567 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:28,581 p=23273 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:18:31,643 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:31,656 p=23273 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:18:33,177 p=23273 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 22:18:34,734 p=23273 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 22:18:36,133 p=23273 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 22:18:36,143 p=23273 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:18:37,740 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:37,755 p=23273 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:18:39,141 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:39,146 p=23273 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:18:40,723 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:40,739 p=23273 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:18:43,060 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:43,067 p=23273 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:18:44,676 p=23273 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:18:46,186 p=23273 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:18:47,660 p=23273 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:18:47,670 p=23273 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:18:49,345 p=23273 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:18:49,354 p=23273 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:18:49,378 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:49,383 p=23273 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:18:49,400 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:49,407 p=23273 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:18:49,426 p=23273 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:18:49,432 p=23273 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:18:51,015 p=23273 u=vagrant n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --service-cidr=10.244.1.0/12    --pod-network-cidr=10.244.0.0/16    --apiserver-advertise-address 192.168.57.14    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:b4ba55ae67b0db03b55e643074a124f84bad6e4f40f3da1cea2d8a75bae9f276    --certificate-key 134baee9e3f0b0ab61195f0761c03de82ada186c40524d349bb1dcfd2214b3de\n", "delta": "0:00:00.077794", "end": "2024-11-12 22:18:41.386624", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 22:18:41.308830", "stderr": "E1112 22:18:41.357693   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:18:41.359786   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:18:41.361033   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:18:41.362295   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:18:41.363519   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nunknown flag: --service-cidr\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 22:18:41.357693   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:18:41.359786   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:18:41.361033   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:18:41.362295   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:18:41.363519   35105 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "unknown flag: --service-cidr", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "", "stdout_lines": []}
2024-11-12 22:18:51,017 p=23273 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:18:51,018 p=23273 u=vagrant n=ansible | 192.168.57.14              : ok=24   changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:25:36,240 p=23552 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:25:36,246 p=23552 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:25:38,512 p=23552 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:25:38,514 p=23552 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:25:38,583 p=23552 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:25:38,814 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:39,013 p=23552 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:25:41,677 p=23552 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:25:41,697 p=23552 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:25:41,742 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:41,753 p=23552 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:25:41,763 p=23552 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:25:41,775 p=23552 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:25:41,781 p=23552 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:25:43,619 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:43,627 p=23552 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:25:43,670 p=23552 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:25:43,694 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:25:43,696 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:25:43,699 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:25:43,704 p=23552 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:25:43,717 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:43,728 p=23552 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:25:43,753 p=23552 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:25:43,762 p=23552 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:25:48,428 p=23552 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:25:48,437 p=23552 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:25:51,529 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:51,538 p=23552 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:25:53,060 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:53,072 p=23552 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:25:54,971 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:54,983 p=23552 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:25:56,613 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:56,624 p=23552 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:25:59,079 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:25:59,087 p=23552 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:26:02,106 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:02,117 p=23552 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:26:03,951 p=23552 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:26:05,403 p=23552 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:26:07,134 p=23552 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:26:07,143 p=23552 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:26:08,718 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:08,726 p=23552 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:26:10,263 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:10,277 p=23552 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:26:11,877 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:11,885 p=23552 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:26:14,417 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:14,425 p=23552 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:26:15,959 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:26:17,414 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:26:18,927 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:26:18,939 p=23552 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:26:20,839 p=23552 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:26:20,844 p=23552 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:26:20,869 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:20,875 p=23552 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:26:20,906 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:20,915 p=23552 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:26:20,941 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:26:20,945 p=23552 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:26:20,956 p=23552 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:26:20,961 p=23552 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:26:20,971 p=23552 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:26:20,977 p=23552 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:26:20,988 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:26:20,994 p=23552 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:27:32,215 p=23552 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:27:32,222 p=23552 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:27:33,840 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:33,845 p=23552 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:27:35,420 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:35,429 p=23552 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:27:37,767 p=23552 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:27:37,776 p=23552 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:27:40,807 p=23552 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:27:40,815 p=23552 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:27:42,612 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:42,621 p=23552 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:27:42,640 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:42,650 p=23552 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:27:44,503 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:44,512 p=23552 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:27:44,535 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:44,543 p=23552 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:27:46,184 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:46,194 p=23552 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:27:46,218 p=23552 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:46,230 p=23552 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:27:46,230 p=23552 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 22:27:46,230 p=23552 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:46,230 p=23552 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:46,230 p=23552 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:46,230 p=23552 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:46,231 p=23552 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:52,100 p=23891 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:27:52,124 p=23891 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:27:54,140 p=23891 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:27:54,241 p=23891 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:27:54,281 p=23891 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:27:54,371 p=23891 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:27:54,475 p=23891 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:27:56,341 p=23891 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:27:56,352 p=23891 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:27:56,434 p=23891 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:27:56,496 p=23891 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:27:56,524 p=23891 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:27:56,533 p=23891 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:27:56,546 p=23891 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:27:56,547 p=23891 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:27:56,559 p=23891 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:27:56,565 p=23891 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 22:27:56,636 p=23891 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:27:56,651 p=23891 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:27:56,673 p=23891 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:27:56,675 p=23891 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:27:56,676 p=23891 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:27:56,688 p=23891 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:27:56,693 p=23891 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 22:27:56,771 p=23891 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:27:56,778 p=23891 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:27:56,786 p=23891 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:27:56,790 p=23891 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:27:56,800 p=23891 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:27:56,810 p=23891 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:27:56,819 p=23891 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:27:56,820 p=23891 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-12 22:27:56,820 p=23891 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:56,820 p=23891 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:56,820 p=23891 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:56,820 p=23891 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:27:56,820 p=23891 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:28:16,515 p=24000 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:28:16,527 p=24000 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:28:18,766 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:18,780 p=24000 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:28:18,805 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:18,813 p=24000 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:28:18,823 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:28:18,834 p=24000 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:28:18,838 p=24000 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:28:20,773 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:20,783 p=24000 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:28:20,831 p=24000 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:28:20,849 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 22:28:20,858 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:28:20,866 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:28:20,870 p=24000 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:28:20,884 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:20,889 p=24000 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:28:20,913 p=24000 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 22:28:20,922 p=24000 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:28:24,812 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:28:24,825 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:28:27,999 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:28,007 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:28:29,683 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:29,691 p=24000 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:28:31,504 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:31,511 p=24000 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:28:33,052 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:33,064 p=24000 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:28:35,543 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:35,550 p=24000 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:28:38,625 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:38,635 p=24000 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:28:40,149 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 22:28:41,519 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 22:28:42,967 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 22:28:42,978 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:28:44,418 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:44,426 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:28:46,016 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:46,027 p=24000 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:28:47,619 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:47,625 p=24000 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:28:49,807 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:49,815 p=24000 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:28:51,449 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:28:53,107 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:28:54,478 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:28:54,483 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:28:56,268 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:56,278 p=24000 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:28:56,300 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:56,307 p=24000 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:28:56,335 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:56,339 p=24000 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:28:56,363 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:28:56,369 p=24000 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:34:14,355 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:34:14,362 p=24000 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:34:14,435 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:14,442 p=24000 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:34:14,461 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.14 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:34:14,470 p=24000 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:34:14,490 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:14,496 p=24000 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:34:16,018 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:34:16,028 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:34:17,507 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:34:17,520 p=24000 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:34:20,486 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:34:20,494 p=24000 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:34:23,186 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:34:23,193 p=24000 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:34:23,207 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:23,214 p=24000 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:34:23,227 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:23,231 p=24000 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:34:23,245 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:23,259 p=24000 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:34:23,271 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:23,278 p=24000 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:34:23,289 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:23,295 p=24000 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:34:23,306 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:23,321 p=24000 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:34:23,328 p=24000 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:34:25,328 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:25,340 p=24000 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:34:25,369 p=24000 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:34:25,391 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:25,401 p=24000 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 22:34:25,421 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:25,432 p=24000 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 22:34:25,450 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:34:25,460 p=24000 u=vagrant n=ansible | PLAY [Join to cluster] ******************************************************************************************
2024-11-12 22:34:25,466 p=24000 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:34:27,500 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:27,516 p=24000 u=vagrant n=ansible | TASK [Deploy k8s cluster] ***************************************************************************************
2024-11-12 22:34:27,557 p=24000 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:34:27,575 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 22:34:27,579 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:34:27,584 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:34:27,589 p=24000 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:34:27,610 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:27,614 p=24000 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:34:27,636 p=24000 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 22:34:27,647 p=24000 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:34:31,858 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:34:31,868 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:34:34,851 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:34,858 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:34:36,647 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:36,656 p=24000 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:34:38,806 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:38,814 p=24000 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:34:40,878 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:40,888 p=24000 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:34:43,496 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:43,504 p=24000 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:34:47,435 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:47,447 p=24000 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:34:48,910 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 22:34:50,263 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 22:34:51,676 p=24000 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 22:34:51,688 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:34:53,236 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:53,246 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:34:54,855 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:54,861 p=24000 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:34:56,457 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:56,469 p=24000 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:34:58,802 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:34:58,811 p=24000 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:35:00,334 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:35:01,847 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:35:03,311 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:35:03,323 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:35:05,096 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:35:05,104 p=24000 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:35:05,133 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:35:05,140 p=24000 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:35:05,163 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:35:05,171 p=24000 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:35:05,195 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:35:05,208 p=24000 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:35:06,680 p=24000 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:35:06,693 p=24000 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:35:06,708 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:35:06,717 p=24000 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:35:06,731 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.14 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:35:06,736 p=24000 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:35:06,753 p=24000 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:35:06,759 p=24000 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:35:08,482 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:35:08,490 p=24000 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:35:10,105 p=24000 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:35:10,117 p=24000 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:35:12,394 p=24000 u=vagrant n=ansible | ok: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:35:12,404 p=24000 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:35:46,578 p=24000 u=vagrant n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:00:32.305283", "end": "2024-11-12 22:35:36.672425", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 22:35:04.367142", "stderr": "error: error validating \"/opt/k8s_deploy/plugins/dashboard.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false", "stderr_lines": ["error: error validating \"/opt/k8s_deploy/plugins/dashboard.yml\": error validating data: failed to download openapi: Get \"https://192.168.57.201:6443/openapi/v2?timeout=32s\": EOF; if you choose to ignore these errors, turn validation off with --validate=false"], "stdout": "", "stdout_lines": []}
2024-11-12 22:35:46,579 p=24000 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:35:46,580 p=24000 u=vagrant n=ansible | 192.168.57.14              : ok=57   changed=11   unreachable=0    failed=1    skipped=13   rescued=0    ignored=0   
2024-11-12 22:39:31,447 p=24584 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:39:31,459 p=24584 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:39:33,756 p=24584 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:39:33,763 p=24584 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:39:33,890 p=24584 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:39:33,904 p=24584 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:39:34,909 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:35,972 p=24584 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:39:35,989 p=24584 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:39:36,027 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:36,036 p=24584 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:39:36,052 p=24584 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:39:36,078 p=24584 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:39:36,083 p=24584 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:39:38,114 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:38,124 p=24584 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:39:38,171 p=24584 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:39:38,194 p=24584 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:39:38,195 p=24584 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:39:38,196 p=24584 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:39:38,208 p=24584 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:39:38,221 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:38,229 p=24584 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:39:38,254 p=24584 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:39:38,266 p=24584 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:39:42,859 p=24584 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:39:42,872 p=24584 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:39:46,091 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:46,105 p=24584 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:39:47,943 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:47,953 p=24584 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:39:49,756 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:49,767 p=24584 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:39:51,469 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:51,479 p=24584 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:39:54,185 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:54,201 p=24584 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:39:57,277 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:39:57,290 p=24584 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:39:59,141 p=24584 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:40:00,827 p=24584 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:40:02,284 p=24584 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:40:02,294 p=24584 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:40:04,085 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:04,099 p=24584 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:40:05,691 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:05,705 p=24584 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:40:07,409 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:07,419 p=24584 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:40:09,804 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:09,818 p=24584 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:40:11,448 p=24584 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:40:13,043 p=24584 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:40:14,760 p=24584 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:40:14,772 p=24584 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:40:16,628 p=24584 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:40:16,644 p=24584 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:40:16,666 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:16,675 p=24584 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:40:16,695 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:16,710 p=24584 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:40:16,730 p=24584 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:40:16,739 p=24584 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:41:46,041 p=24584 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 22:41:52,070 p=24840 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:41:52,079 p=24840 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:41:54,410 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:41:54,489 p=24840 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:41:54,503 p=24840 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:41:54,507 p=24840 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:41:54,825 p=24840 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:41:56,437 p=24840 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:41:56,451 p=24840 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:41:56,480 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:41:56,485 p=24840 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:41:56,495 p=24840 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:41:56,505 p=24840 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:41:56,509 p=24840 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:41:58,534 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:41:58,549 p=24840 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:41:58,592 p=24840 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:41:58,619 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:41:58,621 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:41:58,625 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:41:58,631 p=24840 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:41:58,643 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:41:58,648 p=24840 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:41:58,669 p=24840 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:41:58,677 p=24840 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:42:03,044 p=24840 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:42:03,053 p=24840 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:42:06,097 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:06,103 p=24840 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:42:07,688 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:07,696 p=24840 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:42:09,624 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:09,637 p=24840 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:42:11,405 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:11,414 p=24840 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:42:14,041 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:14,050 p=24840 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:42:17,135 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:17,147 p=24840 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:42:18,651 p=24840 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:42:20,055 p=24840 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:42:21,688 p=24840 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:42:21,697 p=24840 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:42:23,240 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:23,253 p=24840 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:42:24,882 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:24,896 p=24840 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:42:26,679 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:26,694 p=24840 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:42:29,129 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:29,140 p=24840 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:42:30,782 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:42:32,233 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:42:33,769 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:42:33,783 p=24840 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:42:35,534 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:35,544 p=24840 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:42:35,564 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:35,572 p=24840 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:42:35,589 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:35,597 p=24840 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:42:35,616 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:42:35,628 p=24840 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:42:35,641 p=24840 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:42:35,657 p=24840 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:42:35,669 p=24840 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:42:35,677 p=24840 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:42:35,691 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:42:35,698 p=24840 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:43:05,398 p=24840 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:43:05,413 p=24840 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:43:06,991 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:07,003 p=24840 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:43:08,469 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:08,479 p=24840 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:43:10,875 p=24840 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:43:10,884 p=24840 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:43:34,344 p=24840 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:43:34,356 p=24840 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:43:36,078 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:36,087 p=24840 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:43:36,103 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:36,109 p=24840 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:43:37,822 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:37,831 p=24840 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:43:37,853 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:37,858 p=24840 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:43:39,548 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:39,587 p=24840 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:43:39,605 p=24840 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:43:39,614 p=24840 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:43:39,615 p=24840 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 22:43:39,615 p=24840 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:43:39,615 p=24840 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:43:39,615 p=24840 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:43:39,615 p=24840 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:43:39,615 p=24840 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:44:08,014 p=25183 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:44:08,043 p=25183 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:44:10,377 p=25183 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:44:10,386 p=25183 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:10,408 p=25183 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:44:10,418 p=25183 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:44:10,446 p=25183 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:44:12,489 p=25183 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:44:12,506 p=25183 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:44:12,599 p=25183 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:44:12,636 p=25183 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:44:12,684 p=25183 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:12,694 p=25183 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:44:12,719 p=25183 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:44:12,725 p=25183 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:44:12,727 p=25183 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:44:12,732 p=25183 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 22:44:12,771 p=25183 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:44:12,811 p=25183 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:12,836 p=25183 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:44:12,839 p=25183 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:44:12,840 p=25183 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:44:12,853 p=25183 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:44:12,864 p=25183 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 22:44:12,924 p=25183 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:44:12,943 p=25183 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:12,951 p=25183 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:44:12,968 p=25183 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:44:12,978 p=25183 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:44:12,990 p=25183 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:44:13,002 p=25183 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:44:13,002 p=25183 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-12 22:44:13,003 p=25183 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:44:13,003 p=25183 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:44:13,003 p=25183 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:44:13,003 p=25183 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:44:13,003 p=25183 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:44:29,359 p=25292 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:44:29,369 p=25292 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:44:31,553 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:31,565 p=25292 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:44:31,591 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:31,596 p=25292 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:44:31,613 p=25292 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:44:31,628 p=25292 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:44:31,632 p=25292 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:44:33,479 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:33,496 p=25292 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:44:33,536 p=25292 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:44:33,552 p=25292 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 22:44:33,557 p=25292 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:44:33,558 p=25292 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:44:33,563 p=25292 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:44:33,586 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:33,593 p=25292 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:44:33,629 p=25292 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 22:44:33,643 p=25292 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:44:38,063 p=25292 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:44:38,074 p=25292 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:44:41,048 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:41,055 p=25292 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:44:42,623 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:42,634 p=25292 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:44:44,367 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:44,378 p=25292 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:44:46,024 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:46,035 p=25292 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:44:48,468 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:48,479 p=25292 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:44:51,585 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:51,596 p=25292 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:44:53,104 p=25292 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 22:44:54,627 p=25292 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 22:44:56,104 p=25292 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 22:44:56,116 p=25292 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:44:57,769 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:57,777 p=25292 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:44:59,356 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:44:59,366 p=25292 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:45:01,095 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:45:01,107 p=25292 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:45:03,583 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:45:03,592 p=25292 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:45:05,274 p=25292 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:45:06,812 p=25292 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:45:08,469 p=25292 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:45:08,478 p=25292 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:45:10,500 p=25292 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:45:10,509 p=25292 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:45:10,540 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:45:10,549 p=25292 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:45:10,578 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:45:10,585 p=25292 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:45:10,609 p=25292 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:45:10,616 p=25292 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:45:12,167 p=25292 u=vagrant n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --apiserver-advertise-address 192.168.57.14    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:c1b7bb1fb3937522d4b5848788edb35c8dfdb6b72ddfa3a9f465e7716b7e9401    --certificate-key \n", "delta": "0:00:00.083438", "end": "2024-11-12 22:45:02.535357", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 22:45:02.451919", "stderr": "E1112 22:45:02.503317   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:45:02.504878   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:45:02.506227   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:45:02.507673   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 22:45:02.508989   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nflag needs an argument: --certificate-key\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 22:45:02.503317   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:45:02.504878   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:45:02.506227   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:45:02.507673   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 22:45:02.508989   68581 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "flag needs an argument: --certificate-key", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "", "stdout_lines": []}
2024-11-12 22:45:12,169 p=25292 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:45:12,169 p=25292 u=vagrant n=ansible | 192.168.57.14              : ok=24   changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 22:46:05,684 p=25507 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:46:05,691 p=25507 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:46:07,719 p=25507 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:46:07,774 p=25507 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:46:07,922 p=25507 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:46:08,057 p=25507 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:46:08,063 p=25507 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:09,796 p=25507 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:46:09,810 p=25507 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:46:09,846 p=25507 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:09,853 p=25507 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:46:09,866 p=25507 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:46:09,881 p=25507 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:46:09,896 p=25507 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:46:12,045 p=25507 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:12,064 p=25507 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:46:12,127 p=25507 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:46:12,156 p=25507 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:46:12,159 p=25507 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:46:12,160 p=25507 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:46:12,167 p=25507 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:46:12,180 p=25507 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:12,187 p=25507 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:46:12,218 p=25507 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:46:12,229 p=25507 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:46:16,482 p=25507 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:46:16,492 p=25507 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:46:19,675 p=25507 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:19,688 p=25507 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:46:21,376 p=25507 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:21,389 p=25507 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:46:23,150 p=25507 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 22:46:53,643 p=25643 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:46:53,664 p=25643 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:46:55,592 p=25643 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:46:55,606 p=25643 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:46:55,714 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:55,775 p=25643 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:46:55,873 p=25643 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:46:57,455 p=25643 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:46:57,468 p=25643 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:46:57,513 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:57,524 p=25643 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:46:57,536 p=25643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:46:57,547 p=25643 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:46:57,553 p=25643 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:46:59,450 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:59,459 p=25643 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:46:59,510 p=25643 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:46:59,530 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:46:59,535 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:46:59,537 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:46:59,553 p=25643 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:46:59,567 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:46:59,573 p=25643 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:46:59,604 p=25643 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:46:59,612 p=25643 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:47:02,439 p=25643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:47:02,452 p=25643 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:47:05,571 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:05,585 p=25643 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:47:07,397 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:07,409 p=25643 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:47:09,447 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:09,458 p=25643 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:47:11,174 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:11,185 p=25643 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:47:13,778 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:13,787 p=25643 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:47:17,089 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:17,101 p=25643 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:47:18,781 p=25643 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:47:20,359 p=25643 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:47:22,012 p=25643 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:47:22,025 p=25643 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:47:23,518 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:23,527 p=25643 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:47:25,231 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:25,240 p=25643 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:47:26,877 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:26,892 p=25643 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:47:29,151 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:29,164 p=25643 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:47:30,762 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:47:33,399 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:47:35,027 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:47:35,037 p=25643 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:47:36,961 p=25643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:47:36,972 p=25643 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:47:36,996 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:37,005 p=25643 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:47:37,023 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:37,030 p=25643 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:47:37,047 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:47:37,054 p=25643 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:47:37,066 p=25643 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:47:37,072 p=25643 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:47:37,088 p=25643 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:47:37,094 p=25643 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:47:37,108 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:47:37,117 p=25643 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:48:39,748 p=25643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:48:39,761 p=25643 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:48:41,489 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:41,498 p=25643 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:48:43,086 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:43,100 p=25643 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:48:45,476 p=25643 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:48:45,485 p=25643 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:48:48,285 p=25643 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:48:48,299 p=25643 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:48:50,029 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:50,042 p=25643 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:48:50,065 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:50,071 p=25643 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:48:51,679 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:51,688 p=25643 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:48:51,711 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:51,723 p=25643 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:48:53,233 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:53,245 p=25643 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:48:53,260 p=25643 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:48:53,275 p=25643 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:48:53,275 p=25643 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 22:48:53,275 p=25643 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:48:53,276 p=25643 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:48:53,276 p=25643 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:48:53,276 p=25643 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:48:53,276 p=25643 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:49:22,735 p=25981 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:49:22,758 p=25981 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:49:24,839 p=25981 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:49:24,933 p=25981 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:49:25,008 p=25981 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:25,011 p=25981 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:49:26,187 p=25981 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:49:26,865 p=25981 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:49:26,879 p=25981 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:49:26,998 p=25981 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:49:27,083 p=25981 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:49:27,104 p=25981 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:27,115 p=25981 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:49:27,126 p=25981 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:49:27,131 p=25981 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:49:27,143 p=25981 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:49:27,150 p=25981 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 22:49:27,189 p=25981 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:49:27,243 p=25981 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:27,257 p=25981 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:49:27,262 p=25981 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:49:27,264 p=25981 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:49:27,268 p=25981 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:49:27,276 p=25981 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 22:49:27,338 p=25981 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:49:27,385 p=25981 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:49:27,388 p=25981 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:27,402 p=25981 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:49:27,408 p=25981 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:49:27,419 p=25981 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:49:27,430 p=25981 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:49:36,811 p=26087 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:49:36,822 p=26087 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:49:38,750 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:38,761 p=26087 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:49:38,783 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:38,791 p=26087 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:49:38,802 p=26087 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:49:38,812 p=26087 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:49:38,816 p=26087 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:49:40,654 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:40,662 p=26087 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:49:40,701 p=26087 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:49:40,731 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 22:49:40,734 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:49:40,737 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:49:40,745 p=26087 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:49:40,760 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:40,765 p=26087 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:49:40,798 p=26087 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 22:49:40,812 p=26087 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:49:45,011 p=26087 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:49:45,020 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:49:48,386 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:48,403 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:49:50,039 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:50,052 p=26087 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:49:51,953 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:51,962 p=26087 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:49:53,567 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:53,576 p=26087 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:49:56,059 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:56,069 p=26087 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:49:58,924 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:49:58,932 p=26087 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:50:00,427 p=26087 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 22:50:02,091 p=26087 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 22:50:03,767 p=26087 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 22:50:03,776 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:50:05,288 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:05,296 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:50:06,863 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:06,877 p=26087 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:50:08,486 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:08,497 p=26087 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:50:11,021 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:11,031 p=26087 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:50:12,587 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:50:14,183 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:50:15,683 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:50:15,697 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:50:17,549 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:17,557 p=26087 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:50:17,586 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:17,590 p=26087 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:50:17,620 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:17,626 p=26087 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:50:17,653 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:50:17,660 p=26087 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:52:41,911 p=26087 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:52:41,920 p=26087 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:52:41,935 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:41,942 p=26087 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:52:41,959 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.14 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:52:41,965 p=26087 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:52:41,981 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:41,989 p=26087 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:52:43,531 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:43,543 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:52:43,564 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,574 p=26087 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:52:43,602 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml) 
2024-11-12 22:52:43,614 p=26087 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:52:43,635 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,642 p=26087 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:52:43,660 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,668 p=26087 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:52:43,686 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,694 p=26087 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:52:43,707 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,712 p=26087 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:52:43,732 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,738 p=26087 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:52:43,755 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,762 p=26087 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:52:43,779 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:43,797 p=26087 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 22:52:43,809 p=26087 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:52:45,588 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:45,604 p=26087 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 22:52:45,633 p=26087 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 22:52:45,653 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:45,658 p=26087 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 22:52:45,674 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:45,679 p=26087 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 22:52:45,695 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:52:45,709 p=26087 u=vagrant n=ansible | PLAY [Join to cluster] ******************************************************************************************
2024-11-12 22:52:45,714 p=26087 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:52:47,537 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:47,555 p=26087 u=vagrant n=ansible | TASK [Deploy k8s cluster] ***************************************************************************************
2024-11-12 22:52:47,607 p=26087 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:52:47,627 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 22:52:47,635 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:52:47,640 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:52:47,645 p=26087 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:52:47,671 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:47,679 p=26087 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:52:47,709 p=26087 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 22:52:47,719 p=26087 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:52:51,814 p=26087 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:52:51,825 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:52:54,707 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:54,719 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:52:56,100 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:56,108 p=26087 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:52:58,054 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:58,064 p=26087 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:52:59,693 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:52:59,701 p=26087 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:53:02,404 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:02,412 p=26087 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:53:05,571 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:05,584 p=26087 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:53:07,173 p=26087 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 22:53:08,745 p=26087 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 22:53:10,180 p=26087 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 22:53:10,189 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:53:11,716 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:11,726 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:53:13,339 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:13,351 p=26087 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:53:14,797 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:14,808 p=26087 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:53:17,170 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:17,185 p=26087 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:53:18,835 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:53:20,481 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:53:21,971 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:53:21,980 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:53:23,559 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:23,568 p=26087 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:53:23,595 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:23,600 p=26087 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:53:23,619 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:23,627 p=26087 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:53:23,647 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:23,652 p=26087 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:53:25,307 p=26087 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 22:53:25,315 p=26087 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:53:25,331 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:25,340 p=26087 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:53:25,357 p=26087 u=vagrant n=ansible | ok: [192.168.57.14] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.14 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:53:25,367 p=26087 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:53:25,383 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:25,390 p=26087 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:53:26,891 p=26087 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:53:26,903 p=26087 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:53:26,917 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:26,929 p=26087 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:53:26,957 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml) 
2024-11-12 22:53:26,966 p=26087 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:53:26,981 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:26,986 p=26087 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:53:27,000 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:27,005 p=26087 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:53:27,017 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:27,022 p=26087 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:53:27,034 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:27,039 p=26087 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:53:27,049 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:27,055 p=26087 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:53:27,067 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:27,074 p=26087 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:53:27,086 p=26087 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-12 22:53:27,100 p=26087 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:53:27,101 p=26087 u=vagrant n=ansible | 192.168.57.14              : ok=52   changed=7    unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2024-11-12 22:54:35,563 p=26580 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 22:54:35,578 p=26580 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:54:37,808 p=26580 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 22:54:37,899 p=26580 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 22:54:38,070 p=26580 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 22:54:38,079 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:38,082 p=26580 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 22:54:40,033 p=26580 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 22:54:40,043 p=26580 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 22:54:40,081 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:40,087 p=26580 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 22:54:40,098 p=26580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:54:40,111 p=26580 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 22:54:40,115 p=26580 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 22:54:42,167 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:42,176 p=26580 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 22:54:42,225 p=26580 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 22:54:42,250 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 22:54:42,254 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 22:54:42,257 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 22:54:42,261 p=26580 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 22:54:42,284 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:42,295 p=26580 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 22:54:42,335 p=26580 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 22:54:42,343 p=26580 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 22:54:46,623 p=26580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:54:46,631 p=26580 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 22:54:49,767 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:49,783 p=26580 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 22:54:51,420 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:51,431 p=26580 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 22:54:53,379 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:53,390 p=26580 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 22:54:55,248 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:55,261 p=26580 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 22:54:57,903 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:54:57,915 p=26580 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 22:55:01,216 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:01,232 p=26580 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 22:55:03,102 p=26580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 22:55:04,737 p=26580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 22:55:06,214 p=26580 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 22:55:06,222 p=26580 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 22:55:07,851 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:07,859 p=26580 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 22:55:09,456 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:09,469 p=26580 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 22:55:11,507 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:11,516 p=26580 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 22:55:15,101 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:15,112 p=26580 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 22:55:16,780 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 22:55:18,357 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 22:55:20,078 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 22:55:20,089 p=26580 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 22:55:21,820 p=26580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:55:21,831 p=26580 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 22:55:21,850 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:21,858 p=26580 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 22:55:21,875 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:21,882 p=26580 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 22:55:21,899 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:21,906 p=26580 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 22:55:21,916 p=26580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:55:21,922 p=26580 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 22:55:21,932 p=26580 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 22:55:21,938 p=26580 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 22:55:21,950 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 22:55:21,955 p=26580 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 22:55:51,970 p=26580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:55:51,980 p=26580 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 22:55:53,709 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:53,724 p=26580 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 22:55:55,418 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:55:55,427 p=26580 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 22:55:57,999 p=26580 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 22:55:58,010 p=26580 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 22:56:20,822 p=26580 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 22:56:20,831 p=26580 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 22:56:22,386 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:56:22,402 p=26580 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 22:56:22,433 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:56:22,443 p=26580 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 22:56:23,920 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:56:23,928 p=26580 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 22:56:23,950 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:56:23,963 p=26580 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 22:56:25,568 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:56:25,582 p=26580 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 22:56:25,609 p=26580 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 22:56:25,630 p=26580 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 22:56:25,630 p=26580 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 22:56:25,630 p=26580 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:56:25,631 p=26580 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:56:25,631 p=26580 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:56:25,631 p=26580 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 22:56:25,631 p=26580 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:02:23,625 p=26916 u=vagrant n=ansible | PLAY [Sync actions] *********************************************************************************************
2024-11-12 23:02:23,653 p=26916 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:02:25,914 p=26916 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:26,024 p=26916 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:02:26,031 p=26916 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:02:26,076 p=26916 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:02:26,083 p=26916 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:02:28,015 p=26916 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:02:28,039 p=26916 u=vagrant n=ansible | TASK [Sync facts] ***********************************************************************************************
2024-11-12 23:02:28,165 p=26916 u=vagrant n=ansible | TASK [k8s : Set join_token fact] ********************************************************************************
2024-11-12 23:02:28,242 p=26916 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:02:28,253 p=26916 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:28,260 p=26916 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:02:28,264 p=26916 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:02:28,280 p=26916 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:02:28,294 p=26916 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:02:28,302 p=26916 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] *********************************************************************************
2024-11-12 23:02:28,336 p=26916 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:02:28,373 p=26916 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:28,399 p=26916 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:02:28,404 p=26916 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:02:28,408 p=26916 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:02:28,417 p=26916 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:02:28,422 p=26916 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] **********************************************************************************
2024-11-12 23:02:28,484 p=26916 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:02:28,507 p=26916 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:28,509 p=26916 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:02:28,521 p=26916 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:02:28,523 p=26916 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:02:28,541 p=26916 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:02:28,550 p=26916 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:02:28,551 p=26916 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-12 23:02:28,551 p=26916 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:02:28,551 p=26916 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:02:28,551 p=26916 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:02:28,551 p=26916 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:02:28,551 p=26916 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:02:32,707 p=27022 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:02:32,724 p=27022 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:02:34,726 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:34,740 p=27022 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:02:34,765 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:34,776 p=27022 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:02:34,790 p=27022 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 23:02:34,799 p=27022 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:02:34,804 p=27022 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:02:37,854 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:37,861 p=27022 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:02:37,908 p=27022 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:02:37,931 p=27022 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-12 23:02:37,933 p=27022 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:02:37,935 p=27022 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:02:37,946 p=27022 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:02:37,958 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:37,963 p=27022 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:02:37,986 p=27022 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-12 23:02:38,000 p=27022 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:02:42,305 p=27022 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 23:02:42,317 p=27022 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:02:45,205 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:45,213 p=27022 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:02:46,974 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:46,987 p=27022 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:02:48,855 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:48,866 p=27022 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:02:50,524 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:50,540 p=27022 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:02:52,976 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:52,983 p=27022 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:02:56,123 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:02:56,132 p=27022 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:02:57,720 p=27022 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-12 23:02:59,223 p=27022 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-12 23:03:00,769 p=27022 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-12 23:03:00,780 p=27022 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:03:02,327 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:02,336 p=27022 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:03:03,934 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:03,944 p=27022 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:03:05,692 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:05,705 p=27022 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:03:07,899 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:07,908 p=27022 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:03:09,494 p=27022 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:03:11,076 p=27022 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:03:12,754 p=27022 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:03:12,762 p=27022 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:03:14,612 p=27022 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 23:03:14,625 p=27022 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:03:14,659 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:14,665 p=27022 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:03:14,692 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:14,706 p=27022 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:03:14,725 p=27022 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:03:14,730 p=27022 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:03:16,441 p=27022 u=vagrant n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --apiserver-advertise-address 192.168.57.14    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:fa8ed763f561e5a06449d85158dc336065109c3e387b468ffd0b8fcfb0e937d8    --certificate-key \n", "delta": "0:00:00.112411", "end": "2024-11-12 23:03:06.787057", "msg": "non-zero return code", "rc": 1, "start": "2024-11-12 23:03:06.674646", "stderr": "E1112 23:03:06.738319   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 23:03:06.739887   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 23:03:06.743752   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 23:03:06.745519   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1112 23:03:06.747347   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nflag needs an argument: --certificate-key\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1112 23:03:06.738319   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 23:03:06.739887   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 23:03:06.743752   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 23:03:06.745519   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1112 23:03:06.747347   97993 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "flag needs an argument: --certificate-key", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "", "stdout_lines": []}
2024-11-12 23:03:16,443 p=27022 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:03:16,444 p=27022 u=vagrant n=ansible | 192.168.57.14              : ok=24   changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-12 23:08:42,643 p=27237 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:08:42,651 p=27237 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:08:44,963 p=27237 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:08:44,978 p=27237 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:08:44,995 p=27237 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:08:45,001 p=27237 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:08:45,018 p=27237 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 23:08:45,033 p=27237 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:08:45,044 p=27237 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:08:47,086 p=27237 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:08:47,094 p=27237 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:08:47,128 p=27237 u=vagrant n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  could not find expected ':'

The error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/bootstrap.yml': line 68, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


#### if a controller has not been bootstrapped and cached, then configure the node as a bootstrap node
^ here

2024-11-12 23:08:47,129 p=27237 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:08:47,129 p=27237 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:09:48,927 p=27270 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:09:48,938 p=27270 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:09:51,078 p=27270 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:09:51,089 p=27270 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:09:51,104 p=27270 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:09:51,119 p=27270 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:09:51,135 p=27270 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-12 23:09:51,147 p=27270 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:09:51,151 p=27270 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:09:52,927 p=27270 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:09:52,935 p=27270 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:09:52,973 p=27270 u=vagrant n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  could not find expected ':'

The error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/bootstrap.yml': line 69, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


#### if a controller has not been bootstrapped and cached, then configure the node as a bootstrap node
^ here

2024-11-12 23:09:52,974 p=27270 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:09:52,975 p=27270 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:11:24,036 p=27300 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:11:24,063 p=27300 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:11:26,246 p=27300 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 23:11:44,919 p=27311 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:11:44,926 p=27311 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:11:46,877 p=27311 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:11:47,034 p=27311 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:11:47,243 p=27311 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:11:47,248 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:11:48,292 p=27311 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:11:49,016 p=27311 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:11:49,044 p=27311 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:11:49,080 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:11:49,093 p=27311 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:11:49,113 p=27311 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:11:49,125 p=27311 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:11:49,131 p=27311 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:11:51,240 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:11:51,258 p=27311 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:11:51,302 p=27311 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:11:51,327 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 23:11:51,329 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:11:51,333 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:11:51,341 p=27311 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:11:51,356 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:11:51,367 p=27311 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:11:51,391 p=27311 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 23:11:51,400 p=27311 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:11:56,035 p=27311 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:11:56,042 p=27311 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:11:59,199 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:11:59,208 p=27311 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:12:00,885 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:00,894 p=27311 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:12:02,776 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:02,788 p=27311 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:12:04,588 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:04,598 p=27311 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:12:07,332 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:07,341 p=27311 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:12:10,473 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:10,484 p=27311 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:12:12,116 p=27311 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 23:12:13,688 p=27311 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 23:12:15,427 p=27311 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 23:12:15,438 p=27311 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:12:16,994 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:17,005 p=27311 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:12:18,620 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:18,634 p=27311 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:12:20,307 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:20,317 p=27311 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:12:22,885 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:22,894 p=27311 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:12:24,572 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:12:26,258 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:12:27,765 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:12:27,776 p=27311 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:12:29,616 p=27311 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:12:29,626 p=27311 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:12:29,650 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:29,658 p=27311 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:12:29,675 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:29,680 p=27311 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:12:29,704 p=27311 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:12:29,709 p=27311 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:12:29,719 p=27311 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:12:29,724 p=27311 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 23:12:29,733 p=27311 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:12:29,738 p=27311 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 23:12:29,748 p=27311 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --service-cidr=10.0.0.0/12 --pod-network-cidr=10.244.0.0/16 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.244.0.0/16 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 23:12:29,753 p=27311 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 23:13:00,869 p=27311 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 23:17:49,488 p=27638 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:17:49,510 p=27638 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:17:51,713 p=27638 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:17:51,749 p=27638 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:17:51,765 p=27638 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:17:51,775 p=27638 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:17:51,843 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:17:53,808 p=27638 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:17:53,823 p=27638 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:17:53,865 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:17:53,871 p=27638 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:17:53,881 p=27638 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:17:53,892 p=27638 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:17:53,897 p=27638 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:17:55,865 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:17:55,876 p=27638 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:17:55,919 p=27638 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:17:55,945 p=27638 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 23:17:55,951 p=27638 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:17:55,957 p=27638 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:17:55,962 p=27638 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:17:55,976 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:17:55,987 p=27638 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:17:56,014 p=27638 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 23:17:56,023 p=27638 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:18:00,190 p=27638 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:18:00,198 p=27638 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:18:03,451 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:03,465 p=27638 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:18:05,097 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:05,113 p=27638 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:18:07,040 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:07,053 p=27638 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:18:08,832 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:08,841 p=27638 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:18:11,347 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:11,358 p=27638 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:18:14,580 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:14,590 p=27638 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:18:16,162 p=27638 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 23:18:17,807 p=27638 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 23:18:19,498 p=27638 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 23:18:19,509 p=27638 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:18:21,137 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:21,147 p=27638 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:18:22,765 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:22,774 p=27638 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:18:24,420 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:24,432 p=27638 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:18:26,963 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:26,972 p=27638 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:18:28,528 p=27638 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:18:30,000 p=27638 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:18:31,583 p=27638 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:18:31,596 p=27638 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:18:33,448 p=27638 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:18:33,460 p=27638 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:18:33,481 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:33,488 p=27638 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:18:33,511 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:33,516 p=27638 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:18:33,536 p=27638 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:18:33,550 p=27638 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:18:33,563 p=27638 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:18:33,571 p=27638 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 23:18:33,582 p=27638 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:18:33,588 p=27638 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 23:18:33,600 p=27638 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'pod_cidr' is undefined\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/common/bootstrap.yml': line 57, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Display the command to be run\n  ^ here\n"}
2024-11-12 23:18:33,601 p=27638 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:18:33,601 p=27638 u=vagrant n=ansible | 192.168.57.13              : ok=24   changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-12 23:18:33,602 p=27638 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:18:33,602 p=27638 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:18:33,602 p=27638 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:18:33,602 p=27638 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:18:33,602 p=27638 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:19:37,392 p=27903 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:19:37,405 p=27903 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:19:39,632 p=27903 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:19:39,735 p=27903 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:19:39,763 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:39,766 p=27903 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:19:39,785 p=27903 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:19:41,765 p=27903 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:19:41,785 p=27903 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:19:41,827 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:41,841 p=27903 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:19:41,862 p=27903 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:19:41,876 p=27903 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:19:41,881 p=27903 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:19:43,859 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:43,873 p=27903 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:19:43,925 p=27903 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:19:43,952 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 23:19:43,955 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:19:43,957 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:19:43,962 p=27903 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:19:43,983 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:43,989 p=27903 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:19:44,021 p=27903 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 23:19:44,030 p=27903 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:19:48,432 p=27903 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:19:48,444 p=27903 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:19:51,747 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:51,759 p=27903 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:19:53,655 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:53,667 p=27903 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:19:55,430 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:55,444 p=27903 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:19:57,404 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:57,418 p=27903 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:19:59,986 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:19:59,994 p=27903 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:20:02,932 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:02,947 p=27903 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:20:04,485 p=27903 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 23:20:06,053 p=27903 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 23:20:07,791 p=27903 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 23:20:07,803 p=27903 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:20:09,299 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:09,311 p=27903 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:20:10,792 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:10,807 p=27903 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:20:12,425 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:12,439 p=27903 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:20:14,819 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:14,830 p=27903 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:20:16,658 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:20:18,195 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:20:19,791 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:20:19,810 p=27903 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:20:21,652 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:21,663 p=27903 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:20:21,683 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:21,688 p=27903 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:20:21,706 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:21,714 p=27903 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:20:21,733 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:20:21,739 p=27903 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:20:21,752 p=27903 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:20:21,761 p=27903 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 23:20:21,772 p=27903 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:20:21,778 p=27903 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 23:20:21,789 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --service-cidr=10.0.0.0/12 --pod-network-cidr=10.0.0.0/8 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --pod-network-cidr=10.0.0.0/8 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 23:20:21,796 p=27903 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 23:21:36,654 p=27903 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:21:36,667 p=27903 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 23:21:38,348 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:38,357 p=27903 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 23:21:39,948 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:39,961 p=27903 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 23:21:42,332 p=27903 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 23:21:42,338 p=27903 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 23:21:45,225 p=27903 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:21:45,235 p=27903 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 23:21:46,928 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:46,936 p=27903 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 23:21:46,958 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:46,963 p=27903 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 23:21:48,488 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:48,496 p=27903 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 23:21:48,517 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:48,526 p=27903 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 23:21:49,931 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:49,941 p=27903 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 23:21:49,970 p=27903 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:21:49,987 p=27903 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:21:49,988 p=27903 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 23:21:49,988 p=27903 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:21:49,988 p=27903 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:21:49,988 p=27903 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:21:49,988 p=27903 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:21:49,988 p=27903 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:30:39,340 p=28265 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:30:39,358 p=28265 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:30:41,522 p=28265 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:30:41,633 p=28265 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:30:41,644 p=28265 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:30:41,767 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:41,840 p=28265 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:30:43,594 p=28265 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:30:43,605 p=28265 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:30:43,632 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:43,640 p=28265 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:30:43,650 p=28265 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:30:43,668 p=28265 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:30:43,675 p=28265 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:30:45,697 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:45,707 p=28265 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:30:45,764 p=28265 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:30:45,789 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 23:30:45,792 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:30:45,796 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:30:45,803 p=28265 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:30:45,816 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:45,825 p=28265 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:30:45,858 p=28265 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 23:30:45,874 p=28265 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:30:50,102 p=28265 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:30:50,110 p=28265 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:30:53,382 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:53,394 p=28265 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:30:55,028 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:55,039 p=28265 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:30:56,878 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:56,887 p=28265 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:30:58,496 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:30:58,508 p=28265 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:31:01,011 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:01,024 p=28265 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:31:04,123 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:04,131 p=28265 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:31:05,858 p=28265 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 23:31:07,698 p=28265 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 23:31:09,327 p=28265 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 23:31:09,340 p=28265 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:31:10,937 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:10,946 p=28265 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:31:12,684 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:12,694 p=28265 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:31:14,489 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:14,504 p=28265 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:31:16,913 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:16,928 p=28265 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:31:18,638 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:31:20,131 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:31:21,576 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:31:21,585 p=28265 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:31:23,506 p=28265 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:31:23,514 p=28265 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:31:23,535 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:23,548 p=28265 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:31:23,566 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:23,573 p=28265 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:31:23,588 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:31:23,594 p=28265 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:31:23,605 p=28265 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:31:23,612 p=28265 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 23:31:23,620 p=28265 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:31:23,628 p=28265 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 23:31:23,637 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --service-cidr=10.0.0.0/12 --pod-network-cidr=10.0.0.0/8 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 23:31:23,643 p=28265 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 23:32:37,361 p=28265 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:32:37,374 p=28265 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 23:32:39,011 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:39,021 p=28265 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 23:32:40,712 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:40,720 p=28265 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 23:32:43,174 p=28265 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 23:32:43,188 p=28265 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 23:32:46,059 p=28265 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:32:46,069 p=28265 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 23:32:47,599 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:47,611 p=28265 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 23:32:47,635 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:47,640 p=28265 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 23:32:49,344 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:49,360 p=28265 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 23:32:49,383 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:49,393 p=28265 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 23:32:50,931 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:50,940 p=28265 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 23:32:50,959 p=28265 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:32:50,967 p=28265 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:32:50,968 p=28265 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 23:32:50,968 p=28265 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:32:50,968 p=28265 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:32:50,968 p=28265 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:32:50,968 p=28265 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:32:50,968 p=28265 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:34:01,430 p=28621 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:34:01,455 p=28621 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:34:03,759 p=28621 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:34:03,764 p=28621 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:34:03,863 p=28621 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:34:03,867 p=28621 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:34:03,945 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:06,131 p=28621 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:34:06,141 p=28621 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:34:06,183 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:06,191 p=28621 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:34:06,212 p=28621 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:34:06,224 p=28621 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:34:06,236 p=28621 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:34:08,140 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:08,152 p=28621 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:34:08,215 p=28621 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:34:08,238 p=28621 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 23:34:08,246 p=28621 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:34:08,250 p=28621 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:34:08,255 p=28621 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:34:08,268 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:08,273 p=28621 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:34:08,298 p=28621 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 23:34:08,306 p=28621 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:34:14,152 p=28621 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:34:14,160 p=28621 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:34:17,211 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:17,221 p=28621 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:34:19,049 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:19,064 p=28621 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:34:21,031 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:21,041 p=28621 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:34:22,731 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:22,741 p=28621 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:34:25,530 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:25,544 p=28621 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:34:28,609 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:28,619 p=28621 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:34:30,189 p=28621 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 23:34:31,706 p=28621 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 23:34:33,190 p=28621 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 23:34:33,205 p=28621 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:34:34,767 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:34,776 p=28621 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:34:36,524 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:36,536 p=28621 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:34:38,304 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:38,313 p=28621 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:34:40,856 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:40,867 p=28621 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:34:42,538 p=28621 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:34:44,100 p=28621 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:34:45,768 p=28621 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:34:45,782 p=28621 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:34:47,624 p=28621 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:34:47,634 p=28621 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:34:47,663 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:47,668 p=28621 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:34:47,686 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:47,698 p=28621 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:34:47,715 p=28621 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:34:47,727 p=28621 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:34:52,112 p=28621 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-12 23:35:02,820 p=28879 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-12 23:35:02,834 p=28879 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:35:05,071 p=28879 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-12 23:35:05,099 p=28879 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-12 23:35:05,148 p=28879 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-12 23:35:05,188 p=28879 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-12 23:35:05,252 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:07,480 p=28879 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-12 23:35:07,501 p=28879 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-12 23:35:07,536 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:07,546 p=28879 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-12 23:35:07,557 p=28879 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:35:07,568 p=28879 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-12 23:35:07,574 p=28879 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-12 23:35:09,433 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:09,442 p=28879 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-12 23:35:09,490 p=28879 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-12 23:35:09,511 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-12 23:35:09,515 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-12 23:35:09,519 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-12 23:35:09,531 p=28879 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-12 23:35:09,545 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:09,552 p=28879 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-12 23:35:09,584 p=28879 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-12 23:35:09,592 p=28879 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-12 23:35:13,855 p=28879 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:35:13,867 p=28879 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-12 23:35:16,956 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:16,965 p=28879 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-12 23:35:18,546 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:18,556 p=28879 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-12 23:35:20,472 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:20,485 p=28879 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-12 23:35:22,168 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:22,185 p=28879 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-12 23:35:24,687 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:24,704 p=28879 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-12 23:35:27,594 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:27,606 p=28879 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-12 23:35:29,136 p=28879 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-12 23:35:30,689 p=28879 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-12 23:35:32,435 p=28879 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-12 23:35:32,449 p=28879 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-12 23:35:34,104 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:34,112 p=28879 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-12 23:35:35,616 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:35,625 p=28879 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-12 23:35:37,144 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:37,153 p=28879 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-12 23:35:39,673 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:39,685 p=28879 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-12 23:35:41,360 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-12 23:35:42,863 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-12 23:35:45,813 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-12 23:35:45,826 p=28879 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-12 23:35:47,724 p=28879 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:35:47,737 p=28879 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-12 23:35:47,758 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:47,763 p=28879 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-12 23:35:47,788 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:47,795 p=28879 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-12 23:35:47,813 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:35:47,820 p=28879 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-12 23:35:47,831 p=28879 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:35:47,842 p=28879 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-12 23:35:47,857 p=28879 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-12 23:35:47,863 p=28879 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-12 23:35:47,876 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --service-cidr=10.0.0.0/12 --pod-network-cidr=10.0.0.0/8 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-12 23:35:47,884 p=28879 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-12 23:37:02,646 p=28879 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:37:02,661 p=28879 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-12 23:37:04,528 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:04,537 p=28879 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-12 23:37:06,132 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:06,142 p=28879 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-12 23:37:08,559 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/calico.yml)
2024-11-12 23:37:11,036 p=28879 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/dashboard.yml)
2024-11-12 23:37:11,045 p=28879 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-12 23:37:13,754 p=28879 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-12 23:37:13,763 p=28879 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-12 23:37:15,167 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:15,182 p=28879 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-12 23:37:15,206 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:15,220 p=28879 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-12 23:37:16,791 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:16,798 p=28879 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-12 23:37:16,825 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:16,830 p=28879 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-12 23:37:18,364 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:18,371 p=28879 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-12 23:37:18,393 p=28879 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-12 23:37:18,407 p=28879 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-12 23:37:18,407 p=28879 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=6    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-12 23:37:18,407 p=28879 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:37:18,408 p=28879 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:37:18,408 p=28879 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:37:18,408 p=28879 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-12 23:37:18,408 p=28879 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:17,280 p=29375 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-13 00:08:17,293 p=29375 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:08:19,616 p=29375 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-13 00:08:19,639 p=29375 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-13 00:08:19,648 p=29375 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-13 00:08:19,651 p=29375 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:08:21,712 p=29375 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-13 00:08:27,323 p=29375 u=vagrant n=ansible | fatal: [192.168.57.13]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.13 port 22: Connection timed out", "unreachable": true}
2024-11-13 00:08:27,338 p=29375 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-13 00:08:27,377 p=29375 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:08:27,387 p=29375 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-13 00:08:27,399 p=29375 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-13 00:08:27,413 p=29375 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-13 00:08:27,415 p=29375 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-13 00:08:27,416 p=29375 u=vagrant n=ansible | 192.168.57.13              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:27,416 p=29375 u=vagrant n=ansible | 192.168.57.14              : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:27,416 p=29375 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:27,417 p=29375 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:27,417 p=29375 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:27,417 p=29375 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:08:43,564 p=29434 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-13 00:08:43,577 p=29434 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:08:45,495 p=29434 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:08:45,567 p=29434 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-13 00:08:45,577 p=29434 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-13 00:08:45,585 p=29434 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-13 00:08:45,800 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:08:47,333 p=29434 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-13 00:08:47,353 p=29434 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-13 00:08:47,406 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:08:47,421 p=29434 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-13 00:08:47,436 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:08:47,457 p=29434 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-13 00:08:47,468 p=29434 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:08:49,303 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:08:49,313 p=29434 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-13 00:08:49,374 p=29434 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-13 00:08:49,392 p=29434 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 00:08:49,397 p=29434 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 00:08:49,399 p=29434 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 00:08:49,404 p=29434 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-13 00:08:49,423 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:08:49,428 p=29434 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-13 00:08:49,455 p=29434 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 00:08:49,465 p=29434 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-13 00:08:52,376 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:08:52,388 p=29434 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-13 00:08:55,331 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:08:55,346 p=29434 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-13 00:08:57,203 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:08:57,213 p=29434 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-13 00:08:59,151 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:08:59,162 p=29434 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-13 00:09:00,870 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:09:00,880 p=29434 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-13 00:09:04,151 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:09:04,158 p=29434 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-13 00:09:22,993 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:09:23,002 p=29434 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-13 00:09:24,702 p=29434 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-13 00:09:26,282 p=29434 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-13 00:09:27,911 p=29434 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-13 00:09:27,920 p=29434 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-13 00:09:29,551 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:09:29,562 p=29434 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-13 00:09:31,148 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:09:31,157 p=29434 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-13 00:09:32,856 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:09:32,865 p=29434 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-13 00:09:36,116 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:09:36,127 p=29434 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-13 00:09:37,658 p=29434 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-13 00:09:39,351 p=29434 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-13 00:09:40,789 p=29434 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-13 00:09:40,801 p=29434 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-13 00:09:42,758 p=29434 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:09:42,774 p=29434 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-13 00:09:42,794 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:09:42,806 p=29434 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-13 00:09:42,824 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:09:42,833 p=29434 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-13 00:09:42,862 p=29434 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:09:42,866 p=29434 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-13 00:10:12,514 p=29434 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-13 00:10:26,443 p=29698 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-13 00:10:26,450 p=29698 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:10:28,488 p=29698 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-13 00:10:28,505 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:28,606 p=29698 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:10:28,632 p=29698 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-13 00:10:28,981 p=29698 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-13 00:10:30,702 p=29698 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-13 00:10:30,722 p=29698 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-13 00:10:30,771 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:30,777 p=29698 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-13 00:10:30,790 p=29698 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:10:30,808 p=29698 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-13 00:10:30,816 p=29698 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:10:32,767 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:32,779 p=29698 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-13 00:10:32,830 p=29698 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-13 00:10:32,859 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 00:10:32,865 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 00:10:32,869 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 00:10:32,876 p=29698 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-13 00:10:32,899 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:32,907 p=29698 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-13 00:10:32,930 p=29698 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 00:10:32,938 p=29698 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-13 00:10:37,071 p=29698 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:10:37,078 p=29698 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-13 00:10:40,412 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:40,424 p=29698 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-13 00:10:42,034 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:42,047 p=29698 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-13 00:10:44,007 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:44,020 p=29698 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-13 00:10:45,805 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:45,815 p=29698 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-13 00:10:48,472 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:48,482 p=29698 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-13 00:10:51,475 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:51,485 p=29698 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-13 00:10:53,148 p=29698 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-13 00:10:54,701 p=29698 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-13 00:10:56,182 p=29698 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-13 00:10:56,195 p=29698 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-13 00:10:57,867 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:57,875 p=29698 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-13 00:10:59,407 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:10:59,417 p=29698 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-13 00:11:01,005 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:11:01,019 p=29698 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-13 00:11:03,684 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:11:03,692 p=29698 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-13 00:11:05,298 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-13 00:11:06,847 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-13 00:11:08,402 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-13 00:11:08,410 p=29698 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-13 00:11:11,399 p=29698 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:11:11,409 p=29698 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-13 00:11:11,425 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:11:11,430 p=29698 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-13 00:11:11,449 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:11:11,460 p=29698 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-13 00:11:11,475 p=29698 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:11:11,482 p=29698 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-13 00:11:11,497 p=29698 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-13 00:11:11,505 p=29698 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-13 00:11:11,520 p=29698 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-13 00:11:11,527 p=29698 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-13 00:11:11,543 p=29698 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --pod-network-cidr=10.10.0.0/16 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-13 00:11:11,555 p=29698 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-13 00:12:47,499 p=29698 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:12:47,507 p=29698 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-13 00:12:49,184 p=29698 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:12:49,193 p=29698 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-13 00:12:50,839 p=29698 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:12:50,847 p=29698 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-13 00:12:53,772 p=29698 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/02_calico.yml)
2024-11-13 00:12:56,833 p=29698 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_tigera.yml)
2024-11-13 00:12:59,780 p=29698 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/tigera.yml)
2024-11-13 00:12:59,788 p=29698 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-13 00:13:04,204 p=29698 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:00:02.926044", "end": "2024-11-13 00:12:29.558183", "msg": "non-zero return code", "rc": 1, "start": "2024-11-13 00:12:26.632139", "stderr": "The CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes\nThe CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes", "stderr_lines": ["The CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes", "The CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes"], "stdout": "namespace/tigera-operator created\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io created\ncustomresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io created\ncustomresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io created\ncustomresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io created\nserviceaccount/tigera-operator created\nclusterrole.rbac.authorization.k8s.io/tigera-operator created\nclusterrolebinding.rbac.authorization.k8s.io/tigera-operator created\ndeployment.apps/tigera-operator created\npoddisruptionbudget.policy/calico-kube-controllers created\nserviceaccount/calico-kube-controllers created\nserviceaccount/calico-node created\nconfigmap/calico-config created\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured\nclusterrole.rbac.authorization.k8s.io/calico-kube-controllers created\nclusterrole.rbac.authorization.k8s.io/calico-node created\nclusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers created\nclusterrolebinding.rbac.authorization.k8s.io/calico-node created\ndaemonset.apps/calico-node created\ndeployment.apps/calico-kube-controllers created\nnamespace/tigera-operator unchanged\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io configured\ncustomresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io unchanged\ncustomresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io unchanged\ncustomresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io unchanged\nserviceaccount/tigera-operator configured\nclusterrole.rbac.authorization.k8s.io/tigera-operator unchanged\nclusterrolebinding.rbac.authorization.k8s.io/tigera-operator unchanged\ndeployment.apps/tigera-operator configured", "stdout_lines": ["namespace/tigera-operator created", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io created", "customresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io created", "customresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io created", "customresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io created", "serviceaccount/tigera-operator created", "clusterrole.rbac.authorization.k8s.io/tigera-operator created", "clusterrolebinding.rbac.authorization.k8s.io/tigera-operator created", "deployment.apps/tigera-operator created", "poddisruptionbudget.policy/calico-kube-controllers created", "serviceaccount/calico-kube-controllers created", "serviceaccount/calico-node created", "configmap/calico-config created", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured", "clusterrole.rbac.authorization.k8s.io/calico-kube-controllers created", "clusterrole.rbac.authorization.k8s.io/calico-node created", "clusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers created", "clusterrolebinding.rbac.authorization.k8s.io/calico-node created", "daemonset.apps/calico-node created", "deployment.apps/calico-kube-controllers created", "namespace/tigera-operator unchanged", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io configured", "customresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io unchanged", "customresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io unchanged", "customresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io unchanged", "serviceaccount/tigera-operator configured", "clusterrole.rbac.authorization.k8s.io/tigera-operator unchanged", "clusterrolebinding.rbac.authorization.k8s.io/tigera-operator unchanged", "deployment.apps/tigera-operator configured"]}
2024-11-13 00:13:04,206 p=29698 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-13 00:13:04,206 p=29698 u=vagrant n=ansible | 192.168.57.13              : ok=29   changed=8    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-13 00:13:04,206 p=29698 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:13:04,206 p=29698 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:13:04,207 p=29698 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:13:04,207 p=29698 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:13:04,207 p=29698 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:17:45,869 p=30077 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-13 00:17:45,877 p=30077 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:17:48,217 p=30077 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-13 00:17:48,326 p=30077 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:17:48,340 p=30077 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-13 00:17:48,379 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:17:48,394 p=30077 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-13 00:17:50,329 p=30077 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-13 00:17:50,349 p=30077 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-13 00:17:50,392 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:17:50,406 p=30077 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-13 00:17:50,417 p=30077 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:17:50,435 p=30077 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-13 00:17:50,442 p=30077 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:17:52,335 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:17:52,344 p=30077 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-13 00:17:52,400 p=30077 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-13 00:17:52,426 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 00:17:52,430 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 00:17:52,433 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 00:17:52,443 p=30077 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-13 00:17:52,459 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:17:52,465 p=30077 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-13 00:17:52,503 p=30077 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 00:17:52,518 p=30077 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-13 00:17:57,136 p=30077 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:17:57,145 p=30077 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-13 00:18:00,371 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:00,385 p=30077 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-13 00:18:02,058 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:02,073 p=30077 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-13 00:18:03,983 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:03,997 p=30077 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-13 00:18:05,544 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:05,559 p=30077 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-13 00:18:08,135 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:08,147 p=30077 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-13 00:18:11,279 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:11,288 p=30077 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-13 00:18:12,982 p=30077 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-13 00:18:14,652 p=30077 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-13 00:18:16,266 p=30077 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-13 00:18:16,280 p=30077 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-13 00:18:17,812 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:17,824 p=30077 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-13 00:18:19,419 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:19,428 p=30077 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-13 00:18:21,267 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:21,275 p=30077 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-13 00:18:23,894 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:23,908 p=30077 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-13 00:18:25,598 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-13 00:18:27,169 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-13 00:18:28,959 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-13 00:18:28,967 p=30077 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-13 00:18:31,200 p=30077 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:18:31,214 p=30077 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-13 00:18:31,235 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:31,244 p=30077 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-13 00:18:31,260 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:31,267 p=30077 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-13 00:18:31,283 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:18:31,288 p=30077 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-13 00:18:31,302 p=30077 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-13 00:18:31,307 p=30077 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-13 00:18:31,317 p=30077 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-13 00:18:31,323 p=30077 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-13 00:18:31,334 p=30077 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --pod-network-cidr=10.10.0.0/16 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-13 00:18:31,340 p=30077 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-13 00:19:27,715 p=30077 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:19:27,724 p=30077 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-13 00:19:29,414 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:19:29,429 p=30077 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-13 00:19:31,112 p=30077 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:19:31,122 p=30077 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-13 00:19:34,230 p=30077 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/02_calico.yml)
2024-11-13 00:19:37,397 p=30077 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_tigera.yml)
2024-11-13 00:19:40,279 p=30077 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/03_dashboard.yml)
2024-11-13 00:19:40,289 p=30077 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-13 00:19:45,275 p=30077 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:00:03.180886", "end": "2024-11-13 00:19:10.539865", "msg": "non-zero return code", "rc": 1, "start": "2024-11-13 00:19:07.358979", "stderr": "The CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes\nThe CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes", "stderr_lines": ["The CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes", "The CustomResourceDefinition \"installations.operator.tigera.io\" is invalid: metadata.annotations: Too long: must have at most 262144 bytes"], "stdout": "namespace/tigera-operator created\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org created\ncustomresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io created\ncustomresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io created\ncustomresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io created\ncustomresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io created\nserviceaccount/tigera-operator created\nclusterrole.rbac.authorization.k8s.io/tigera-operator created\nclusterrolebinding.rbac.authorization.k8s.io/tigera-operator created\ndeployment.apps/tigera-operator created\npoddisruptionbudget.policy/calico-kube-controllers created\nserviceaccount/calico-kube-controllers created\nserviceaccount/calico-node created\nconfigmap/calico-config created\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured\nclusterrole.rbac.authorization.k8s.io/calico-kube-controllers created\nclusterrole.rbac.authorization.k8s.io/calico-node created\nclusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers created\nclusterrolebinding.rbac.authorization.k8s.io/calico-node created\ndaemonset.apps/calico-node created\ndeployment.apps/calico-kube-controllers created\nnamespace/kubernetes-dashboard created\nserviceaccount/kubernetes-dashboard created\nservice/kubernetes-dashboard created\nsecret/kubernetes-dashboard-certs created\nsecret/kubernetes-dashboard-csrf created\nsecret/kubernetes-dashboard-key-holder created\nconfigmap/kubernetes-dashboard-settings created\nrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\ndeployment.apps/kubernetes-dashboard created\nservice/dashboard-metrics-scraper created\ndeployment.apps/dashboard-metrics-scraper created\nnamespace/tigera-operator unchanged\ncustomresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org configured\ncustomresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io configured\ncustomresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io unchanged\ncustomresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io unchanged\ncustomresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io unchanged\nserviceaccount/tigera-operator configured\nclusterrole.rbac.authorization.k8s.io/tigera-operator unchanged\nclusterrolebinding.rbac.authorization.k8s.io/tigera-operator unchanged\ndeployment.apps/tigera-operator configured", "stdout_lines": ["namespace/tigera-operator created", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org created", "customresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io created", "customresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io created", "customresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io created", "customresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io created", "serviceaccount/tigera-operator created", "clusterrole.rbac.authorization.k8s.io/tigera-operator created", "clusterrolebinding.rbac.authorization.k8s.io/tigera-operator created", "deployment.apps/tigera-operator created", "poddisruptionbudget.policy/calico-kube-controllers created", "serviceaccount/calico-kube-controllers created", "serviceaccount/calico-node created", "configmap/calico-config created", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured", "clusterrole.rbac.authorization.k8s.io/calico-kube-controllers created", "clusterrole.rbac.authorization.k8s.io/calico-node created", "clusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers created", "clusterrolebinding.rbac.authorization.k8s.io/calico-node created", "daemonset.apps/calico-node created", "deployment.apps/calico-kube-controllers created", "namespace/kubernetes-dashboard created", "serviceaccount/kubernetes-dashboard created", "service/kubernetes-dashboard created", "secret/kubernetes-dashboard-certs created", "secret/kubernetes-dashboard-csrf created", "secret/kubernetes-dashboard-key-holder created", "configmap/kubernetes-dashboard-settings created", "role.rbac.authorization.k8s.io/kubernetes-dashboard created", "clusterrole.rbac.authorization.k8s.io/kubernetes-dashboard created", "rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created", "clusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created", "deployment.apps/kubernetes-dashboard created", "service/dashboard-metrics-scraper created", "deployment.apps/dashboard-metrics-scraper created", "namespace/tigera-operator unchanged", "customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgpfilters.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/tiers.crd.projectcalico.org configured", "customresourcedefinition.apiextensions.k8s.io/adminnetworkpolicies.policy.networking.k8s.io configured", "customresourcedefinition.apiextensions.k8s.io/apiservers.operator.tigera.io unchanged", "customresourcedefinition.apiextensions.k8s.io/imagesets.operator.tigera.io unchanged", "customresourcedefinition.apiextensions.k8s.io/tigerastatuses.operator.tigera.io unchanged", "serviceaccount/tigera-operator configured", "clusterrole.rbac.authorization.k8s.io/tigera-operator unchanged", "clusterrolebinding.rbac.authorization.k8s.io/tigera-operator unchanged", "deployment.apps/tigera-operator configured"]}
2024-11-13 00:19:45,277 p=30077 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-13 00:19:45,277 p=30077 u=vagrant n=ansible | 192.168.57.13              : ok=29   changed=6    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-13 00:19:45,277 p=30077 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:19:45,277 p=30077 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:19:45,277 p=30077 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:19:45,277 p=30077 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:19:45,278 p=30077 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:25:38,724 p=30463 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-13 00:25:38,736 p=30463 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:25:41,013 p=30463 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-13 00:25:41,024 p=30463 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-13 00:25:41,035 p=30463 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:25:41,448 p=30463 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-13 00:25:43,135 p=30463 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-13 00:25:48,784 p=30463 u=vagrant n=ansible | fatal: [192.168.57.13]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.13 port 22: Connection timed out", "unreachable": true}
2024-11-13 00:25:48,802 p=30463 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-13 00:25:48,844 p=30463 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:25:48,850 p=30463 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-13 00:25:48,870 p=30463 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-13 00:25:48,880 p=30463 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | 192.168.57.13              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | 192.168.57.14              : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:25:48,882 p=30463 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:26:05,856 p=30523 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ******************************************************************
2024-11-13 00:26:05,869 p=30523 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:26:08,018 p=30523 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-13 00:26:08,045 p=30523 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-13 00:26:08,055 p=30523 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-13 00:26:08,058 p=30523 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-13 00:26:08,213 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:09,806 p=30523 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-13 00:26:09,817 p=30523 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] *********************************************************
2024-11-13 00:26:09,862 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:09,877 p=30523 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] ************************************************************************
2024-11-13 00:26:09,892 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:09,904 p=30523 u=vagrant n=ansible | PLAY [Bootstrap controller] *************************************************************************************
2024-11-13 00:26:09,909 p=30523 u=vagrant n=ansible | TASK [Gathering Facts] ******************************************************************************************
2024-11-13 00:26:11,958 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:11,970 p=30523 u=vagrant n=ansible | TASK [Bootstrap actions] ****************************************************************************************
2024-11-13 00:26:12,020 p=30523 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] ************************************************************************
2024-11-13 00:26:12,050 p=30523 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 00:26:12,053 p=30523 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 00:26:12,056 p=30523 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 00:26:12,063 p=30523 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] **************************************************************************
2024-11-13 00:26:12,075 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:12,080 p=30523 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] *******************************************************************************
2024-11-13 00:26:12,104 p=30523 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 00:26:12,113 p=30523 u=vagrant n=ansible | TASK [k8s : Update apt cache] ***********************************************************************************
2024-11-13 00:26:15,036 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:15,050 p=30523 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] ********************************************************************
2024-11-13 00:26:18,421 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:18,435 p=30523 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] **********************************************************
2024-11-13 00:26:20,307 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:20,320 p=30523 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ***********************************************
2024-11-13 00:26:22,572 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:22,588 p=30523 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ******************************************************************
2024-11-13 00:26:24,207 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:24,220 p=30523 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ***********************************************************
2024-11-13 00:26:27,421 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:27,433 p=30523 u=vagrant n=ansible | TASK [k8s : Install packages] ***********************************************************************************
2024-11-13 00:26:45,179 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:45,188 p=30523 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] ****************************************************
2024-11-13 00:26:46,843 p=30523 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-13 00:26:48,356 p=30523 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-13 00:26:50,023 p=30523 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-13 00:26:50,034 p=30523 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] **************************************************************************
2024-11-13 00:26:51,633 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:51,645 p=30523 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] **************************************************************
2024-11-13 00:26:53,307 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:26:53,319 p=30523 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ***********************************************************************
2024-11-13 00:26:55,132 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:55,143 p=30523 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] ****************************************
2024-11-13 00:26:58,188 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:26:58,203 p=30523 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] ****************************************************
2024-11-13 00:26:59,785 p=30523 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-13 00:27:01,267 p=30523 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-13 00:27:03,231 p=30523 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-13 00:27:03,244 p=30523 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ******************************************************
2024-11-13 00:27:05,125 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:27:05,134 p=30523 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] *************************************************************************
2024-11-13 00:27:05,158 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:27:05,165 p=30523 u=vagrant n=ansible | TASK [k8s : Set computer node facts] ****************************************************************************
2024-11-13 00:27:05,183 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:27:05,190 p=30523 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] **************************************************
2024-11-13 00:27:05,209 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:27:05,214 p=30523 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] ********************************************************************
2024-11-13 00:27:05,231 p=30523 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-13 00:27:05,237 p=30523 u=vagrant n=ansible | TASK [k8s : Run join computer to cluster] ***********************************************************************
2024-11-13 00:27:05,247 p=30523 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-13 00:27:05,254 p=30523 u=vagrant n=ansible | TASK [k8s : Display the command to be run] **********************************************************************
2024-11-13 00:27:05,274 p=30523 u=vagrant n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --pod-network-cidr=10.10.0.0/16 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-13 00:27:05,282 p=30523 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] ****************************************
2024-11-13 00:28:30,856 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:28:30,867 p=30523 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] ********************************************************************
2024-11-13 00:28:32,560 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:28:32,569 p=30523 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ***************************
2024-11-13 00:28:34,133 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:28:34,150 p=30523 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ***********************
2024-11-13 00:28:34,172 p=30523 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] **************************************
2024-11-13 00:28:35,899 p=30523 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-13 00:28:35,910 p=30523 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] **********************************************************************
2024-11-13 00:28:37,546 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:28:37,554 p=30523 u=vagrant n=ansible | TASK [k8s : Cache join_token] ***********************************************************************************
2024-11-13 00:28:37,577 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:28:37,592 p=30523 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ***********************************************************************
2024-11-13 00:28:39,202 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:28:39,215 p=30523 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] ************************************************************************************
2024-11-13 00:28:39,239 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:28:39,244 p=30523 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] ************************************************************************
2024-11-13 00:28:40,985 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:28:40,998 p=30523 u=vagrant n=ansible | TASK [k8s : Cache cert_key] *************************************************************************************
2024-11-13 00:28:41,016 p=30523 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-13 00:28:41,032 p=30523 u=vagrant n=ansible | PLAY RECAP ******************************************************************************************************
2024-11-13 00:28:41,033 p=30523 u=vagrant n=ansible | 192.168.57.13              : ok=35   changed=15   unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-13 00:28:41,033 p=30523 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:28:41,034 p=30523 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:28:41,034 p=30523 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:28:41,034 p=30523 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 00:28:41,034 p=30523 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:49:13,782 p=43642 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-13 23:49:13,791 p=43642 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:49:16,219 p=43642 u=root n=ansible | ok: [192.168.57.15]
2024-11-13 23:49:16,223 p=43642 u=root n=ansible | ok: [192.168.57.17]
2024-11-13 23:49:16,256 p=43642 u=root n=ansible | ok: [192.168.57.14]
2024-11-13 23:49:16,369 p=43642 u=root n=ansible | ok: [192.168.57.16]
2024-11-13 23:49:18,531 p=43642 u=root n=ansible | ok: [192.168.57.18]
2024-11-13 23:49:23,832 p=43642 u=root n=ansible | fatal: [192.168.57.13]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.13 port 22: Connection timed out", "unreachable": true}
2024-11-13 23:49:23,859 p=43642 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-13 23:49:23,909 p=43642 u=root n=ansible | ok: [192.168.57.14]
2024-11-13 23:49:23,916 p=43642 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-13 23:49:23,932 p=43642 u=root n=ansible | changed: [192.168.57.14]
2024-11-13 23:49:23,941 p=43642 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-13 23:49:23,943 p=43642 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-13 23:49:23,943 p=43642 u=root n=ansible | 192.168.57.13              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:49:23,944 p=43642 u=root n=ansible | 192.168.57.14              : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:49:23,944 p=43642 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:49:23,944 p=43642 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:49:23,944 p=43642 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:49:23,944 p=43642 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:50:11,359 p=43705 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-13 23:50:11,374 p=43705 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:50:13,288 p=43705 u=root n=ansible | ok: [192.168.57.14]
2024-11-13 23:50:13,363 p=43705 u=root n=ansible | ok: [192.168.57.17]
2024-11-13 23:50:13,403 p=43705 u=root n=ansible | ok: [192.168.57.15]
2024-11-13 23:50:13,605 p=43705 u=root n=ansible | ok: [192.168.57.16]
2024-11-13 23:50:13,611 p=43705 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:50:15,619 p=43705 u=root n=ansible | ok: [192.168.57.18]
2024-11-13 23:50:15,643 p=43705 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-13 23:50:15,684 p=43705 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:50:15,691 p=43705 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-13 23:50:15,700 p=43705 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:50:15,710 p=43705 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-13 23:50:15,714 p=43705 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:50:17,888 p=43705 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:50:17,899 p=43705 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-13 23:50:17,959 p=43705 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-13 23:50:17,980 p=43705 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 23:50:17,984 p=43705 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 23:50:17,987 p=43705 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 23:50:17,992 p=43705 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-13 23:50:18,015 p=43705 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:50:18,028 p=43705 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-13 23:50:18,056 p=43705 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 23:50:18,064 p=43705 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-13 23:50:21,787 p=43705 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:50:21,802 p=43705 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-13 23:50:23,728 p=43705 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:50:23,740 p=43705 u=root n=ansible | TASK [k8s : Download Docker GPG key and save it as a keyring] ************************************************************************************
2024-11-13 23:50:25,618 p=43705 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:50:25,633 p=43705 u=root n=ansible | TASK [k8s : Convert Docker GPG key to keyring format] ********************************************************************************************
2024-11-13 23:50:27,311 p=43705 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:50:27,323 p=43705 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-13 23:51:07,178 p=43705 u=root n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": false, "msg": "Failed to update apt cache: W:GPG error: https://download.docker.com/linux/ubuntu jammy InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 7EA0A9C3F273FCD8, E:The repository 'https://download.docker.com/linux/ubuntu jammy InRelease' is not signed."}
2024-11-13 23:51:07,180 p=43705 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-13 23:51:07,180 p=43705 u=root n=ansible | 192.168.57.13              : ok=11   changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-13 23:51:07,181 p=43705 u=root n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:51:07,182 p=43705 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:51:07,182 p=43705 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:51:07,183 p=43705 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:51:07,183 p=43705 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:53:14,050 p=43857 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-13 23:53:14,059 p=43857 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:53:16,400 p=43857 u=root n=ansible | ok: [192.168.57.16]
2024-11-13 23:53:16,440 p=43857 u=root n=ansible | ok: [192.168.57.15]
2024-11-13 23:53:16,443 p=43857 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:53:16,503 p=43857 u=root n=ansible | ok: [192.168.57.14]
2024-11-13 23:53:16,525 p=43857 u=root n=ansible | ok: [192.168.57.17]
2024-11-13 23:53:18,667 p=43857 u=root n=ansible | ok: [192.168.57.18]
2024-11-13 23:53:18,687 p=43857 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-13 23:53:18,720 p=43857 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:53:18,732 p=43857 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-13 23:53:18,744 p=43857 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:53:18,754 p=43857 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-13 23:53:18,758 p=43857 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:53:20,601 p=43857 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:53:20,609 p=43857 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-13 23:53:20,664 p=43857 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-13 23:53:20,681 p=43857 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 23:53:20,683 p=43857 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 23:53:20,684 p=43857 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 23:53:20,695 p=43857 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-13 23:53:20,708 p=43857 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:53:20,715 p=43857 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-13 23:53:20,738 p=43857 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 23:53:20,747 p=43857 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-13 23:53:25,746 p=43857 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:53:25,762 p=43857 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-13 23:53:27,387 p=43857 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:53:27,401 p=43857 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-13 23:53:29,543 p=43857 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:53:29,553 p=43857 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-13 23:53:34,387 p=43857 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:53:34,397 p=43857 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-13 23:53:34,412 p=43857 u=root n=ansible | fatal: [192.168.57.13]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'k8s_version' is undefined\n\nThe error appears to be in '/vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/setup_repo.yml': line 32, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n#### kube repo\n- name: Download Kubernetes GPG key and save it as a keyring\n  ^ here\n"}
2024-11-13 23:53:34,413 p=43857 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-13 23:53:34,413 p=43857 u=root n=ansible | 192.168.57.13              : ok=11   changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-13 23:53:34,414 p=43857 u=root n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:53:34,414 p=43857 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:53:34,414 p=43857 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:53:34,414 p=43857 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:53:34,415 p=43857 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:55:23,903 p=44025 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-13 23:55:23,915 p=44025 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:55:26,220 p=44025 u=root n=ansible | ok: [192.168.57.14]
2024-11-13 23:55:26,255 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:26,267 p=44025 u=root n=ansible | ok: [192.168.57.15]
2024-11-13 23:55:26,322 p=44025 u=root n=ansible | ok: [192.168.57.17]
2024-11-13 23:55:26,480 p=44025 u=root n=ansible | ok: [192.168.57.16]
2024-11-13 23:55:29,786 p=44025 u=root n=ansible | ok: [192.168.57.18]
2024-11-13 23:55:29,795 p=44025 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-13 23:55:29,828 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:29,835 p=44025 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-13 23:55:29,853 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:55:29,867 p=44025 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-13 23:55:29,874 p=44025 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:55:31,846 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:31,870 p=44025 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-13 23:55:31,926 p=44025 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-13 23:55:31,949 p=44025 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 23:55:31,951 p=44025 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 23:55:31,956 p=44025 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 23:55:31,968 p=44025 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-13 23:55:31,983 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:31,991 p=44025 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-13 23:55:32,027 p=44025 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 23:55:32,046 p=44025 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-13 23:55:35,436 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:35,444 p=44025 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-13 23:55:37,126 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:37,137 p=44025 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-13 23:55:39,312 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:39,325 p=44025 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-13 23:55:41,158 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:55:41,172 p=44025 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-13 23:55:43,251 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:55:43,260 p=44025 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-13 23:55:44,997 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:55:45,014 p=44025 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-13 23:55:48,280 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:55:48,290 p=44025 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-13 23:56:08,122 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:08,137 p=44025 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-13 23:56:10,142 p=44025 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-13 23:56:11,651 p=44025 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-13 23:56:13,390 p=44025 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-13 23:56:13,401 p=44025 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-13 23:56:15,183 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:15,194 p=44025 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-13 23:56:18,295 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:18,311 p=44025 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-13 23:56:19,910 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:19,919 p=44025 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-13 23:56:21,834 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:21,842 p=44025 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-13 23:56:23,387 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:56:23,403 p=44025 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-13 23:56:25,234 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:56:25,248 p=44025 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-13 23:56:27,031 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:27,047 p=44025 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-13 23:56:28,675 p=44025 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:56:28,688 p=44025 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-13 23:56:31,660 p=44025 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:56:31,672 p=44025 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-13 23:56:33,336 p=44025 u=root n=ansible | failed: [192.168.57.13] (item={'key': 'net.ipv4.ip_forward', 'value': '1'}) => {"ansible_loop_var": "item", "changed": false, "item": {"key": "net.ipv4.ip_forward", "value": "1"}, "msg": "Unsupported parameters for (ansible.builtin.sysctl) module: persist Supported parameters include: ignoreerrors, name, reload, state, sysctl_file, sysctl_set, value"}
2024-11-13 23:56:34,832 p=44025 u=root n=ansible | failed: [192.168.57.13] (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'}) => {"ansible_loop_var": "item", "changed": false, "item": {"key": "net.bridge.bridge-nf-call-ip6tables", "value": "1"}, "msg": "Unsupported parameters for (ansible.builtin.sysctl) module: persist Supported parameters include: ignoreerrors, name, reload, state, sysctl_file, sysctl_set, value"}
2024-11-13 23:56:36,436 p=44025 u=root n=ansible | failed: [192.168.57.13] (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'}) => {"ansible_loop_var": "item", "changed": false, "item": {"key": "net.bridge.bridge-nf-call-iptables", "value": "1"}, "msg": "Unsupported parameters for (ansible.builtin.sysctl) module: persist Supported parameters include: ignoreerrors, name, reload, state, sysctl_file, sysctl_set, value"}
2024-11-13 23:56:36,440 p=44025 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-13 23:56:36,441 p=44025 u=root n=ansible | 192.168.57.13              : ok=25   changed=12   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-13 23:56:36,441 p=44025 u=root n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:56:36,442 p=44025 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:56:36,442 p=44025 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:56:36,443 p=44025 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:56:36,443 p=44025 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-13 23:57:41,370 p=44351 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-13 23:57:41,381 p=44351 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:57:43,540 p=44351 u=root n=ansible | ok: [192.168.57.14]
2024-11-13 23:57:43,591 p=44351 u=root n=ansible | ok: [192.168.57.15]
2024-11-13 23:57:43,656 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:43,680 p=44351 u=root n=ansible | ok: [192.168.57.17]
2024-11-13 23:57:43,742 p=44351 u=root n=ansible | ok: [192.168.57.16]
2024-11-13 23:57:45,998 p=44351 u=root n=ansible | ok: [192.168.57.18]
2024-11-13 23:57:46,014 p=44351 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-13 23:57:46,056 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:46,073 p=44351 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-13 23:57:46,089 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:57:46,105 p=44351 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-13 23:57:46,117 p=44351 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-13 23:57:48,287 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:48,305 p=44351 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-13 23:57:48,361 p=44351 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-13 23:57:48,391 p=44351 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-13 23:57:48,398 p=44351 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-13 23:57:48,404 p=44351 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-13 23:57:48,413 p=44351 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-13 23:57:48,428 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:48,434 p=44351 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-13 23:57:48,461 p=44351 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-13 23:57:48,470 p=44351 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-13 23:57:53,287 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:53,305 p=44351 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-13 23:57:55,212 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:55,224 p=44351 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-13 23:57:57,195 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:57,208 p=44351 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-13 23:57:59,171 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:57:59,181 p=44351 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-13 23:58:01,018 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:01,034 p=44351 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-13 23:58:02,790 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:02,803 p=44351 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-13 23:58:05,671 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:05,684 p=44351 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-13 23:58:08,657 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:08,670 p=44351 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-13 23:58:10,322 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-13 23:58:11,930 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-13 23:58:13,528 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-13 23:58:13,542 p=44351 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-13 23:58:15,259 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:58:15,274 p=44351 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-13 23:58:18,503 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:58:18,518 p=44351 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-13 23:58:20,178 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:58:20,190 p=44351 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-13 23:58:22,206 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:58:22,214 p=44351 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-13 23:58:23,833 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:23,846 p=44351 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-13 23:58:25,717 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:25,731 p=44351 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-13 23:58:27,495 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:27,504 p=44351 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-13 23:58:29,172 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:29,188 p=44351 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-13 23:58:31,765 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:31,780 p=44351 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-13 23:58:33,620 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-13 23:58:35,248 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-13 23:58:36,912 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-13 23:58:36,922 p=44351 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-13 23:58:38,889 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-13 23:58:38,899 p=44351 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-13 23:58:38,934 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:38,942 p=44351 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-13 23:58:38,963 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:38,970 p=44351 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-13 23:58:38,987 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-13 23:58:38,994 p=44351 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-13 23:58:39,006 p=44351 u=root n=ansible | skipping: [192.168.57.13]
2024-11-13 23:58:39,011 p=44351 u=root n=ansible | TASK [k8s : Run join computer to cluster] ********************************************************************************************************
2024-11-13 23:58:39,023 p=44351 u=root n=ansible | skipping: [192.168.57.13]
2024-11-13 23:58:39,033 p=44351 u=root n=ansible | TASK [k8s : Display the command to be run] *******************************************************************************************************
2024-11-13 23:58:39,049 p=44351 u=root n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --pod-network-cidr=10.10.0.0/16 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-13 23:58:39,057 p=44351 u=root n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:00:10,979 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:00:10,990 p=44351 u=root n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:00:12,667 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:00:12,687 p=44351 u=root n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:00:14,386 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:00:14,400 p=44351 u=root n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:00:17,184 p=44351 u=root n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml)
2024-11-14 00:00:17,192 p=44351 u=root n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:00:19,223 p=44351 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:00:19,236 p=44351 u=root n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:00:20,815 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:00:20,822 p=44351 u=root n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:00:20,840 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:00:20,845 p=44351 u=root n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:00:22,315 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:00:22,327 p=44351 u=root n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:00:22,354 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:00:22,360 p=44351 u=root n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:00:24,068 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:00:24,079 p=44351 u=root n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:00:24,102 p=44351 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:00:24,114 p=44351 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:00:24,115 p=44351 u=root n=ansible | 192.168.57.13              : ok=42   changed=13   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-14 00:00:24,115 p=44351 u=root n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:00:24,115 p=44351 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:00:24,115 p=44351 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:00:24,116 p=44351 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:00:24,116 p=44351 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:01:16,469 p=44818 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:01:16,482 p=44818 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:01:18,655 p=44818 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 00:01:18,701 p=44818 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 00:01:18,763 p=44818 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:01:18,951 p=44818 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 00:01:18,973 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:20,827 p=44818 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 00:01:20,843 p=44818 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:01:20,885 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:20,891 p=44818 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:01:20,908 p=44818 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:01:20,924 p=44818 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:01:20,929 p=44818 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:01:22,856 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:22,863 p=44818 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:01:22,907 p=44818 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:01:22,936 p=44818 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 00:01:22,947 p=44818 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:01:22,951 p=44818 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:01:22,959 p=44818 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:01:22,975 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:22,982 p=44818 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:01:23,021 p=44818 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 00:01:23,047 p=44818 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:01:27,845 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:27,853 p=44818 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:01:29,525 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:29,535 p=44818 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:01:31,672 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:31,682 p=44818 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:01:33,621 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:33,635 p=44818 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:01:35,575 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:35,585 p=44818 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:01:37,412 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:37,422 p=44818 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:01:40,011 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:40,021 p=44818 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:01:43,449 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:43,461 p=44818 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:01:44,914 p=44818 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 00:01:46,591 p=44818 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 00:01:48,056 p=44818 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 00:01:48,069 p=44818 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:01:49,625 p=44818 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:01:49,636 p=44818 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:01:52,500 p=44818 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:01:52,511 p=44818 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:01:54,220 p=44818 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:01:54,229 p=44818 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:01:56,310 p=44818 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:01:56,318 p=44818 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:01:57,848 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:57,862 p=44818 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:01:59,695 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:01:59,712 p=44818 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:02:01,591 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:01,603 p=44818 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:02:03,116 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:03,131 p=44818 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:02:05,785 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:05,793 p=44818 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:02:07,456 p=44818 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:02:08,847 p=44818 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:02:10,488 p=44818 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:02:10,501 p=44818 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:02:12,212 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:12,227 p=44818 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:02:12,251 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:12,263 p=44818 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:02:12,289 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:12,303 p=44818 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:02:12,339 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:12,349 p=44818 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:02:14,086 p=44818 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:02:14,102 p=44818 u=root n=ansible | TASK [k8s : Run join computer to cluster] ********************************************************************************************************
2024-11-14 00:02:14,117 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:14,122 p=44818 u=root n=ansible | TASK [k8s : Display the command to be run] *******************************************************************************************************
2024-11-14 00:02:14,133 p=44818 u=root n=ansible | ok: [192.168.57.13] => {
    "msg": "kubeadm init --pod-network-cidr=10.10.0.0/16 --apiserver-advertise-address=192.168.57.13 --control-plane-endpoint=192.168.57.201 --token abcdef.0123456789abcdef --upload-certs | tee /var/log/kubeadm.log\n"
}
2024-11-14 00:02:14,138 p=44818 u=root n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:02:14,153 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:14,157 p=44818 u=root n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:02:15,869 p=44818 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:02:15,875 p=44818 u=root n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:02:15,888 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:15,895 p=44818 u=root n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:02:15,912 p=44818 u=root n=ansible | skipping: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 00:02:15,921 p=44818 u=root n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:02:15,936 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:15,941 p=44818 u=root n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:02:15,952 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:15,957 p=44818 u=root n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:02:15,967 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:15,976 p=44818 u=root n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:02:15,987 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:15,994 p=44818 u=root n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:02:16,005 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:16,010 p=44818 u=root n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:02:16,019 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:16,025 p=44818 u=root n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:02:16,036 p=44818 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:02:16,044 p=44818 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:02:16,045 p=44818 u=root n=ansible | 192.168.57.13              : ok=33   changed=7    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2024-11-14 00:02:16,045 p=44818 u=root n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:02:16,045 p=44818 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:02:16,045 p=44818 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:02:16,045 p=44818 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:02:16,045 p=44818 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:03:12,757 p=45172 u=root n=ansible | PLAY [Sync actions] ******************************************************************************************************************************
2024-11-14 00:03:12,778 p=45172 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:03:14,902 p=45172 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:15,083 p=45172 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 00:03:15,142 p=45172 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 00:03:15,154 p=45172 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:03:15,159 p=45172 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 00:03:17,221 p=45172 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 00:03:17,246 p=45172 u=root n=ansible | TASK [Sync facts] ********************************************************************************************************************************
2024-11-14 00:03:17,343 p=45172 u=root n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************
2024-11-14 00:03:17,389 p=45172 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:03:17,424 p=45172 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:17,432 p=45172 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 00:03:17,450 p=45172 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 00:03:17,453 p=45172 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 00:03:17,458 p=45172 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 00:03:17,463 p=45172 u=root n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************
2024-11-14 00:03:17,547 p=45172 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:03:17,553 p=45172 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:17,555 p=45172 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 00:03:17,563 p=45172 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 00:03:17,572 p=45172 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 00:03:17,573 p=45172 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 00:03:17,578 p=45172 u=root n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************
2024-11-14 00:03:17,617 p=45172 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 00:03:17,647 p=45172 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:17,674 p=45172 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 00:03:17,681 p=45172 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 00:03:17,689 p=45172 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 00:03:17,696 p=45172 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 00:03:17,706 p=45172 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:03:17,706 p=45172 u=root n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-14 00:03:17,707 p=45172 u=root n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:03:17,707 p=45172 u=root n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:03:17,707 p=45172 u=root n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:03:17,707 p=45172 u=root n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:03:17,707 p=45172 u=root n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:03:44,913 p=45285 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:03:44,924 p=45285 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:03:47,117 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:47,139 p=45285 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:03:47,154 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:47,168 p=45285 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:03:47,187 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:03:47,206 p=45285 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:03:47,210 p=45285 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:03:49,371 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:49,388 p=45285 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:03:49,440 p=45285 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:03:49,472 p=45285 u=root n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 00:03:49,475 p=45285 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:03:49,476 p=45285 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:03:49,484 p=45285 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:03:49,508 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:49,519 p=45285 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:03:49,546 p=45285 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-14 00:03:49,556 p=45285 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:03:56,094 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:56,107 p=45285 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:03:58,032 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:03:58,047 p=45285 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:04:00,232 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:00,248 p=45285 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:04:06,203 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:06,219 p=45285 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:04:08,179 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:08,198 p=45285 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:04:09,903 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:09,915 p=45285 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:04:13,337 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:13,353 p=45285 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:04:23,344 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:23,357 p=45285 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:04:24,974 p=45285 u=root n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 00:04:26,742 p=45285 u=root n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 00:04:28,263 p=45285 u=root n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 00:04:28,273 p=45285 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:04:30,093 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:30,108 p=45285 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:04:33,100 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:33,113 p=45285 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:04:35,092 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:35,112 p=45285 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:04:37,024 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:37,039 p=45285 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:04:39,008 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:39,022 p=45285 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:04:40,953 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:40,972 p=45285 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:04:42,663 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:42,676 p=45285 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:04:44,411 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:44,421 p=45285 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:04:47,588 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:47,600 p=45285 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:04:49,409 p=45285 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:04:50,994 p=45285 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:04:52,674 p=45285 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:04:52,692 p=45285 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:04:54,466 p=45285 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:04:54,475 p=45285 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:04:54,498 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:54,503 p=45285 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:04:54,519 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:54,524 p=45285 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:04:54,541 p=45285 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:04:54,546 p=45285 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:08:55,888 p=45285 u=root n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes | grep ${HOSTNAME} ||  kubeadm join 192.168.57.201:6443    --control-plane    --apiserver-advertise-address 192.168.57.14    --token abcdef.0123456789abcdef    --discovery-token-ca-cert-hash sha256:969d27f473f0442a478e908d2f820baba3fb0983496dd80eb9d04a55d9fbacce    --certificate-key 5bbe6e5d7f3c80449fae11bc26ec2ce4456c139b992f0b93a25c881bb7ebced2\n", "delta": "0:03:59.515427", "end": "2024-11-14 00:08:45.914135", "msg": "non-zero return code", "rc": 1, "start": "2024-11-14 00:04:46.398708", "stderr": "E1114 00:04:46.457629  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1114 00:04:46.458921  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1114 00:04:46.460114  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1114 00:04:46.461351  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nE1114 00:04:46.462568  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nW1114 00:07:41.359838  130867 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.\nerror execution phase kubelet-start: error uploading crisocket: Get \"https://192.168.57.201:6443/api/v1/nodes/kube-controller2?timeout=10s\": context deadline exceeded - error from a previous attempt: EOF\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["E1114 00:04:46.457629  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1114 00:04:46.458921  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1114 00:04:46.460114  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1114 00:04:46.461351  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "E1114 00:04:46.462568  130868 memcache.go:265] \"Unhandled Error\" err=\"couldn't get current server API group list: Get \\\"http://localhost:8080/api?timeout=32s\\\": dial tcp 127.0.0.1:8080: connect: connection refused\"", "The connection to the server localhost:8080 was refused - did you specify the right host or port?", "W1114 00:07:41.359838  130867 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.", "error execution phase kubelet-start: error uploading crisocket: Get \"https://192.168.57.201:6443/api/v1/nodes/kube-controller2?timeout=10s\": context deadline exceeded - error from a previous attempt: EOF", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[preflight] Running pre-flight checks before initializing the new control plane instance\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action beforehand using 'kubeadm config images pull'\n[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace\n[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"\n[certs] Using certificateDir folder \"/etc/kubernetes/pki\"\n[certs] Generating \"etcd/peer\" certificate and key\n[certs] etcd/peer serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]\n[certs] Generating \"etcd/healthcheck-client\" certificate and key\n[certs] Generating \"apiserver-etcd-client\" certificate and key\n[certs] Generating \"etcd/server\" certificate and key\n[certs] etcd/server serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]\n[certs] Generating \"apiserver\" certificate and key\n[certs] apiserver serving cert is signed for DNS names [kube-controller2 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.0.0.1 192.168.57.14 192.168.57.201]\n[certs] Generating \"apiserver-kubelet-client\" certificate and key\n[certs] Generating \"front-proxy-client\" certificate and key\n[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"\n[certs] Using the existing \"sa\" key\n[kubeconfig] Generating kubeconfig files\n[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"\n[kubeconfig] Writing \"admin.conf\" kubeconfig file\n[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file\n[kubeconfig] Writing \"scheduler.conf\" kubeconfig file\n[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"\n[control-plane] Creating static Pod manifest for \"kube-apiserver\"\n[control-plane] Creating static Pod manifest for \"kube-controller-manager\"\n[control-plane] Creating static Pod manifest for \"kube-scheduler\"\n[check-etcd] Checking that the etcd cluster is healthy\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Starting the kubelet\n[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s\n[kubelet-check] The kubelet is healthy after 1.002619984s\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[preflight] Running pre-flight checks before initializing the new control plane instance", "[preflight] Pulling images required for setting up a Kubernetes cluster", "[preflight] This might take a minute or two, depending on the speed of your internet connection", "[preflight] You can also perform this action beforehand using 'kubeadm config images pull'", "[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"", "[certs] Using certificateDir folder \"/etc/kubernetes/pki\"", "[certs] Generating \"etcd/peer\" certificate and key", "[certs] etcd/peer serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]", "[certs] Generating \"etcd/healthcheck-client\" certificate and key", "[certs] Generating \"apiserver-etcd-client\" certificate and key", "[certs] Generating \"etcd/server\" certificate and key", "[certs] etcd/server serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]", "[certs] Generating \"apiserver\" certificate and key", "[certs] apiserver serving cert is signed for DNS names [kube-controller2 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.0.0.1 192.168.57.14 192.168.57.201]", "[certs] Generating \"apiserver-kubelet-client\" certificate and key", "[certs] Generating \"front-proxy-client\" certificate and key", "[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"", "[certs] Using the existing \"sa\" key", "[kubeconfig] Generating kubeconfig files", "[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"", "[kubeconfig] Writing \"admin.conf\" kubeconfig file", "[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file", "[kubeconfig] Writing \"scheduler.conf\" kubeconfig file", "[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"", "[control-plane] Creating static Pod manifest for \"kube-apiserver\"", "[control-plane] Creating static Pod manifest for \"kube-controller-manager\"", "[control-plane] Creating static Pod manifest for \"kube-scheduler\"", "[check-etcd] Checking that the etcd cluster is healthy", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Starting the kubelet", "[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s", "[kubelet-check] The kubelet is healthy after 1.002619984s", "[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap"]}
2024-11-14 00:08:55,889 p=45285 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:08:55,890 p=45285 u=root n=ansible | 192.168.57.14              : ok=30   changed=12   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-14 00:19:37,680 p=45592 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:19:37,702 p=45592 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:19:40,214 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:40,240 p=45592 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:19:40,256 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:40,262 p=45592 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:19:40,274 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:19:40,289 p=45592 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:19:40,294 p=45592 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:19:42,227 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:42,246 p=45592 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:19:42,292 p=45592 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:19:42,310 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 00:19:42,313 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:19:42,316 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:19:42,323 p=45592 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:19:42,334 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:42,339 p=45592 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:19:42,365 p=45592 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-14 00:19:42,373 p=45592 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:19:47,196 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:47,208 p=45592 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:19:48,893 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:48,901 p=45592 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:19:51,056 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:51,068 p=45592 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:19:52,810 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:52,820 p=45592 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:19:54,617 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:54,630 p=45592 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:19:56,260 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:56,272 p=45592 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:19:59,143 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:19:59,157 p=45592 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:20:03,765 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:03,780 p=45592 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:20:05,597 p=45592 u=root n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 00:20:07,302 p=45592 u=root n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 00:20:08,952 p=45592 u=root n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 00:20:08,966 p=45592 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:20:10,605 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:20:10,618 p=45592 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:20:13,961 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:20:13,973 p=45592 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:20:15,589 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:20:15,600 p=45592 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:20:17,420 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:20:17,433 p=45592 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:20:19,036 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:19,055 p=45592 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:20:20,702 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:20,711 p=45592 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:20:22,483 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:22,501 p=45592 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:20:24,115 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:24,123 p=45592 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:20:26,428 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:26,439 p=45592 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:20:28,131 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:20:29,619 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:20:31,199 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:20:31,211 p=45592 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:20:33,139 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:33,146 p=45592 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:20:33,204 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:33,208 p=45592 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:20:33,233 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:33,237 p=45592 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:20:33,256 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:33,261 p=45592 u=root n=ansible | TASK [k8s : Check if the node is in the Kubernetes cluster] **************************************************************************************
2024-11-14 00:20:34,919 p=45592 u=root n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": false, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes '|' grep kube-controller2", "msg": "[Errno 2] No such file or directory: b'KUBECONFIG=/etc/kubernetes/admin.conf'", "rc": 2}
2024-11-14 00:20:34,920 p=45592 u=root n=ansible | ...ignoring
2024-11-14 00:20:34,927 p=45592 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:20:45,796 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:20:45,810 p=45592 u=root n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************
2024-11-14 00:20:45,826 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:45,834 p=45592 u=root n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:20:45,853 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:45,862 p=45592 u=root n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:20:47,415 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:47,423 p=45592 u=root n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:20:47,442 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,450 p=45592 u=root n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:20:47,472 p=45592 u=root n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 00:20:47,477 p=45592 u=root n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:20:47,493 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,500 p=45592 u=root n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:20:47,509 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,514 p=45592 u=root n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:20:47,524 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,530 p=45592 u=root n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:20:47,544 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,551 p=45592 u=root n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:20:47,565 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,573 p=45592 u=root n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:20:47,589 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,597 p=45592 u=root n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:20:47,608 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:47,618 p=45592 u=root n=ansible | PLAY [Sync actions] ******************************************************************************************************************************
2024-11-14 00:20:47,623 p=45592 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:20:49,642 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:49,649 p=45592 u=root n=ansible | TASK [Sync facts] ********************************************************************************************************************************
2024-11-14 00:20:49,678 p=45592 u=root n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************
2024-11-14 00:20:49,695 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:49,700 p=45592 u=root n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************
2024-11-14 00:20:49,715 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:49,721 p=45592 u=root n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************
2024-11-14 00:20:49,739 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:20:49,749 p=45592 u=root n=ansible | PLAY [Join to cluster] ***************************************************************************************************************************
2024-11-14 00:20:49,754 p=45592 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:20:51,713 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:51,729 p=45592 u=root n=ansible | TASK [Deploy k8s cluster] ************************************************************************************************************************
2024-11-14 00:20:51,762 p=45592 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:20:51,781 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 00:20:51,784 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:20:51,790 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:20:51,796 p=45592 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:20:51,817 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:51,824 p=45592 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:20:51,859 p=45592 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-14 00:20:51,868 p=45592 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:20:56,436 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:56,450 p=45592 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:20:58,066 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:20:58,074 p=45592 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:21:00,110 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:00,122 p=45592 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:21:01,817 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:01,831 p=45592 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:21:03,684 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:03,702 p=45592 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:21:05,202 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:05,211 p=45592 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:21:07,630 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:07,643 p=45592 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:21:10,928 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:10,935 p=45592 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:21:12,516 p=45592 u=root n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 00:21:13,983 p=45592 u=root n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 00:21:15,522 p=45592 u=root n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 00:21:15,538 p=45592 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:21:17,100 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:21:17,112 p=45592 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:21:20,142 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:21:20,152 p=45592 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:21:21,786 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:21:21,804 p=45592 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:21:23,711 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:21:23,722 p=45592 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:21:25,424 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:25,433 p=45592 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:21:26,868 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:26,879 p=45592 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:21:28,357 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:28,369 p=45592 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:21:30,073 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:30,086 p=45592 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:21:32,940 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:32,957 p=45592 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:21:34,749 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:21:36,539 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:21:38,113 p=45592 u=root n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:21:38,122 p=45592 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:21:39,924 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:39,931 p=45592 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:21:39,947 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:39,955 p=45592 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:21:39,974 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:39,988 p=45592 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:21:40,008 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:40,015 p=45592 u=root n=ansible | TASK [k8s : Check if the node is in the Kubernetes cluster] **************************************************************************************
2024-11-14 00:21:41,661 p=45592 u=root n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": false, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes '|' grep kube-controller2", "msg": "[Errno 2] No such file or directory: b'KUBECONFIG=/etc/kubernetes/admin.conf'", "rc": 2}
2024-11-14 00:21:41,662 p=45592 u=root n=ansible | ...ignoring
2024-11-14 00:21:41,672 p=45592 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:21:49,475 p=45592 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 00:21:49,485 p=45592 u=root n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************
2024-11-14 00:21:49,498 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:49,506 p=45592 u=root n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:21:49,525 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:49,534 p=45592 u=root n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:21:51,110 p=45592 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 00:21:51,120 p=45592 u=root n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:21:51,142 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,150 p=45592 u=root n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:21:51,167 p=45592 u=root n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 00:21:51,174 p=45592 u=root n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:21:51,192 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,199 p=45592 u=root n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:21:51,211 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,217 p=45592 u=root n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:21:51,229 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,235 p=45592 u=root n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:21:51,246 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,251 p=45592 u=root n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:21:51,262 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,267 p=45592 u=root n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:21:51,284 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,290 p=45592 u=root n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:21:51,303 p=45592 u=root n=ansible | skipping: [192.168.57.14]
2024-11-14 00:21:51,313 p=45592 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:21:51,314 p=45592 u=root n=ansible | 192.168.57.14              : ok=64   changed=13   unreachable=0    failed=0    skipped=25   rescued=0    ignored=2   
2024-11-14 00:27:04,371 p=46260 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:27:04,382 p=46260 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:27:06,710 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:27:06,720 p=46260 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:27:06,741 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:27:06,747 p=46260 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:27:06,761 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:06,772 p=46260 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:27:06,777 p=46260 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:27:08,915 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:27:08,925 p=46260 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:27:08,996 p=46260 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:27:09,018 p=46260 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 00:27:09,023 p=46260 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:27:09,029 p=46260 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:27:09,036 p=46260 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:27:09,054 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:27:09,061 p=46260 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:27:09,091 p=46260 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 00:27:09,099 p=46260 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:27:12,269 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:27:12,278 p=46260 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:27:13,887 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:27:13,904 p=46260 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:27:16,193 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:16,202 p=46260 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:27:22,630 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:22,638 p=46260 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:27:24,489 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:24,502 p=46260 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:27:26,248 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:26,258 p=46260 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:27:29,443 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:29,454 p=46260 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:27:49,828 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:49,839 p=46260 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:27:51,525 p=46260 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 00:27:53,149 p=46260 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 00:27:54,784 p=46260 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 00:27:54,793 p=46260 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:27:56,427 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:56,435 p=46260 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:27:59,591 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:27:59,599 p=46260 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:28:01,252 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:28:01,263 p=46260 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:28:03,491 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:28:03,502 p=46260 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:28:05,625 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:28:05,641 p=46260 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:28:07,616 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:28:07,629 p=46260 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:28:09,459 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:28:09,474 p=46260 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:28:11,303 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:28:11,314 p=46260 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:28:14,675 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:28:14,686 p=46260 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:28:16,671 p=46260 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:28:18,775 p=46260 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:28:20,480 p=46260 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:28:20,497 p=46260 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:28:22,195 p=46260 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:28:22,204 p=46260 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:28:22,234 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:28:22,246 p=46260 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:28:22,267 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:28:22,277 p=46260 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:28:22,292 p=46260 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:28:22,298 p=46260 u=root n=ansible | TASK [k8s : Check if the node is in the Kubernetes cluster] **************************************************************************************
2024-11-14 00:28:23,975 p=46260 u=root n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": false, "cmd": "KUBECONFIG=/etc/kubernetes/admin.conf kubectl get nodes '|' grep kube-controller1", "msg": "[Errno 2] No such file or directory: b'KUBECONFIG=/etc/kubernetes/admin.conf'", "rc": 2}
2024-11-14 00:28:23,976 p=46260 u=root n=ansible | ...ignoring
2024-11-14 00:28:23,986 p=46260 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:28:57,546 p=46260 u=root n=ansible |  [ERROR]: User interrupted execution

2024-11-14 00:37:59,441 p=46591 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:37:59,450 p=46591 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:38:01,785 p=46591 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:38:01,853 p=46591 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 00:38:01,887 p=46591 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 00:38:04,060 p=46591 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 00:38:09,498 p=46591 u=root n=ansible | fatal: [192.168.57.15]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.15 port 22: Connection timed out", "unreachable": true}
2024-11-14 00:38:09,500 p=46591 u=root n=ansible | fatal: [192.168.57.14]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.57.14 port 22: Connection timed out", "unreachable": true}
2024-11-14 00:38:09,522 p=46591 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:38:09,554 p=46591 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 00:38:09,562 p=46591 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:38:09,573 p=46591 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 00:38:09,581 p=46591 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:38:09,584 p=46591 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:38:10,649 p=46591 u=root n=ansible |  [ERROR]: User interrupted execution

2024-11-14 00:39:10,232 p=46668 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:39:10,249 p=46668 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:39:12,296 p=46668 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:39:12,387 p=46668 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:39:12,414 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:12,438 p=46668 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:39:13,518 p=46668 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 00:39:15,596 p=46668 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 00:39:15,606 p=46668 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:39:15,635 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:15,641 p=46668 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:39:15,661 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:39:15,671 p=46668 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:39:15,676 p=46668 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:39:17,668 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:17,678 p=46668 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:39:17,726 p=46668 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:39:17,746 p=46668 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 00:39:17,749 p=46668 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:39:17,756 p=46668 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:39:17,767 p=46668 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:39:17,781 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:17,792 p=46668 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:39:17,820 p=46668 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 00:39:17,828 p=46668 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:39:26,206 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:26,220 p=46668 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:39:27,872 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:27,883 p=46668 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:39:30,083 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:30,099 p=46668 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:39:31,866 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:31,885 p=46668 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:39:33,970 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:33,983 p=46668 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:39:35,758 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:35,769 p=46668 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:39:39,564 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:39,579 p=46668 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:39:44,973 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:44,987 p=46668 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:39:46,522 p=46668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 00:39:48,076 p=46668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 00:39:49,668 p=46668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 00:39:49,681 p=46668 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:39:51,390 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:39:51,397 p=46668 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:39:54,342 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:39:54,352 p=46668 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:39:56,121 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:39:56,137 p=46668 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:39:57,964 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:39:57,977 p=46668 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************
2024-11-14 00:39:57,999 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:58,006 p=46668 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:39:59,623 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:39:59,635 p=46668 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:40:01,474 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:01,487 p=46668 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:40:03,288 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:03,303 p=46668 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:40:04,910 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:04,926 p=46668 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:40:07,513 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:07,525 p=46668 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:40:09,398 p=46668 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:40:11,170 p=46668 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:40:12,822 p=46668 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:40:12,834 p=46668 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:40:14,525 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:40:14,537 p=46668 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:40:14,567 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:14,575 p=46668 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:40:14,604 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:14,608 p=46668 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:40:14,631 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:14,637 p=46668 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************
2024-11-14 00:40:16,262 p=46668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:40:16,269 p=46668 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:40:16,287 p=46668 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:40:16,293 p=46668 u=vagrant n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************
2024-11-14 00:40:16,309 p=46668 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:40:16,325 p=46668 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:41:08,710 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:41:08,719 p=46668 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:41:10,384 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:41:10,394 p=46668 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:41:12,305 p=46668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:41:12,321 p=46668 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:41:15,461 p=46668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml)
2024-11-14 00:41:15,472 p=46668 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:41:48,197 p=46668 u=vagrant n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": true, "cmd": "for file in /opt/k8s_deploy/plugins/*; do\n  if [[ -f \"$file\" ]]; then\n    KUBECONFIG=/etc/kubernetes/admin.conf kubectl apply -f \"$file\"\n  fi\ndone\n", "delta": "0:00:31.179439", "end": "2024-11-14 00:38:52.414563", "msg": "non-zero return code", "rc": 1, "start": "2024-11-14 00:38:21.235124", "stderr": "error when retrieving current configuration of:\nResource: \"/v1, Resource=namespaces\", GroupVersionKind: \"/v1, Kind=Namespace\"\nName: \"kube-flannel\", Namespace: \"\"\nfrom server for: \"/opt/k8s_deploy/plugins/01_flannel.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kube-flannel\": EOF\nError from server (NotFound): error when creating \"/opt/k8s_deploy/plugins/01_flannel.yml\": namespaces \"kube-flannel\" not found\nError from server (NotFound): error when creating \"/opt/k8s_deploy/plugins/01_flannel.yml\": namespaces \"kube-flannel\" not found\nError from server (NotFound): error when creating \"/opt/k8s_deploy/plugins/01_flannel.yml\": namespaces \"kube-flannel\" not found", "stderr_lines": ["error when retrieving current configuration of:", "Resource: \"/v1, Resource=namespaces\", GroupVersionKind: \"/v1, Kind=Namespace\"", "Name: \"kube-flannel\", Namespace: \"\"", "from server for: \"/opt/k8s_deploy/plugins/01_flannel.yml\": Get \"https://192.168.57.201:6443/api/v1/namespaces/kube-flannel\": EOF", "Error from server (NotFound): error when creating \"/opt/k8s_deploy/plugins/01_flannel.yml\": namespaces \"kube-flannel\" not found", "Error from server (NotFound): error when creating \"/opt/k8s_deploy/plugins/01_flannel.yml\": namespaces \"kube-flannel\" not found", "Error from server (NotFound): error when creating \"/opt/k8s_deploy/plugins/01_flannel.yml\": namespaces \"kube-flannel\" not found"], "stdout": "clusterrole.rbac.authorization.k8s.io/flannel created\nclusterrolebinding.rbac.authorization.k8s.io/flannel created", "stdout_lines": ["clusterrole.rbac.authorization.k8s.io/flannel created", "clusterrolebinding.rbac.authorization.k8s.io/flannel created"]}
2024-11-14 00:41:48,200 p=46668 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:41:48,201 p=46668 u=vagrant n=ansible | 192.168.57.13              : ok=36   changed=11   unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-14 00:41:48,202 p=46668 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:41:48,202 p=46668 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:41:48,203 p=46668 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:41:48,203 p=46668 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:41:48,203 p=46668 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:48:22,803 p=47079 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:48:22,832 p=47079 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:48:25,167 p=47079 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:48:25,218 p=47079 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:48:25,247 p=47079 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:48:25,256 p=47079 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:48:25,270 p=47079 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:48:25,300 p=47079 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:48:25,312 p=47079 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:48:27,469 p=47079 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:48:27,481 p=47079 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:48:27,538 p=47079 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:48:27,566 p=47079 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 00:48:27,569 p=47079 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:48:27,572 p=47079 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:48:27,579 p=47079 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:48:27,591 p=47079 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:48:27,596 p=47079 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:48:27,621 p=47079 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-14 00:48:27,632 p=47079 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:48:30,873 p=47079 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:48:30,880 p=47079 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:48:32,482 p=47079 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:48:32,491 p=47079 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:48:34,772 p=47079 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:48:34,785 p=47079 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:48:40,213 p=47079 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:48:40,227 p=47079 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:48:42,065 p=47079 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:48:42,077 p=47079 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:48:43,902 p=47079 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:48:43,915 p=47079 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:48:47,277 p=47079 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:48:47,289 p=47079 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:48:47,587 p=47079 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-14 00:49:20,256 p=47191 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:49:20,267 p=47191 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:49:22,229 p=47191 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:49:22,434 p=47191 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 00:49:22,550 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:22,559 p=47191 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:49:22,646 p=47191 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:49:24,496 p=47191 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 00:49:24,517 p=47191 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:49:24,562 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:24,573 p=47191 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:49:24,593 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:49:24,611 p=47191 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:49:24,622 p=47191 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:49:26,580 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:26,588 p=47191 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:49:26,636 p=47191 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:49:26,655 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 00:49:26,658 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:49:26,662 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:49:26,668 p=47191 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:49:26,682 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:26,687 p=47191 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:49:26,715 p=47191 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 00:49:26,726 p=47191 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:49:31,247 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:31,256 p=47191 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:49:32,972 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:32,982 p=47191 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:49:35,224 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:35,238 p=47191 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:49:37,220 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:37,235 p=47191 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:49:39,137 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:39,153 p=47191 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:49:40,838 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:40,854 p=47191 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:49:43,436 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:43,448 p=47191 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:49:46,534 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:46,546 p=47191 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:49:48,130 p=47191 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 00:49:49,634 p=47191 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 00:49:51,348 p=47191 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 00:49:51,358 p=47191 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:49:52,945 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:49:52,953 p=47191 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:49:56,166 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:49:56,180 p=47191 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:49:57,871 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:49:57,885 p=47191 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:49:59,936 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:49:59,949 p=47191 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************
2024-11-14 00:49:59,965 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:49:59,970 p=47191 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:50:01,572 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:01,584 p=47191 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:50:03,334 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:03,343 p=47191 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:50:04,881 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:04,891 p=47191 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:50:06,496 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:06,509 p=47191 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:50:08,852 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:08,864 p=47191 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:50:10,685 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:50:12,594 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:50:14,219 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:50:14,233 p=47191 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:50:16,004 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:50:16,017 p=47191 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:50:16,043 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:16,053 p=47191 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:50:16,071 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:16,076 p=47191 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:50:16,093 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:16,098 p=47191 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************
2024-11-14 00:50:17,870 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:50:17,883 p=47191 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:50:17,905 p=47191 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:50:17,915 p=47191 u=vagrant n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************
2024-11-14 00:50:17,928 p=47191 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:50:17,935 p=47191 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:51:19,264 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:51:19,277 p=47191 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:51:20,971 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:20,987 p=47191 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:51:22,587 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:22,593 p=47191 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:51:24,994 p=47191 u=vagrant n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml)
2024-11-14 00:51:25,006 p=47191 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:51:26,800 p=47191 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 00:51:26,806 p=47191 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:51:28,328 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:28,337 p=47191 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:51:28,359 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:28,369 p=47191 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:51:30,155 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:30,172 p=47191 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:51:30,201 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:30,212 p=47191 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:51:31,837 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:31,847 p=47191 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:51:31,875 p=47191 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:31,894 p=47191 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:51:31,894 p=47191 u=vagrant n=ansible | 192.168.57.13              : ok=43   changed=9    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2024-11-14 00:51:31,895 p=47191 u=vagrant n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:31,895 p=47191 u=vagrant n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:31,895 p=47191 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:31,896 p=47191 u=vagrant n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:31,896 p=47191 u=vagrant n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:54,470 p=47601 u=vagrant n=ansible | PLAY [Sync actions] ******************************************************************************************************************************
2024-11-14 00:51:54,498 p=47601 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:51:56,516 p=47601 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:51:56,619 p=47601 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 00:51:56,688 p=47601 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 00:51:56,849 p=47601 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:51:56,853 p=47601 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:51:58,796 p=47601 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 00:51:58,819 p=47601 u=vagrant n=ansible | TASK [Sync facts] ********************************************************************************************************************************
2024-11-14 00:51:58,930 p=47601 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************
2024-11-14 00:51:58,990 p=47601 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:51:59,032 p=47601 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:51:59,034 p=47601 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:51:59,050 p=47601 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:51:59,064 p=47601 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 00:51:59,075 p=47601 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 00:51:59,080 p=47601 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************
2024-11-14 00:51:59,142 p=47601 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:51:59,168 p=47601 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:51:59,179 p=47601 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:51:59,200 p=47601 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 00:51:59,202 p=47601 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:51:59,214 p=47601 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 00:51:59,219 p=47601 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************
2024-11-14 00:51:59,265 p=47601 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 00:51:59,284 p=47601 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:51:59,309 p=47601 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:51:59,311 p=47601 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:51:59,328 p=47601 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 00:51:59,338 p=47601 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 00:51:59,349 p=47601 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:51:59,349 p=47601 u=vagrant n=ansible | 192.168.57.13              : ok=1    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2024-11-14 00:51:59,350 p=47601 u=vagrant n=ansible | 192.168.57.14              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:59,350 p=47601 u=vagrant n=ansible | 192.168.57.15              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:59,350 p=47601 u=vagrant n=ansible | 192.168.57.16              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:59,351 p=47601 u=vagrant n=ansible | 192.168.57.17              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:51:59,351 p=47601 u=vagrant n=ansible | 192.168.57.18              : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 00:52:31,178 p=47708 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:52:31,190 p=47708 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:52:33,437 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:33,447 p=47708 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:52:33,471 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:33,479 p=47708 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:52:33,490 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:52:33,500 p=47708 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:52:33,521 p=47708 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:52:35,495 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:35,513 p=47708 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:52:35,570 p=47708 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:52:35,587 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 00:52:35,592 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:52:35,596 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:52:35,603 p=47708 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:52:35,623 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:35,631 p=47708 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:52:35,659 p=47708 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-14 00:52:35,669 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:52:40,712 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:40,723 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:52:42,513 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:42,523 p=47708 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:52:44,696 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:44,707 p=47708 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:52:46,445 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:46,462 p=47708 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:52:48,487 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:48,502 p=47708 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:52:50,195 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:50,210 p=47708 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:52:52,880 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:52:52,893 p=47708 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:53:10,316 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:10,323 p=47708 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:53:11,977 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 00:53:13,494 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 00:53:15,038 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 00:53:15,046 p=47708 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:53:16,737 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:16,745 p=47708 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:53:19,897 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:19,911 p=47708 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:53:21,682 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:21,691 p=47708 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:53:23,557 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:23,565 p=47708 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************
2024-11-14 00:53:23,581 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:23,588 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:53:25,340 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:25,354 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:53:26,985 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:26,996 p=47708 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:53:28,676 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:28,692 p=47708 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:53:30,488 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:30,502 p=47708 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:53:33,243 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:33,256 p=47708 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:53:34,981 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:53:36,673 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:53:38,357 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:53:38,372 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:53:40,155 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:53:40,161 p=47708 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:53:40,192 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:40,197 p=47708 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:53:40,221 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:40,228 p=47708 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:53:40,248 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:40,259 p=47708 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************
2024-11-14 00:53:42,032 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:53:42,045 p=47708 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:54:18,153 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:54:18,161 p=47708 u=vagrant n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************
2024-11-14 00:54:18,176 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:18,184 p=47708 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:54:18,201 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:18,209 p=47708 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:54:19,775 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:54:19,781 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:54:19,795 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,800 p=47708 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:54:19,817 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 00:54:19,826 p=47708 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:54:19,838 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,844 p=47708 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:54:19,855 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,862 p=47708 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:54:19,873 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,879 p=47708 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:54:19,891 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,897 p=47708 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:54:19,908 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,913 p=47708 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:54:19,925 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,930 p=47708 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:54:19,942 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:19,953 p=47708 u=vagrant n=ansible | PLAY [Sync actions] ******************************************************************************************************************************
2024-11-14 00:54:19,958 p=47708 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:54:21,875 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:21,889 p=47708 u=vagrant n=ansible | TASK [Sync facts] ********************************************************************************************************************************
2024-11-14 00:54:21,912 p=47708 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************
2024-11-14 00:54:21,930 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:21,934 p=47708 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************
2024-11-14 00:54:21,958 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:21,964 p=47708 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************
2024-11-14 00:54:21,981 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:21,992 p=47708 u=vagrant n=ansible | PLAY [Join to cluster] ***************************************************************************************************************************
2024-11-14 00:54:21,997 p=47708 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:54:23,938 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:23,946 p=47708 u=vagrant n=ansible | TASK [Deploy k8s cluster] ************************************************************************************************************************
2024-11-14 00:54:23,986 p=47708 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:54:24,007 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 00:54:24,011 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:54:24,015 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:54:24,022 p=47708 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:54:24,042 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:24,050 p=47708 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:54:24,087 p=47708 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.14
2024-11-14 00:54:24,104 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:54:28,764 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:28,775 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:54:30,260 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:30,268 p=47708 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:54:32,270 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:32,278 p=47708 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:54:34,060 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:34,075 p=47708 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:54:35,893 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:35,904 p=47708 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:54:37,530 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:37,536 p=47708 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:54:39,933 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:39,947 p=47708 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:54:42,969 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:42,977 p=47708 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:54:44,492 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 00:54:46,125 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 00:54:47,628 p=47708 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 00:54:47,639 p=47708 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:54:49,332 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:54:49,347 p=47708 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:54:52,352 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:54:52,367 p=47708 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:54:53,931 p=47708 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 00:54:53,943 p=47708 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:54:53,963 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:54:53,975 p=47708 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************
2024-11-14 00:54:53,991 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:53,995 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:54:55,482 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:55,491 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:54:56,977 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:56,989 p=47708 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:54:58,743 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:54:58,756 p=47708 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:55:00,206 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:00,217 p=47708 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:55:02,568 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:02,583 p=47708 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:55:04,059 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:55:05,808 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:55:07,508 p=47708 u=vagrant n=ansible | ok: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:55:07,515 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:55:09,090 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:09,100 p=47708 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:55:09,119 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:09,126 p=47708 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:55:09,152 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:09,158 p=47708 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:55:09,175 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:09,183 p=47708 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************
2024-11-14 00:55:10,894 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:10,903 p=47708 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:55:10,950 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:10,988 p=47708 u=vagrant n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************
2024-11-14 00:55:11,003 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:11,016 p=47708 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************
2024-11-14 00:55:11,031 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:11,041 p=47708 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************
2024-11-14 00:55:12,630 p=47708 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 00:55:12,639 p=47708 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************
2024-11-14 00:55:12,659 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,667 p=47708 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************
2024-11-14 00:55:12,687 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 00:55:12,696 p=47708 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************
2024-11-14 00:55:12,708 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,715 p=47708 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************
2024-11-14 00:55:12,725 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,730 p=47708 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************
2024-11-14 00:55:12,748 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,755 p=47708 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************
2024-11-14 00:55:12,765 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,772 p=47708 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************
2024-11-14 00:55:12,782 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,787 p=47708 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************
2024-11-14 00:55:12,807 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,815 p=47708 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************
2024-11-14 00:55:12,828 p=47708 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 00:55:12,840 p=47708 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:55:12,841 p=47708 u=vagrant n=ansible | 192.168.57.14              : ok=64   changed=17   unreachable=0    failed=0    skipped=27   rescued=0    ignored=0   
2024-11-14 00:55:32,488 p=48328 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:55:32,509 p=48328 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:55:35,219 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:55:35,230 p=48328 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:55:35,256 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:55:35,268 p=48328 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************
2024-11-14 00:55:35,288 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:55:35,301 p=48328 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************
2024-11-14 00:55:35,305 p=48328 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:55:37,373 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:55:37,388 p=48328 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************
2024-11-14 00:55:37,432 p=48328 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************
2024-11-14 00:55:37,457 p=48328 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/default.yml)
2024-11-14 00:55:37,466 p=48328 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/default.yml)
2024-11-14 00:55:37,471 p=48328 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 00:55:37,477 p=48328 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************
2024-11-14 00:55:37,491 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:55:37,496 p=48328 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************
2024-11-14 00:55:37,520 p=48328 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.15
2024-11-14 00:55:37,530 p=48328 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************
2024-11-14 00:55:40,913 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:55:40,926 p=48328 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************
2024-11-14 00:55:42,795 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:55:42,804 p=48328 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************
2024-11-14 00:55:45,140 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:55:45,151 p=48328 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************
2024-11-14 00:55:50,856 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:55:50,866 p=48328 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************
2024-11-14 00:55:52,804 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:55:52,814 p=48328 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************
2024-11-14 00:55:54,516 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:55:54,533 p=48328 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************
2024-11-14 00:55:57,804 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:55:57,811 p=48328 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************
2024-11-14 00:56:17,719 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:17,728 p=48328 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************
2024-11-14 00:56:19,829 p=48328 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubelet)
2024-11-14 00:56:21,448 p=48328 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubeadm)
2024-11-14 00:56:23,083 p=48328 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubectl)
2024-11-14 00:56:23,092 p=48328 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************
2024-11-14 00:56:24,823 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:24,830 p=48328 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************
2024-11-14 00:56:27,935 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:27,947 p=48328 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************
2024-11-14 00:56:29,747 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:29,754 p=48328 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************
2024-11-14 00:56:32,712 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:32,724 p=48328 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************
2024-11-14 00:56:32,743 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:32,748 p=48328 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************
2024-11-14 00:56:34,551 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:34,560 p=48328 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************
2024-11-14 00:56:36,072 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:36,088 p=48328 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************
2024-11-14 00:56:37,749 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:37,758 p=48328 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************
2024-11-14 00:56:39,384 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:39,399 p=48328 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************
2024-11-14 00:56:42,636 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:42,650 p=48328 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************
2024-11-14 00:56:45,588 p=48328 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 00:56:47,225 p=48328 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 00:56:48,901 p=48328 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 00:56:48,911 p=48328 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************
2024-11-14 00:56:50,802 p=48328 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 00:56:50,812 p=48328 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************
2024-11-14 00:56:50,829 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:50,839 p=48328 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************
2024-11-14 00:56:50,854 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:50,861 p=48328 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************
2024-11-14 00:56:50,877 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:50,884 p=48328 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************
2024-11-14 00:56:52,599 p=48328 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 00:56:52,611 p=48328 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************
2024-11-14 00:57:19,868 p=48328 u=vagrant n=ansible | fatal: [192.168.57.15]: FAILED! => {"changed": true, "cmd": "kubeadm join 192.168.57.201:6443  --control-plane  --apiserver-advertise-address 192.168.57.15  --token abcdef.0123456789abcdef  --discovery-token-ca-cert-hash sha256:4659164378861da946a0d002c3db78c095de242a94b3e10a3963d9830be20be7  --certificate-key 742b443d06c5d5d0fdcd1999c2359b8d8d06c087bcec4b35d07d40bb1f1425c5\n", "delta": "0:00:25.157025", "end": "2024-11-14 00:54:23.731687", "msg": "non-zero return code", "rc": 1, "start": "2024-11-14 00:53:58.574662", "stderr": "W1114 00:53:58.723572   23837 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.\nerror execution phase control-plane-prepare/download-certs: error downloading certs: error downloading the secret: etcdserver: request timed out\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["W1114 00:53:58.723572   23837 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.", "error execution phase control-plane-prepare/download-certs: error downloading certs: error downloading the secret: etcdserver: request timed out", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[preflight] Running pre-flight checks before initializing the new control plane instance\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action beforehand using 'kubeadm config images pull'\n[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[preflight] Running pre-flight checks before initializing the new control plane instance", "[preflight] Pulling images required for setting up a Kubernetes cluster", "[preflight] This might take a minute or two, depending on the speed of your internet connection", "[preflight] You can also perform this action beforehand using 'kubeadm config images pull'", "[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace"]}
2024-11-14 00:57:19,869 p=48328 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:57:19,870 p=48328 u=vagrant n=ansible | 192.168.57.15              : ok=32   changed=16   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-14 00:59:44,088 p=48619 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 00:59:44,110 p=48619 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 00:59:46,434 p=48619 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 00:59:46,447 p=48619 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 00:59:46,471 p=48619 u=vagrant n=ansible | fatal: [192.168.57.16]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: No first item, sequence was empty.\n\nThe error appears to be in '/vagrant/ansible/playbooks/deploy_k8s.yml': line 6, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Set cacheable fact for the first controller node\n      ^ here\n"}
2024-11-14 00:59:46,472 p=48619 u=vagrant n=ansible | NO MORE HOSTS LEFT *******************************************************************************************************************************
2024-11-14 00:59:46,473 p=48619 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 00:59:46,473 p=48619 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-14 01:00:42,205 p=48637 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************
2024-11-14 01:00:42,218 p=48637 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2024-11-14 01:00:44,835 p=48637 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:00:44,853 p=48637 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************
2024-11-14 01:00:44,878 p=48637 u=vagrant n=ansible | fatal: [192.168.57.16]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: No first item, sequence was empty.\n\nThe error appears to be in '/vagrant/ansible/playbooks/deploy_k8s.yml': line 6, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Set cacheable fact for the first controller node\n      ^ here\n"}
2024-11-14 01:00:44,879 p=48637 u=vagrant n=ansible | NO MORE HOSTS LEFT *******************************************************************************************************************************
2024-11-14 01:00:44,880 p=48637 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************
2024-11-14 01:00:44,880 p=48637 u=vagrant n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-11-14 01:06:52,700 p=48668 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************
2024-11-14 01:06:52,722 p=48668 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:06:54,764 p=48668 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:06:55,030 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:06:55,049 p=48668 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:06:55,073 p=48668 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:06:55,200 p=48668 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:06:56,957 p=48668 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:06:56,967 p=48668 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************************
2024-11-14 01:06:56,999 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:06:57,010 p=48668 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************************
2024-11-14 01:06:57,020 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:06:57,030 p=48668 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************************
2024-11-14 01:06:57,035 p=48668 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:06:58,948 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:06:58,965 p=48668 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************************
2024-11-14 01:06:59,019 p=48668 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-14 01:06:59,040 p=48668 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 01:06:59,043 p=48668 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:06:59,046 p=48668 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:06:59,051 p=48668 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-14 01:06:59,067 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:06:59,082 p=48668 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-14 01:06:59,109 p=48668 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 01:06:59,117 p=48668 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-14 01:07:02,059 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:07:02,073 p=48668 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-14 01:07:04,034 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:07:04,049 p=48668 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************************
2024-11-14 01:07:06,675 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:06,693 p=48668 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************************
2024-11-14 01:07:12,438 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:12,450 p=48668 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-14 01:07:14,570 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:14,586 p=48668 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-14 01:07:16,367 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:16,385 p=48668 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-14 01:07:19,968 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:19,978 p=48668 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-14 01:07:38,375 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:38,385 p=48668 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-14 01:07:40,309 p=48668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 01:07:41,982 p=48668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 01:07:43,589 p=48668 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 01:07:43,606 p=48668 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************************
2024-11-14 01:07:45,101 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:45,117 p=48668 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************************
2024-11-14 01:07:48,156 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:48,173 p=48668 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************************
2024-11-14 01:07:49,892 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:49,906 p=48668 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************************
2024-11-14 01:07:49,923 p=48668 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:07:49,935 p=48668 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************************
2024-11-14 01:07:49,950 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:07:49,955 p=48668 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-14 01:07:51,659 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:07:51,671 p=48668 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-14 01:07:53,555 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:07:53,569 p=48668 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-14 01:07:55,324 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:07:55,336 p=48668 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************************
2024-11-14 01:07:57,119 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:07:57,137 p=48668 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-14 01:08:00,094 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:08:00,103 p=48668 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-14 01:08:01,743 p=48668 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:08:03,228 p=48668 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:08:04,850 p=48668 u=vagrant n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:08:04,864 p=48668 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-14 01:08:06,704 p=48668 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:08:06,714 p=48668 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-14 01:08:06,744 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:08:06,753 p=48668 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-14 01:08:06,820 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:08:06,825 p=48668 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-14 01:08:06,843 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:08:06,848 p=48668 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************************
2024-11-14 01:08:08,475 p=48668 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:08:08,488 p=48668 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-14 01:08:37,165 p=48668 u=vagrant n=ansible |  [ERROR]: User interrupted execution

2024-11-14 01:09:00,444 p=48996 u=vagrant n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************
2024-11-14 01:09:00,453 p=48996 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:09:02,672 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:09:02,780 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:09:02,790 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:09:02,834 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:09:02,867 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:05,075 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:09:05,085 p=48996 u=vagrant n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************************
2024-11-14 01:09:05,124 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:05,140 p=48996 u=vagrant n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************************
2024-11-14 01:09:05,153 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:09:05,165 p=48996 u=vagrant n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************************
2024-11-14 01:09:05,170 p=48996 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:09:07,314 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:07,324 p=48996 u=vagrant n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************************
2024-11-14 01:09:07,377 p=48996 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-14 01:09:07,404 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 01:09:07,410 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:09:07,420 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:09:07,428 p=48996 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-14 01:09:07,444 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:07,454 p=48996 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-14 01:09:07,483 p=48996 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 01:09:07,491 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-14 01:09:11,650 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:11,661 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-14 01:09:13,317 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:13,333 p=48996 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************************
2024-11-14 01:09:15,551 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:15,563 p=48996 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************************
2024-11-14 01:09:17,448 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:17,458 p=48996 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-14 01:09:19,429 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:19,443 p=48996 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-14 01:09:21,159 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:21,174 p=48996 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-14 01:09:23,739 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:23,750 p=48996 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-14 01:09:26,758 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:26,766 p=48996 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-14 01:09:28,421 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 01:09:29,954 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 01:09:31,397 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 01:09:31,405 p=48996 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************************
2024-11-14 01:09:33,042 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:09:33,050 p=48996 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************************
2024-11-14 01:09:36,251 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:09:36,260 p=48996 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************************
2024-11-14 01:09:37,811 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:09:37,818 p=48996 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************************
2024-11-14 01:09:39,661 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:09:39,670 p=48996 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************************
2024-11-14 01:09:39,687 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:39,694 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-14 01:09:41,244 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:41,259 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-14 01:09:42,974 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:42,982 p=48996 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-14 01:09:44,760 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:44,772 p=48996 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************************
2024-11-14 01:09:46,388 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:46,404 p=48996 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-14 01:09:48,908 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:48,916 p=48996 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-14 01:09:50,664 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:09:52,372 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:09:53,932 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:09:53,941 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-14 01:09:55,720 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:09:55,734 p=48996 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-14 01:09:55,769 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:55,776 p=48996 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-14 01:09:55,801 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:55,807 p=48996 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-14 01:09:55,826 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:55,838 p=48996 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************************
2024-11-14 01:09:57,432 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:09:57,444 p=48996 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-14 01:09:57,464 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:09:57,473 p=48996 u=vagrant n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************************
2024-11-14 01:09:57,485 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:09:57,491 p=48996 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************
2024-11-14 01:11:28,860 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:11:28,869 p=48996 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************
2024-11-14 01:11:30,414 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:11:30,428 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************
2024-11-14 01:11:31,947 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:11:31,955 p=48996 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************
2024-11-14 01:11:34,835 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml)
2024-11-14 01:11:34,852 p=48996 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************
2024-11-14 01:11:37,087 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:11:37,097 p=48996 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************
2024-11-14 01:11:38,634 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:38,640 p=48996 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************
2024-11-14 01:11:38,663 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:38,668 p=48996 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************
2024-11-14 01:11:40,203 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:40,216 p=48996 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************
2024-11-14 01:11:40,242 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:40,254 p=48996 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************
2024-11-14 01:11:41,713 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:41,729 p=48996 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************
2024-11-14 01:11:41,760 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:41,775 p=48996 u=vagrant n=ansible | PLAY [Sync actions] ******************************************************************************************************************************************
2024-11-14 01:11:41,786 p=48996 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:11:43,866 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:43,911 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:43,914 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:44,003 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:11:44,191 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:46,270 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:11:46,282 p=48996 u=vagrant n=ansible | TASK [Sync facts] ********************************************************************************************************************************************
2024-11-14 01:11:46,363 p=48996 u=vagrant n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************************
2024-11-14 01:11:46,446 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:11:46,462 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:46,473 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:46,482 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:11:46,490 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:11:46,492 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:46,497 p=48996 u=vagrant n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************************
2024-11-14 01:11:46,516 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:11:46,535 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:46,564 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:11:46,574 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:46,575 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:46,584 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:11:46,590 p=48996 u=vagrant n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************************
2024-11-14 01:11:46,616 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:11:46,667 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:46,672 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:46,674 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:11:46,684 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:46,688 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:11:46,697 p=48996 u=vagrant n=ansible | PLAY [Join to cluster] ***************************************************************************************************************************************
2024-11-14 01:11:46,702 p=48996 u=vagrant n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:11:48,489 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:11:48,499 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:48,552 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:48,629 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:48,724 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:50,463 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:11:50,475 p=48996 u=vagrant n=ansible | TASK [Deploy k8s cluster] ************************************************************************************************************************************
2024-11-14 01:11:50,566 p=48996 u=vagrant n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-14 01:11:50,631 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 01:11:50,633 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:11:50,634 p=48996 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/default.yml)
2024-11-14 01:11:50,635 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:11:50,636 p=48996 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 01:11:50,638 p=48996 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:11:50,639 p=48996 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:11:50,645 p=48996 u=vagrant n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:11:50,649 p=48996 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/default.yml)
2024-11-14 01:11:50,649 p=48996 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/default.yml)
2024-11-14 01:11:50,650 p=48996 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:11:50,651 p=48996 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:11:50,651 p=48996 u=vagrant n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:11:50,657 p=48996 u=vagrant n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:11:50,657 p=48996 u=vagrant n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:11:50,667 p=48996 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/default.yml)
2024-11-14 01:11:50,671 p=48996 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:11:50,675 p=48996 u=vagrant n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:11:50,680 p=48996 u=vagrant n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-14 01:11:50,709 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:50,718 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:50,733 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:50,734 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:11:50,735 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:50,746 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:11:50,750 p=48996 u=vagrant n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-14 01:11:50,835 p=48996 u=vagrant n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13, 192.168.57.15, 192.168.57.14, 192.168.57.16, 192.168.57.17, 192.168.57.18
2024-11-14 01:11:50,868 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-14 01:11:54,333 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:11:54,655 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:11:56,608 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:11:57,146 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:11:57,327 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:12:00,517 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:12:00,529 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-14 01:12:01,938 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:12:01,980 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:12:01,987 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:02,099 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:12:02,191 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:12:03,740 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:12:03,752 p=48996 u=vagrant n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************************
2024-11-14 01:12:05,796 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:12:05,837 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:12:05,847 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:12:05,858 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:05,939 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:12:07,999 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:12:08,011 p=48996 u=vagrant n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************************
2024-11-14 01:12:09,625 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:15,016 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:12:15,171 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:12:15,185 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:12:15,352 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:12:16,076 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:12:16,086 p=48996 u=vagrant n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-14 01:12:17,776 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:12:17,803 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:12:17,805 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:18,037 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:12:18,090 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:12:19,568 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:12:19,578 p=48996 u=vagrant n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-14 01:12:21,009 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:12:21,033 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:12:21,043 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:12:21,050 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:21,054 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:12:22,850 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:12:22,860 p=48996 u=vagrant n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-14 01:12:25,035 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:25,489 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:12:25,500 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:12:25,574 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:12:25,684 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:12:28,062 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:12:28,071 p=48996 u=vagrant n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-14 01:12:32,003 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:12:58,707 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:12:59,360 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:00,541 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:00,555 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:02,161 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:02,173 p=48996 u=vagrant n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-14 01:13:06,360 p=48996 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 01:13:06,361 p=48996 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubelet)
2024-11-14 01:13:06,362 p=48996 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubelet)
2024-11-14 01:13:06,362 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 01:13:06,363 p=48996 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubelet)
2024-11-14 01:13:06,363 p=48996 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 01:13:06,364 p=48996 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubeadm)
2024-11-14 01:13:06,365 p=48996 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubeadm)
2024-11-14 01:13:06,365 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 01:13:06,365 p=48996 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubeadm)
2024-11-14 01:13:06,366 p=48996 u=vagrant n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 01:13:06,464 p=48996 u=vagrant n=ansible | changed: [192.168.57.17] => (item=kubectl)
2024-11-14 01:13:06,510 p=48996 u=vagrant n=ansible | changed: [192.168.57.15] => (item=kubectl)
2024-11-14 01:13:06,535 p=48996 u=vagrant n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 01:13:06,536 p=48996 u=vagrant n=ansible | changed: [192.168.57.16] => (item=kubectl)
2024-11-14 01:13:07,966 p=48996 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubelet)
2024-11-14 01:13:09,692 p=48996 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubeadm)
2024-11-14 01:13:11,241 p=48996 u=vagrant n=ansible | changed: [192.168.57.18] => (item=kubectl)
2024-11-14 01:13:11,258 p=48996 u=vagrant n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************************
2024-11-14 01:13:12,772 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:12,846 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:13:12,848 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:12,849 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:12,866 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:14,495 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:14,513 p=48996 u=vagrant n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************************
2024-11-14 01:13:17,171 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:17,197 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:17,204 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:17,229 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:13:17,247 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:20,219 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:20,237 p=48996 u=vagrant n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************************
2024-11-14 01:13:21,574 p=48996 u=vagrant n=ansible | changed: [192.168.57.13]
2024-11-14 01:13:21,621 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:21,651 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:21,678 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:21,720 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:23,227 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:23,242 p=48996 u=vagrant n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************************
2024-11-14 01:13:23,280 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:13:24,703 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:24,843 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:24,958 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:24,969 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:25,004 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:25,015 p=48996 u=vagrant n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************************
2024-11-14 01:13:25,037 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:25,050 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:25,061 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:25,076 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:25,086 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:25,096 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:25,101 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-14 01:13:26,475 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:26,477 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:26,514 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:26,559 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:26,622 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:28,278 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:28,290 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-14 01:13:29,696 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:29,703 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:29,781 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:29,807 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:29,993 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:31,223 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:31,243 p=48996 u=vagrant n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-14 01:13:32,591 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:32,653 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:32,739 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:32,742 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:32,745 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:34,308 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:34,318 p=48996 u=vagrant n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************************
2024-11-14 01:13:35,621 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:35,650 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:35,714 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:35,739 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:35,749 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:37,177 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:37,190 p=48996 u=vagrant n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-14 01:13:39,301 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:39,600 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:39,726 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:39,844 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:39,879 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:42,011 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:42,023 p=48996 u=vagrant n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-14 01:13:46,020 p=48996 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:13:46,022 p=48996 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:13:46,023 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:13:46,024 p=48996 u=vagrant n=ansible | changed: [192.168.57.16] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:13:46,025 p=48996 u=vagrant n=ansible | changed: [192.168.57.17] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:13:46,026 p=48996 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:13:46,027 p=48996 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:13:46,027 p=48996 u=vagrant n=ansible | changed: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:13:46,028 p=48996 u=vagrant n=ansible | changed: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:13:46,029 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:13:46,029 p=48996 u=vagrant n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:13:46,298 p=48996 u=vagrant n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:13:46,329 p=48996 u=vagrant n=ansible | changed: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:13:46,356 p=48996 u=vagrant n=ansible | changed: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:13:47,327 p=48996 u=vagrant n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:13:47,649 p=48996 u=vagrant n=ansible | changed: [192.168.57.18] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:13:49,158 p=48996 u=vagrant n=ansible | changed: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:13:50,711 p=48996 u=vagrant n=ansible | changed: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:13:50,727 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-14 01:13:52,264 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:13:52,285 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:52,341 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:13:52,400 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:13:52,401 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:13:54,101 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:13:54,111 p=48996 u=vagrant n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-14 01:13:54,184 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:54,194 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:54,218 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:54,222 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:54,228 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:54,238 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:54,251 p=48996 u=vagrant n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-14 01:13:54,353 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:54,354 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:54,359 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:54,359 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:54,385 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:54,394 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:54,399 p=48996 u=vagrant n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-14 01:13:54,430 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:54,448 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:54,457 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:54,473 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:54,474 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:54,480 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:54,486 p=48996 u=vagrant n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************************
2024-11-14 01:13:55,782 p=48996 u=vagrant n=ansible | ok: [192.168.57.14]
2024-11-14 01:13:55,877 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:13:55,887 p=48996 u=vagrant n=ansible | ok: [192.168.57.15]
2024-11-14 01:13:55,932 p=48996 u=vagrant n=ansible | ok: [192.168.57.16]
2024-11-14 01:13:55,954 p=48996 u=vagrant n=ansible | ok: [192.168.57.17]
2024-11-14 01:13:57,252 p=48996 u=vagrant n=ansible | ok: [192.168.57.18]
2024-11-14 01:13:57,268 p=48996 u=vagrant n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-14 01:13:57,297 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:13:57,334 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:13:57,350 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:13:57,362 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:14:22,481 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:14:48,397 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:14:48,409 p=48996 u=vagrant n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************************
2024-11-14 01:14:48,430 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:14:48,446 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:14:48,461 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:11,276 p=48996 u=vagrant n=ansible | changed: [192.168.57.17]
2024-11-14 01:15:11,364 p=48996 u=vagrant n=ansible | changed: [192.168.57.18]
2024-11-14 01:15:11,365 p=48996 u=vagrant n=ansible | changed: [192.168.57.16]
2024-11-14 01:15:11,376 p=48996 u=vagrant n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************
2024-11-14 01:15:11,412 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:11,430 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:11,447 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:11,463 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:11,464 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:11,472 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:11,481 p=48996 u=vagrant n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************
2024-11-14 01:15:11,556 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:11,578 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:11,590 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,028 p=48996 u=vagrant n=ansible | changed: [192.168.57.15]
2024-11-14 01:15:13,086 p=48996 u=vagrant n=ansible | changed: [192.168.57.14]
2024-11-14 01:15:13,215 p=48996 u=vagrant n=ansible | ok: [192.168.57.13]
2024-11-14 01:15:13,226 p=48996 u=vagrant n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************
2024-11-14 01:15:13,256 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,276 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:13,290 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:13,305 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:13,307 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:13,313 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,319 p=48996 u=vagrant n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************
2024-11-14 01:15:13,373 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 01:15:13,395 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 01:15:13,403 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 01:15:13,411 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 01:15:13,416 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 01:15:13,417 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml) 
2024-11-14 01:15:13,425 p=48996 u=vagrant n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************
2024-11-14 01:15:13,453 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,468 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:13,489 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:13,502 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:13,503 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:13,515 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,525 p=48996 u=vagrant n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************
2024-11-14 01:15:13,545 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,560 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:13,579 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:13,600 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:13,619 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:13,630 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,636 p=48996 u=vagrant n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************
2024-11-14 01:15:13,656 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,672 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:13,689 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:13,705 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:13,723 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:13,735 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,746 p=48996 u=vagrant n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************
2024-11-14 01:15:13,767 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,782 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:13,807 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:13,826 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:13,832 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:13,843 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,850 p=48996 u=vagrant n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************
2024-11-14 01:15:13,877 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,895 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:13,924 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:13,928 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:13,935 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:13,943 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:13,954 p=48996 u=vagrant n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************
2024-11-14 01:15:13,975 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:13,989 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:14,004 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:14,020 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:14,033 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:14,047 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:14,056 p=48996 u=vagrant n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************
2024-11-14 01:15:14,084 p=48996 u=vagrant n=ansible | skipping: [192.168.57.13]
2024-11-14 01:15:14,120 p=48996 u=vagrant n=ansible | skipping: [192.168.57.14]
2024-11-14 01:15:14,135 p=48996 u=vagrant n=ansible | skipping: [192.168.57.15]
2024-11-14 01:15:14,136 p=48996 u=vagrant n=ansible | skipping: [192.168.57.16]
2024-11-14 01:15:14,137 p=48996 u=vagrant n=ansible | skipping: [192.168.57.17]
2024-11-14 01:15:14,146 p=48996 u=vagrant n=ansible | skipping: [192.168.57.18]
2024-11-14 01:15:14,162 p=48996 u=vagrant n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2024-11-14 01:15:14,163 p=48996 u=vagrant n=ansible | 192.168.57.13              : ok=73   changed=16   unreachable=0    failed=0    skipped=18   rescued=0    ignored=0   
2024-11-14 01:15:14,164 p=48996 u=vagrant n=ansible | 192.168.57.14              : ok=36   changed=17   unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2024-11-14 01:15:14,164 p=48996 u=vagrant n=ansible | 192.168.57.15              : ok=36   changed=17   unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2024-11-14 01:15:14,164 p=48996 u=vagrant n=ansible | 192.168.57.16              : ok=35   changed=16   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2024-11-14 01:15:14,165 p=48996 u=vagrant n=ansible | 192.168.57.17              : ok=35   changed=16   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2024-11-14 01:15:14,165 p=48996 u=vagrant n=ansible | 192.168.57.18              : ok=35   changed=16   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2024-11-14 01:55:16,033 p=12029 u=root n=ansible | PLAY [Deploy haproxy and keepalived] *************************************************************************************************************************
2024-11-14 01:55:16,059 p=12029 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:55:18,370 p=12029 u=root n=ansible | ok: [192.168.57.12]
2024-11-14 01:55:18,501 p=12029 u=root n=ansible | ok: [192.168.57.11]
2024-11-14 01:55:18,525 p=12029 u=root n=ansible | TASK [Bootstrap node geth] ***********************************************************************************************************************************
2024-11-14 01:55:18,579 p=12029 u=root n=ansible | TASK [haproxy_lb : Include vars if file exists] **************************************************************************************************************
2024-11-14 01:55:18,608 p=12029 u=root n=ansible | ok: [192.168.57.11] => (item=linux/default.yml)
2024-11-14 01:55:18,609 p=12029 u=root n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:55:18,612 p=12029 u=root n=ansible | ok: [192.168.57.11] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:55:18,627 p=12029 u=root n=ansible | ok: [192.168.57.12] => (item=linux/default.yml)
2024-11-14 01:55:18,633 p=12029 u=root n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:55:18,636 p=12029 u=root n=ansible | ok: [192.168.57.12] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:55:18,641 p=12029 u=root n=ansible | TASK [haproxy_lb : Check if the OS is Ubuntu] ****************************************************************************************************************
2024-11-14 01:55:18,660 p=12029 u=root n=ansible | ok: [192.168.57.11]
2024-11-14 01:55:18,675 p=12029 u=root n=ansible | ok: [192.168.57.12]
2024-11-14 01:55:18,680 p=12029 u=root n=ansible | TASK [haproxy_lb : Include Ubuntu tasks] *********************************************************************************************************************
2024-11-14 01:55:18,723 p=12029 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/haproxy_lb/tasks/linux/Ubuntu/main.yml for 192.168.57.11, 192.168.57.12
2024-11-14 01:55:18,730 p=12029 u=root n=ansible | TASK [haproxy_lb : Update apt cache] *************************************************************************************************************************
2024-11-14 01:55:23,058 p=12029 u=root n=ansible | changed: [192.168.57.11]
2024-11-14 01:55:23,330 p=12029 u=root n=ansible | changed: [192.168.57.12]
2024-11-14 01:55:23,341 p=12029 u=root n=ansible | TASK [haproxy_lb : Install packages] *************************************************************************************************************************
2024-11-14 01:55:30,272 p=12029 u=root n=ansible | changed: [192.168.57.11]
2024-11-14 01:55:31,437 p=12029 u=root n=ansible | changed: [192.168.57.12]
2024-11-14 01:55:31,452 p=12029 u=root n=ansible | TASK [haproxy_lb : Template the HAProxy configuration file] **************************************************************************************************
2024-11-14 01:55:34,412 p=12029 u=root n=ansible | changed: [192.168.57.12]
2024-11-14 01:55:34,627 p=12029 u=root n=ansible | changed: [192.168.57.11]
2024-11-14 01:55:34,638 p=12029 u=root n=ansible | TASK [haproxy_lb : Template the keepalive.d configuration file] **********************************************************************************************
2024-11-14 01:55:37,527 p=12029 u=root n=ansible | changed: [192.168.57.12]
2024-11-14 01:55:37,802 p=12029 u=root n=ansible | changed: [192.168.57.11]
2024-11-14 01:55:37,817 p=12029 u=root n=ansible | TASK [haproxy_lb : Start haproxy] ****************************************************************************************************************************
2024-11-14 01:55:39,747 p=12029 u=root n=ansible | changed: [192.168.57.12]
2024-11-14 01:55:40,916 p=12029 u=root n=ansible | changed: [192.168.57.11]
2024-11-14 01:55:40,928 p=12029 u=root n=ansible | TASK [haproxy_lb : Start keepalive.d] ************************************************************************************************************************
2024-11-14 01:55:42,687 p=12029 u=root n=ansible | changed: [192.168.57.12]
2024-11-14 01:55:42,833 p=12029 u=root n=ansible | changed: [192.168.57.11]
2024-11-14 01:55:42,855 p=12029 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2024-11-14 01:55:42,856 p=12029 u=root n=ansible | 192.168.57.11              : ok=10   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 01:55:42,856 p=12029 u=root n=ansible | 192.168.57.12              : ok=10   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 01:55:44,407 p=12203 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************
2024-11-14 01:55:44,414 p=12203 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:55:46,659 p=12203 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 01:55:46,678 p=12203 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 01:55:46,786 p=12203 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 01:55:46,909 p=12203 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 01:55:46,958 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:55:48,811 p=12203 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 01:55:48,825 p=12203 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************************
2024-11-14 01:55:48,860 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:55:48,870 p=12203 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************************
2024-11-14 01:55:48,882 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:55:48,892 p=12203 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************************
2024-11-14 01:55:48,896 p=12203 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 01:55:50,886 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:55:50,901 p=12203 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************************
2024-11-14 01:55:50,950 p=12203 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-14 01:55:50,976 p=12203 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 01:55:50,984 p=12203 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 01:55:50,992 p=12203 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 01:55:50,999 p=12203 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-14 01:55:51,016 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:55:51,022 p=12203 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-14 01:55:51,047 p=12203 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 01:55:51,055 p=12203 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-14 01:55:55,488 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:55:55,495 p=12203 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-14 01:55:57,286 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:55:57,295 p=12203 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************************
2024-11-14 01:55:59,489 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:55:59,499 p=12203 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************************
2024-11-14 01:56:05,430 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:05,443 p=12203 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-14 01:56:07,985 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:08,000 p=12203 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-14 01:56:09,805 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:09,815 p=12203 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-14 01:56:13,477 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:13,488 p=12203 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-14 01:56:31,538 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:31,545 p=12203 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-14 01:56:33,281 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 01:56:34,886 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 01:56:36,870 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 01:56:36,883 p=12203 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************************
2024-11-14 01:56:38,926 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:38,939 p=12203 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************************
2024-11-14 01:56:42,378 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:42,392 p=12203 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************************
2024-11-14 01:56:44,126 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:44,135 p=12203 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************************
2024-11-14 01:56:46,364 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:46,373 p=12203 u=root n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************************
2024-11-14 01:56:46,388 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:56:46,394 p=12203 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-14 01:56:48,149 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:56:48,158 p=12203 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-14 01:56:50,019 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:56:50,034 p=12203 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-14 01:56:51,870 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:51,882 p=12203 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************************
2024-11-14 01:56:53,839 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:56:53,853 p=12203 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-14 01:56:56,759 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:56:56,767 p=12203 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-14 01:56:58,619 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 01:57:00,561 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 01:57:02,405 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 01:57:02,418 p=12203 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-14 01:57:04,508 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:57:04,525 p=12203 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-14 01:57:04,558 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:57:04,565 p=12203 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-14 01:57:04,584 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:57:04,595 p=12203 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-14 01:57:04,622 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:57:04,627 p=12203 u=root n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************************
2024-11-14 01:57:06,363 p=12203 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 01:57:06,371 p=12203 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-14 01:57:06,393 p=12203 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 01:57:06,401 p=12203 u=root n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************************
2024-11-14 01:57:06,413 p=12203 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 01:57:06,417 p=12203 u=root n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************
2024-11-14 01:58:37,866 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:58:37,872 p=12203 u=root n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************
2024-11-14 01:58:39,345 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:58:39,358 p=12203 u=root n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************
2024-11-14 01:58:40,984 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:58:40,994 p=12203 u=root n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************
2024-11-14 01:58:43,810 p=12203 u=root n=ansible | changed: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml)
2024-11-14 01:58:43,821 p=12203 u=root n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************
2024-11-14 01:58:45,950 p=12203 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 01:58:45,959 p=12203 u=root n=ansible | TASK [k8s : Ensure /run/flannel/subnet.env file exists with correct content] *********************************************************************************
2024-11-14 01:58:49,137 p=12203 u=root n=ansible | fatal: [192.168.57.13]: FAILED! => {"changed": false, "checksum": "3af5bb97e71263227dff364927d3ec78fcf9283c", "msg": "Destination directory /run/flannel does not exist"}
2024-11-14 01:58:49,139 p=12203 u=root n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2024-11-14 01:58:49,140 p=12203 u=root n=ansible | 192.168.57.13              : ok=37   changed=21   unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2024-11-14 01:58:49,140 p=12203 u=root n=ansible | 192.168.57.14              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 01:58:49,141 p=12203 u=root n=ansible | 192.168.57.15              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 01:58:49,141 p=12203 u=root n=ansible | 192.168.57.16              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 01:58:49,142 p=12203 u=root n=ansible | 192.168.57.17              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 01:58:49,143 p=12203 u=root n=ansible | 192.168.57.18              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-11-14 02:01:21,289 p=12635 u=root n=ansible | PLAY [Gather facts and set bootstrap variable] ***************************************************************************************************************
2024-11-14 02:01:21,311 p=12635 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 02:01:23,535 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:01:23,545 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:01:23,756 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:01:23,765 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:24,829 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:01:25,678 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:01:25,693 p=12635 u=root n=ansible | TASK [Set cacheable fact for the first controller node] ******************************************************************************************************
2024-11-14 02:01:25,730 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:25,738 p=12635 u=root n=ansible | TASK [Add the bootstrap host to a group] *********************************************************************************************************************
2024-11-14 02:01:25,749 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:01:25,759 p=12635 u=root n=ansible | PLAY [Bootstrap controller] **********************************************************************************************************************************
2024-11-14 02:01:25,764 p=12635 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 02:01:27,654 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:27,662 p=12635 u=root n=ansible | TASK [Bootstrap actions] *************************************************************************************************************************************
2024-11-14 02:01:27,707 p=12635 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-14 02:01:27,733 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 02:01:27,737 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:01:27,740 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:01:27,750 p=12635 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-14 02:01:27,763 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:27,770 p=12635 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-14 02:01:27,799 p=12635 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13
2024-11-14 02:01:27,811 p=12635 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-14 02:01:32,646 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:32,658 p=12635 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-14 02:01:34,257 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:34,270 p=12635 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************************
2024-11-14 02:01:36,420 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:36,434 p=12635 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************************
2024-11-14 02:01:38,134 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:38,144 p=12635 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-14 02:01:39,920 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:39,934 p=12635 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-14 02:01:41,422 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:41,432 p=12635 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-14 02:01:44,016 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:44,031 p=12635 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-14 02:01:47,026 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:47,040 p=12635 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-14 02:01:48,656 p=12635 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 02:01:50,097 p=12635 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 02:01:51,674 p=12635 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 02:01:51,688 p=12635 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************************
2024-11-14 02:01:53,296 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:01:53,311 p=12635 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************************
2024-11-14 02:01:56,376 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:01:56,390 p=12635 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************************
2024-11-14 02:01:58,124 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:01:58,142 p=12635 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************************
2024-11-14 02:01:58,157 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:01:58,168 p=12635 u=root n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************************
2024-11-14 02:01:58,186 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:58,192 p=12635 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-14 02:01:59,831 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:01:59,843 p=12635 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-14 02:02:01,406 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:01,422 p=12635 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-14 02:02:03,090 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:03,101 p=12635 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************************
2024-11-14 02:02:04,909 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:04,918 p=12635 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-14 02:02:07,401 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:07,411 p=12635 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-14 02:02:09,080 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:02:10,561 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:02:11,962 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:02:11,981 p=12635 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-14 02:02:13,956 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:13,973 p=12635 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-14 02:02:13,992 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:13,998 p=12635 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-14 02:02:14,016 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:14,024 p=12635 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-14 02:02:14,041 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:14,048 p=12635 u=root n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************************
2024-11-14 02:02:15,753 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:15,766 p=12635 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-14 02:02:15,790 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:02:15,801 p=12635 u=root n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************************
2024-11-14 02:02:15,822 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:02:15,831 p=12635 u=root n=ansible | TASK [k8s : Run kubeadm init if and only if bootstrap facts not present] *************************************************************************************
2024-11-14 02:02:15,878 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:02:15,922 p=12635 u=root n=ansible | TASK [k8s : Add KUBECONFIG to root's bashrc] *****************************************************************************************************************
2024-11-14 02:02:17,458 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:17,473 p=12635 u=root n=ansible | TASK [k8s : Ensure /opt/k8s_deploy/plugins directory exists with correct permissions] ************************************************************************
2024-11-14 02:02:19,108 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:19,123 p=12635 u=root n=ansible | TASK [k8s : Copy plugin files from the role's files directory to /opt/k8s_deploy/plugins] ********************************************************************
2024-11-14 02:02:21,754 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=/vagrant/ansible/playbooks/roles/k8s/files/plugins/01_flannel.yml)
2024-11-14 02:02:21,769 p=12635 u=root n=ansible | TASK [k8s : Apply all YAML files in /opt/k8s_deploy/plugins using kubectl] ***********************************************************************************
2024-11-14 02:02:24,063 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:02:24,082 p=12635 u=root n=ansible | TASK [k8s : Ensure /run/flannel directory exists] ************************************************************************************************************
2024-11-14 02:02:25,762 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:25,775 p=12635 u=root n=ansible | TASK [k8s : Ensure /run/flannel/subnet.env file exists with correct content] *********************************************************************************
2024-11-14 02:02:28,416 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:28,429 p=12635 u=root n=ansible | TASK [k8s : Set and cache join_token fact] *******************************************************************************************************************
2024-11-14 02:02:30,212 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:30,222 p=12635 u=root n=ansible | TASK [k8s : Cache join_token] ********************************************************************************************************************************
2024-11-14 02:02:30,248 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:30,258 p=12635 u=root n=ansible | TASK [k8s : Set and cache cert_hash fact] ********************************************************************************************************************
2024-11-14 02:02:31,814 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:31,823 p=12635 u=root n=ansible | TASK [k8s : Cache cert_hash] *********************************************************************************************************************************
2024-11-14 02:02:31,848 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:31,853 p=12635 u=root n=ansible | TASK [k8s : Set and cache cert_key fact] *********************************************************************************************************************
2024-11-14 02:02:33,558 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:33,566 p=12635 u=root n=ansible | TASK [k8s : Cache cert_key] **********************************************************************************************************************************
2024-11-14 02:02:33,583 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:33,591 p=12635 u=root n=ansible | PLAY [Sync actions] ******************************************************************************************************************************************
2024-11-14 02:02:33,596 p=12635 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 02:02:35,447 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:35,599 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:35,776 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:35,837 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:35,973 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:37,664 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:37,672 p=12635 u=root n=ansible | TASK [Sync facts] ********************************************************************************************************************************************
2024-11-14 02:02:37,751 p=12635 u=root n=ansible | TASK [k8s : Set join_token fact] *****************************************************************************************************************************
2024-11-14 02:02:37,776 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:02:37,814 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:37,818 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:37,836 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:37,837 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:37,841 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:37,847 p=12635 u=root n=ansible | TASK [k8s : Set cert_hash fact] ******************************************************************************************************************************
2024-11-14 02:02:37,888 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:02:37,907 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:37,909 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:37,923 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:37,933 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:37,936 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:37,941 p=12635 u=root n=ansible | TASK [k8s : Set cert_key fact] *******************************************************************************************************************************
2024-11-14 02:02:37,972 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:02:38,017 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:38,025 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:38,029 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:38,030 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:38,042 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:38,055 p=12635 u=root n=ansible | PLAY [Join to cluster] ***************************************************************************************************************************************
2024-11-14 02:02:38,061 p=12635 u=root n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2024-11-14 02:02:39,803 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:39,851 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:39,913 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:40,053 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:41,375 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:41,912 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:41,923 p=12635 u=root n=ansible | TASK [Deploy k8s cluster] ************************************************************************************************************************************
2024-11-14 02:02:42,031 p=12635 u=root n=ansible | TASK [k8s : Include vars if file exists] *********************************************************************************************************************
2024-11-14 02:02:42,075 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=linux/default.yml)
2024-11-14 02:02:42,075 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:02:42,181 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:02:42,198 p=12635 u=root n=ansible | ok: [192.168.57.14] => (item=linux/default.yml)
2024-11-14 02:02:42,199 p=12635 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:02:42,202 p=12635 u=root n=ansible | ok: [192.168.57.14] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:02:42,207 p=12635 u=root n=ansible | ok: [192.168.57.15] => (item=linux/default.yml)
2024-11-14 02:02:42,208 p=12635 u=root n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:02:42,208 p=12635 u=root n=ansible | ok: [192.168.57.15] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:02:42,209 p=12635 u=root n=ansible | ok: [192.168.57.17] => (item=linux/default.yml)
2024-11-14 02:02:42,209 p=12635 u=root n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:02:42,210 p=12635 u=root n=ansible | ok: [192.168.57.17] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:02:42,211 p=12635 u=root n=ansible | ok: [192.168.57.16] => (item=linux/default.yml)
2024-11-14 02:02:42,212 p=12635 u=root n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:02:42,216 p=12635 u=root n=ansible | ok: [192.168.57.16] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:02:42,221 p=12635 u=root n=ansible | ok: [192.168.57.18] => (item=linux/default.yml)
2024-11-14 02:02:42,226 p=12635 u=root n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/default.yml)
2024-11-14 02:02:42,228 p=12635 u=root n=ansible | ok: [192.168.57.18] => (item=linux/Ubuntu/22.04.yml)
2024-11-14 02:02:42,234 p=12635 u=root n=ansible | TASK [k8s : Check if the OS is Ubuntu] ***********************************************************************************************************************
2024-11-14 02:02:42,263 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:42,296 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:42,297 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:42,297 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:42,300 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:42,305 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:42,312 p=12635 u=root n=ansible | TASK [k8s : Include Ubuntu tasks] ****************************************************************************************************************************
2024-11-14 02:02:42,440 p=12635 u=root n=ansible | included: /vagrant/ansible/playbooks/roles/k8s/tasks/linux/Ubuntu/main.yml for 192.168.57.13, 192.168.57.14, 192.168.57.15, 192.168.57.16, 192.168.57.17, 192.168.57.18
2024-11-14 02:02:42,497 p=12635 u=root n=ansible | TASK [k8s : Ensure GPG package is installed] *****************************************************************************************************************
2024-11-14 02:02:45,811 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:46,061 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:46,089 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:46,474 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:47,415 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:48,953 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:48,965 p=12635 u=root n=ansible | TASK [k8s : Ensure /etc/apt/keyrings directory exists] *******************************************************************************************************
2024-11-14 02:02:50,400 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:02:50,428 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:50,442 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:02:50,474 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:02:50,517 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:02:51,903 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:02:51,920 p=12635 u=root n=ansible | TASK [k8s : Add Docker GPG key] ******************************************************************************************************************************
2024-11-14 02:02:53,869 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:02:54,000 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:02:54,063 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:02:54,075 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:02:54,222 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:02:56,001 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:02:56,012 p=12635 u=root n=ansible | TASK [k8s : Add Docker repository] ***************************************************************************************************************************
2024-11-14 02:02:57,622 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:03:02,469 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:03:02,869 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:03:03,533 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:03:03,535 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:03:04,702 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:03:04,714 p=12635 u=root n=ansible | TASK [k8s : Download Kubernetes GPG key and save it as a keyring] ********************************************************************************************
2024-11-14 02:03:06,387 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:03:06,475 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:03:06,508 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:03:06,545 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:03:06,790 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:03:08,308 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:03:08,318 p=12635 u=root n=ansible | TASK [k8s : Convert GPG key to keyring format] ***************************************************************************************************************
2024-11-14 02:03:09,683 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:03:09,771 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:03:09,776 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:03:09,795 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:03:09,999 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:03:11,192 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:03:11,207 p=12635 u=root n=ansible | TASK [k8s : Add Kubernetes repository to APT sources] ********************************************************************************************************
2024-11-14 02:03:13,385 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:03:13,776 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:03:13,865 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:03:14,060 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:03:14,191 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:03:16,221 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:03:16,231 p=12635 u=root n=ansible | TASK [k8s : Install packages] ********************************************************************************************************************************
2024-11-14 02:03:19,813 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:03:47,895 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:03:48,016 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:03:49,308 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:03:49,411 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:03:49,436 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:03:49,448 p=12635 u=root n=ansible | TASK [k8s : Hold the kubelet, kubeadm, and kubectl packages] *************************************************************************************************
2024-11-14 02:03:53,654 p=12635 u=root n=ansible | changed: [192.168.57.14] => (item=kubelet)
2024-11-14 02:03:53,655 p=12635 u=root n=ansible | changed: [192.168.57.16] => (item=kubelet)
2024-11-14 02:03:53,657 p=12635 u=root n=ansible | changed: [192.168.57.15] => (item=kubelet)
2024-11-14 02:03:53,657 p=12635 u=root n=ansible | changed: [192.168.57.17] => (item=kubelet)
2024-11-14 02:03:53,660 p=12635 u=root n=ansible | changed: [192.168.57.13] => (item=kubelet)
2024-11-14 02:03:53,661 p=12635 u=root n=ansible | changed: [192.168.57.14] => (item=kubeadm)
2024-11-14 02:03:53,661 p=12635 u=root n=ansible | changed: [192.168.57.15] => (item=kubeadm)
2024-11-14 02:03:53,662 p=12635 u=root n=ansible | changed: [192.168.57.16] => (item=kubeadm)
2024-11-14 02:03:53,662 p=12635 u=root n=ansible | changed: [192.168.57.17] => (item=kubeadm)
2024-11-14 02:03:53,663 p=12635 u=root n=ansible | changed: [192.168.57.13] => (item=kubeadm)
2024-11-14 02:03:53,663 p=12635 u=root n=ansible | changed: [192.168.57.14] => (item=kubectl)
2024-11-14 02:03:53,721 p=12635 u=root n=ansible | changed: [192.168.57.15] => (item=kubectl)
2024-11-14 02:03:53,811 p=12635 u=root n=ansible | changed: [192.168.57.17] => (item=kubectl)
2024-11-14 02:03:53,848 p=12635 u=root n=ansible | changed: [192.168.57.16] => (item=kubectl)
2024-11-14 02:03:54,033 p=12635 u=root n=ansible | changed: [192.168.57.13] => (item=kubectl)
2024-11-14 02:03:55,425 p=12635 u=root n=ansible | changed: [192.168.57.18] => (item=kubelet)
2024-11-14 02:03:57,232 p=12635 u=root n=ansible | changed: [192.168.57.18] => (item=kubeadm)
2024-11-14 02:03:59,075 p=12635 u=root n=ansible | changed: [192.168.57.18] => (item=kubectl)
2024-11-14 02:03:59,084 p=12635 u=root n=ansible | TASK [k8s : Generate the default containerd config and save it to a file] ************************************************************************************
2024-11-14 02:04:00,622 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:00,624 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:00,625 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:00,626 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:04:00,635 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:02,502 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:02,516 p=12635 u=root n=ansible | TASK [k8s : Save the containerd config to /etc/containerd/config.toml] ***************************************************************************************
2024-11-14 02:04:05,235 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:05,241 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:05,273 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:05,280 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:04:05,281 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:08,547 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:08,561 p=12635 u=root n=ansible | TASK [k8s : Update SystemdCgroup in containerd config] *******************************************************************************************************
2024-11-14 02:04:09,985 p=12635 u=root n=ansible | changed: [192.168.57.13]
2024-11-14 02:04:10,003 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:10,019 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:10,026 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:10,030 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:11,829 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:11,847 p=12635 u=root n=ansible | TASK [k8s : Restart containerd service] **********************************************************************************************************************
2024-11-14 02:04:11,875 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:04:13,454 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:13,482 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:13,537 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:13,565 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:13,582 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:13,593 p=12635 u=root n=ansible | TASK [k8s : Set fact to indicate containerd was restarted] ***************************************************************************************************
2024-11-14 02:04:13,640 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:13,651 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:13,662 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:13,673 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:13,677 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:13,680 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:13,685 p=12635 u=root n=ansible | TASK [k8s : Ensure swap is turned off] ***********************************************************************************************************************
2024-11-14 02:04:15,121 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:15,148 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:15,195 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:15,232 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:15,244 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:17,044 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:17,064 p=12635 u=root n=ansible | TASK [k8s : Ensure swap is disabled in /etc/fstab] ***********************************************************************************************************
2024-11-14 02:04:18,461 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:18,477 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:18,495 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:18,502 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:18,524 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:20,218 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:20,238 p=12635 u=root n=ansible | TASK [k8s : Load the br_netfilter module] ********************************************************************************************************************
2024-11-14 02:04:21,654 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:21,661 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:21,670 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:21,806 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:21,808 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:23,210 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:23,218 p=12635 u=root n=ansible | TASK [k8s : Load the overlay module] *************************************************************************************************************************
2024-11-14 02:04:24,721 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:24,723 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:24,728 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:24,760 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:24,835 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:26,386 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:26,401 p=12635 u=root n=ansible | TASK [k8s : Persist br_netfilter module in /etc/modules-load.d/k8s.conf] *************************************************************************************
2024-11-14 02:04:28,506 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:28,884 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:28,993 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:29,103 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:29,113 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:31,636 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:31,645 p=12635 u=root n=ansible | TASK [k8s : Set sysctl parameters for Kubernetes networking] *************************************************************************************************
2024-11-14 02:04:35,886 p=12635 u=root n=ansible | changed: [192.168.57.14] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:04:35,887 p=12635 u=root n=ansible | changed: [192.168.57.17] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:04:35,897 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:04:35,898 p=12635 u=root n=ansible | changed: [192.168.57.16] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:04:35,899 p=12635 u=root n=ansible | changed: [192.168.57.15] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:04:35,899 p=12635 u=root n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:04:35,899 p=12635 u=root n=ansible | changed: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:04:35,900 p=12635 u=root n=ansible | changed: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:04:35,900 p=12635 u=root n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:04:35,901 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:04:35,901 p=12635 u=root n=ansible | changed: [192.168.57.14] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:04:35,971 p=12635 u=root n=ansible | changed: [192.168.57.17] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:04:36,017 p=12635 u=root n=ansible | changed: [192.168.57.16] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:04:36,774 p=12635 u=root n=ansible | changed: [192.168.57.15] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:04:36,891 p=12635 u=root n=ansible | ok: [192.168.57.13] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:04:37,375 p=12635 u=root n=ansible | changed: [192.168.57.18] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2024-11-14 02:04:39,038 p=12635 u=root n=ansible | changed: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2024-11-14 02:04:40,813 p=12635 u=root n=ansible | changed: [192.168.57.18] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2024-11-14 02:04:40,824 p=12635 u=root n=ansible | TASK [k8s : Ensure kubelet service is enabled and started] ***************************************************************************************************
2024-11-14 02:04:42,408 p=12635 u=root n=ansible | changed: [192.168.57.14]
2024-11-14 02:04:42,455 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:04:42,461 p=12635 u=root n=ansible | changed: [192.168.57.17]
2024-11-14 02:04:42,528 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:42,742 p=12635 u=root n=ansible | changed: [192.168.57.16]
2024-11-14 02:04:44,384 p=12635 u=root n=ansible | changed: [192.168.57.18]
2024-11-14 02:04:44,398 p=12635 u=root n=ansible | TASK [k8s : Set controller nodes facts] **********************************************************************************************************************
2024-11-14 02:04:44,470 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:44,498 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:44,513 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:44,532 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:44,534 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:44,546 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:44,552 p=12635 u=root n=ansible | TASK [k8s : Set computer node facts] *************************************************************************************************************************
2024-11-14 02:04:44,632 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:44,649 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:44,660 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:44,668 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:44,675 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:44,689 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:44,697 p=12635 u=root n=ansible | TASK [k8s : Determine the IP address for the target interface] ***********************************************************************************************
2024-11-14 02:04:44,735 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:44,748 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:44,757 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:44,758 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:44,764 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:44,779 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:44,786 p=12635 u=root n=ansible | TASK [k8s : Check if the admin file exists] ******************************************************************************************************************
2024-11-14 02:04:46,169 p=12635 u=root n=ansible | ok: [192.168.57.14]
2024-11-14 02:04:46,171 p=12635 u=root n=ansible | ok: [192.168.57.15]
2024-11-14 02:04:46,228 p=12635 u=root n=ansible | ok: [192.168.57.16]
2024-11-14 02:04:46,228 p=12635 u=root n=ansible | ok: [192.168.57.13]
2024-11-14 02:04:46,317 p=12635 u=root n=ansible | ok: [192.168.57.17]
2024-11-14 02:04:47,891 p=12635 u=root n=ansible | ok: [192.168.57.18]
2024-11-14 02:04:47,906 p=12635 u=root n=ansible | TASK [k8s : Run join controllers to cluster] *****************************************************************************************************************
2024-11-14 02:04:47,928 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:04:47,972 p=12635 u=root n=ansible | skipping: [192.168.57.17]
2024-11-14 02:04:47,980 p=12635 u=root n=ansible | skipping: [192.168.57.18]
2024-11-14 02:04:47,980 p=12635 u=root n=ansible | skipping: [192.168.57.16]
2024-11-14 02:05:10,169 p=12635 u=root n=ansible | changed: [192.168.57.15]
2024-11-14 02:07:15,284 p=12635 u=root n=ansible | fatal: [192.168.57.14]: FAILED! => {"changed": true, "cmd": "kubeadm join 192.168.57.201:6443  --control-plane  --apiserver-advertise-address 192.168.57.14  --token abcdef.0123456789abcdef  --discovery-token-ca-cert-hash sha256:fc475ea7d7ff590af760c280b6cf8f1d62fda012458be093299dfe3f9f5bf3b7  --certificate-key f6a0da76473198cf3cc7fb4bddc3981be269536b1592b2b0c30b98efc99e5bb9\n", "delta": "0:02:25.180401", "end": "2024-11-14 02:07:16.775008", "msg": "non-zero return code", "rc": 1, "start": "2024-11-14 02:04:51.594607", "stderr": "W1114 02:04:51.730947   23448 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:12.689522Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:13.189401Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:13.688259Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:14.200201Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:14.695107Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:15.187863Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:15.689107Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:16.187557Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:16.759187Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:17.250361Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:17.75264Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:18.261009Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:18.751195Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:19.250077Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:21.749044Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:23.749995Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:25.751752Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:27.753012Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:29.754286Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:31.754855Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:33.755881Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:35.756386Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:37.756913Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:39.757438Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:39.760604Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:40.263536Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:40.75932Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:41.249823Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:41.751309Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:42.250601Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:42.751057Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:43.252092Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:43.752819Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:44.251356Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:44.757063Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:45.251943Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:45.757816Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:46.269778Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:46.760211Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:47.264498Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:47.759862Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:48.252202Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:48.755263Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:49.250665Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:49.756727Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:50.253126Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:50.755442Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:51.253921Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:51.756468Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:52.257577Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:52.753527Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:53.253725Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:53.754321Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:54.26808Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:54.755512Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:55.253299Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:55.751447Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:56.254187Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:56.753823Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:57.252894Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:57.754806Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:58.261159Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:58.755203Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:59.254751Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:59.759164Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:00.259087Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:00.757255Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:01.255026Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:01.752921Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:02.255372Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:02.757822Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:03.258782Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:03.754261Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:04.252219Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:04.753998Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:05.252871Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:05.754421Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:06.251738Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:06.75597Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:07.254704Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:07.754119Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:08.266737Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:08.761606Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:09.253503Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:09.753549Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:10.253832Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:10.754936Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:11.255617Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:11.754178Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:12.252652Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:12.754561Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:13.26355Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:13.75211Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:14.256309Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:14.756036Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:15.252617Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:15.755464Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:16.252902Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:16.758068Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:17.256955Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:17.753173Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:18.252007Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:18.755035Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:19.25479Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:19.754579Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:20.25346Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:20.759475Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:21.253737Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:21.762698Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:22.259615Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:22.754038Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:23.25435Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:23.756788Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:24.252534Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:24.752133Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:25.255442Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:25.753424Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:26.252755Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:26.765258Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:27.254633Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:27.755947Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:28.253735Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:28.751417Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:29.258019Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:29.752664Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:30.254327Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:30.754096Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:31.254152Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:31.756051Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:32.25555Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:32.753464Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:33.253804Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:33.753507Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:34.267801Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:34.759575Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:35.257042Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:35.75325Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:36.251686Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:36.755227Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:37.260959Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:37.751552Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:38.255114Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:38.757008Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:39.253338Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:39.754099Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:40.253455Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:40.752095Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:41.257768Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:41.75314Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:42.25341Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:42.753505Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:43.25392Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:43.758327Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:44.254004Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:44.759387Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:45.254407Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:45.75457Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:46.254306Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:46.752143Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:47.263616Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:47.76584Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:48.258109Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:48.755439Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:49.252695Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:49.753035Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:50.255591Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:50.754371Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:51.255161Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:51.754883Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:52.253495Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:52.75198Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:53.254967Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:53.753458Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:54.254565Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:54.752382Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:55.253333Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:55.752328Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:56.252805Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:56.752728Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:57.253573Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:57.757506Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:58.254568Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:58.753014Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:59.260059Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:59.7532Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:00.253165Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:00.753807Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:01.25235Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:01.751488Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:02.252886Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:02.754093Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:03.251512Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:03.753931Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:04.252565Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:04.751468Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:05.25743Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:05.752517Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:06.251899Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:06.753596Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:07.253628Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:07.757286Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:08.256413Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:08.752598Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:09.252683Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:09.762118Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:10.259775Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:10.754057Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:11.254748Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:11.753262Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:12.25171Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:12.753427Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:13.254764Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:13.754119Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:14.253565Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:14.754999Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:15.268165Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:15.755126Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:16.256604Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\n{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:16.766689Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}\nerror execution phase control-plane-join/etcd: error creating local etcd static pod manifest file: etcdserver: can only promote a learner member\nTo see the stack trace of this error execute with --v=5 or higher", "stderr_lines": ["W1114 02:04:51.730947   23448 checks.go:846] detected that the sandbox image \"registry.k8s.io/pause:3.8\" of the container runtime is inconsistent with that used by kubeadm.It is recommended to use \"registry.k8s.io/pause:3.10\" as the CRI sandbox image.", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:12.689522Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:13.189401Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:13.688259Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:14.200201Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:14.695107Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:15.187863Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:15.689107Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:16.187557Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0004143c0/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = Unavailable desc = etcdserver: unhealthy cluster\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:16.759187Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:17.250361Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:17.75264Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:18.261009Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:18.751195Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:19.250077Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:21.749044Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:23.749995Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:25.751752Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:27.753012Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:29.754286Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:31.754855Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:33.755881Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:35.756386Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:37.756913Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:39.757438Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:39.760604Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:40.263536Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:40.75932Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:41.249823Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:41.751309Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:42.250601Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:42.751057Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:43.252092Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:43.752819Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member which is in sync with leader\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:44.251356Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:44.757063Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:45.251943Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:45.757816Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:46.269778Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:46.760211Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:47.264498Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:47.759862Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:48.252202Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:48.755263Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:49.250665Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:49.756727Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:50.253126Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:50.755442Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:51.253921Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:51.756468Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:52.257577Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:52.753527Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:53.253725Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:53.754321Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:54.26808Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:54.755512Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:55.253299Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:55.751447Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:56.254187Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:56.753823Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:57.252894Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:57.754806Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:58.261159Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:58.755203Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:59.254751Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:05:59.759164Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:00.259087Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:00.757255Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:01.255026Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:01.752921Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:02.255372Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:02.757822Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:03.258782Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:03.754261Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:04.252219Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:04.753998Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:05.252871Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:05.754421Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:06.251738Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:06.75597Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:07.254704Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:07.754119Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:08.266737Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:08.761606Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:09.253503Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:09.753549Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:10.253832Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:10.754936Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:11.255617Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:11.754178Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:12.252652Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:12.754561Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:13.26355Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:13.75211Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:14.256309Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:14.756036Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:15.252617Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:15.755464Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:16.252902Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:16.758068Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:17.256955Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:17.753173Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:18.252007Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:18.755035Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:19.25479Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:19.754579Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:20.25346Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:20.759475Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:21.253737Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:21.762698Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:22.259615Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:22.754038Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:23.25435Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:23.756788Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:24.252534Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:24.752133Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:25.255442Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:25.753424Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:26.252755Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:26.765258Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:27.254633Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:27.755947Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:28.253735Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:28.751417Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:29.258019Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:29.752664Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:30.254327Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:30.754096Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:31.254152Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:31.756051Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:32.25555Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:32.753464Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:33.253804Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:33.753507Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:34.267801Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:34.759575Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:35.257042Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:35.75325Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:36.251686Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:36.755227Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:37.260959Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:37.751552Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:38.255114Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:38.757008Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:39.253338Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:39.754099Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:40.253455Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:40.752095Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:41.257768Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:41.75314Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:42.25341Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:42.753505Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:43.25392Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:43.758327Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:44.254004Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:44.759387Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:45.254407Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:45.75457Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:46.254306Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:46.752143Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:47.263616Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:47.76584Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:48.258109Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:48.755439Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:49.252695Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:49.753035Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:50.255591Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:50.754371Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:51.255161Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:51.754883Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:52.253495Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:52.75198Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:53.254967Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:53.753458Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:54.254565Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:54.752382Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:55.253333Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:55.752328Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:56.252805Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:56.752728Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:57.253573Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:57.757506Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:58.254568Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:58.753014Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:59.260059Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:06:59.7532Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:00.253165Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:00.753807Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:01.25235Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:01.751488Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:02.252886Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:02.754093Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:03.251512Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:03.753931Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:04.252565Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:04.751468Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:05.25743Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:05.752517Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:06.251899Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:06.753596Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:07.253628Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:07.757286Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:08.256413Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:08.752598Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:09.252683Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:09.762118Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:10.259775Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:10.754057Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:11.254748Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:11.753262Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:12.25171Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:12.753427Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:13.254764Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:13.754119Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:14.253565Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:14.754999Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:15.268165Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:15.755126Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:16.256604Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "{\"level\":\"warn\",\"ts\":\"2024-11-14T02:07:16.766689Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.14/retry_interceptor.go:63\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc0009f6000/192.168.57.13:2379\",\"attempt\":0,\"error\":\"rpc error: code = FailedPrecondition desc = etcdserver: can only promote a learner member\"}", "error execution phase control-plane-join/etcd: error creating local etcd static pod manifest file: etcdserver: can only promote a learner member", "To see the stack trace of this error execute with --v=5 or higher"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[preflight] Running pre-flight checks before initializing the new control plane instance\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action beforehand using 'kubeadm config images pull'\n[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace\n[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"\n[certs] Using certificateDir folder \"/etc/kubernetes/pki\"\n[certs] Generating \"apiserver\" certificate and key\n[certs] apiserver serving cert is signed for DNS names [kube-controller2 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.57.14 192.168.57.201]\n[certs] Generating \"apiserver-kubelet-client\" certificate and key\n[certs] Generating \"front-proxy-client\" certificate and key\n[certs] Generating \"etcd/server\" certificate and key\n[certs] etcd/server serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]\n[certs] Generating \"etcd/peer\" certificate and key\n[certs] etcd/peer serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]\n[certs] Generating \"etcd/healthcheck-client\" certificate and key\n[certs] Generating \"apiserver-etcd-client\" certificate and key\n[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"\n[certs] Using the existing \"sa\" key\n[kubeconfig] Generating kubeconfig files\n[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"\n[kubeconfig] Writing \"admin.conf\" kubeconfig file\n[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file\n[kubeconfig] Writing \"scheduler.conf\" kubeconfig file\n[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"\n[control-plane] Creating static Pod manifest for \"kube-apiserver\"\n[control-plane] Creating static Pod manifest for \"kube-controller-manager\"\n[control-plane] Creating static Pod manifest for \"kube-scheduler\"\n[check-etcd] Checking that the etcd cluster is healthy\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Starting the kubelet\n[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s\n[kubelet-check] The kubelet is healthy after 501.785839ms\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap\n[etcd] Announced new etcd member joining to the existing etcd cluster\n[etcd] Creating static Pod manifest for \"etcd\"", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[preflight] Running pre-flight checks before initializing the new control plane instance", "[preflight] Pulling images required for setting up a Kubernetes cluster", "[preflight] This might take a minute or two, depending on the speed of your internet connection", "[preflight] You can also perform this action beforehand using 'kubeadm config images pull'", "[download-certs] Downloading the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "[download-certs] Saving the certificates to the folder: \"/etc/kubernetes/pki\"", "[certs] Using certificateDir folder \"/etc/kubernetes/pki\"", "[certs] Generating \"apiserver\" certificate and key", "[certs] apiserver serving cert is signed for DNS names [kube-controller2 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.57.14 192.168.57.201]", "[certs] Generating \"apiserver-kubelet-client\" certificate and key", "[certs] Generating \"front-proxy-client\" certificate and key", "[certs] Generating \"etcd/server\" certificate and key", "[certs] etcd/server serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]", "[certs] Generating \"etcd/peer\" certificate and key", "[certs] etcd/peer serving cert is signed for DNS names [kube-controller2 localhost] and IPs [192.168.57.14 127.0.0.1 ::1]", "[certs] Generating \"etcd/healthcheck-client\" certificate and key", "[certs] Generating \"apiserver-etcd-client\" certificate and key", "[certs] Valid certificates and keys now exist in \"/etc/kubernetes/pki\"", "[certs] Using the existing \"sa\" key", "[kubeconfig] Generating kubeconfig files", "[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"", "[kubeconfig] Writing \"admin.conf\" kubeconfig file", "[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file", "[kubeconfig] Writing \"scheduler.conf\" kubeconfig file", "[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"", "[control-plane] Creating static Pod manifest for \"kube-apiserver\"", "[control-plane] Creating static Pod manifest for \"kube-controller-manager\"", "[control-plane] Creating static Pod manifest for \"kube-scheduler\"", "[check-etcd] Checking that the etcd cluster is healthy", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Starting the kubelet", "[kubelet-check] Waiting for a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s", "[kubelet-check] The kubelet is healthy after 501.785839ms", "[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap", "[etcd] Announced new etcd member joining to the existing etcd cluster", "[etcd] Creating static Pod manifest for \"etcd\""]}
2024-11-14 02:07:15,297 p=12635 u=root n=ansible | TASK [k8s : Run join compute to cluster] *********************************************************************************************************************
2024-11-14 02:07:15,319 p=12635 u=root n=ansible | skipping: [192.168.57.13]
2024-11-14 02:07:15,331 p=12635 u=root n=ansible | skipping: [192.168.57.15]
2024-11-14 02:07:32,894 p=12635 u=root n=ansible |  [ERROR]: User interrupted execution

